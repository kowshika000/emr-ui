"use strict";(self.webpackChunkemr_ui=self.webpackChunkemr_ui||[]).push([[9223],{26323:(e,a,t)=>{var l=t(50318),n=t.n(l),i=t(60775),r=t(23512),o=t(735),s=t(22235);const d=(0,l.createContext)({toggleColorMode:()=>{}});var c=t(81554),u=t(52724),p=(t(46442),t(7319)),m=t(27550),h=t(54587),x=t(45721),g=t(55316),v=t(22530),b=t(24392),j=t(70996),y=t.n(j);const f=y().create({baseURL:"http://ec2-13-49-23-128.eu-north-1.compute.amazonaws.com:8080/app/",headers:{"Content-Type":"application/json",Accept:"application/json"}}),C="auth/signin",S="admin/getAllBranches",N="doctorappointment/getAllAppointments",w="doctor/getAllDoctors",I="facility/getAllFacilitiesByBranchAndDate",D="timeslot/getAvailableSlotsForAllDoctors",T="facility/getAllFacilitySchedules",A="timeslot/getAvailableSlotsForAllFacilities",k="doctor/searchDoctors",P="facility/searchFacilities",B="patient/searchPatients",R="patient/patientRegistration",_="patient/patientRevisit",F="patient/patientEmergency",M="doctorappointment/bookAppointment",L="doctorappointment/getScheduleList",E="doctorappointment/rescheduleAppointment",O="doctorappointment/cancelAppointment",z=(0,b.createAsyncThunk)("auth/login",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await f.post(C,e)}catch(i){var l,n;return t((null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)||"Login Failed")}})),W=(0,b.createSlice)({name:"auth",initialState:{user:[],loading:!1,error:null},reducers:{logout:e=>{e.user=null,e.loading=!1,e.error=null,localStorage.removeItem("user"),localStorage.removeItem("rememberedUsername")}},extraReducers:e=>{e.addCase(z.pending,(e=>{e.loading=!0,e.error=null})).addCase(z.fulfilled,((e,a)=>{e.loading=!1,e.user=a.payload.data,localStorage.setItem("user",JSON.stringify(a.payload.data))})).addCase(z.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}),{logout:V}=W.actions,Y=W.reducer,H=(0,b.createAsyncThunk)("admin/branch",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await f.get(S,e)}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),q=(0,b.createSlice)({name:"allBranch",initialState:{data:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(H.pending,(e=>{e.loading=!0,e.error=null})).addCase(H.fulfilled,((e,a)=>{e.loading=!1,e.data=a.payload.data})).addCase(H.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer;var G=t(28339),U=t(44238),$=t(56723);const J=(0,r.connect)((e=>{var a,t,l,n,i,r,o,s,d,c;return{branchId:null===e||void 0===e||null===(a=e.auth)||void 0===a||null===(t=a.user)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.branchMaster.branchId,username:null===e||void 0===e||null===(n=e.auth)||void 0===n||null===(i=n.user)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.userName,role:null===e||void 0===e||null===(o=e.auth)||void 0===o||null===(s=o.user)||void 0===s||null===(d=s.data)||void 0===d||null===(c=d.roleMaster)||void 0===c?void 0:c.roleName}}))((e=>{var a,t;let{reloadApp:n,branchId:i,username:s,role:c}=e;const[u,b]=(0,l.useState)([]),[j,y]=(0,l.useState)(null),[f,C]=(0,l.useState)(null);(0,l.useEffect)((()=>{const e=localStorage.getItem("user");if(e){var a,t;const l=JSON.parse(e);y(l.data),C((null===(a=l.data)||void 0===a||null===(t=a.branchMaster)||void 0===t?void 0:t.branchId)||null),console.log("userData",l.data)}else console.log("No user data found in localStorage")}),[]);const S=window.location.href,N=(0,r.useDispatch)(),{data:w}=(0,r.useSelector)((e=>null===e||void 0===e?void 0:e.allBranch)),I=null===w||void 0===w?void 0:w.data,D=(0,p.useNavigate)();(0,l.useEffect)((()=>{null!==I&&void 0!==I&&I.length||N(H())}),[N,I]),(0,l.useEffect)((()=>{I&&b(I)}),[w]);const T=(0,o.useTheme)(),A=(0,l.useContext)(d),[k,P]=(0,l.useState)(!1),B=f?null===(a=u.find((e=>e.branchId===f)))||void 0===a?void 0:a.branchName:"Select Branch";return(0,$.jsxs)(o.Box,{id:"topbar",display:"flex",justifyContent:"space-between",p:2,padding:"5px 16px",height:"10%",sx:{backgroundColor:"#00748b"},children:[S.includes("secure")&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(o.Box,{display:"flex",my:"auto",gap:"10px",children:[(0,$.jsx)(o.Box,{alignSelf:"center",fontSize:"26px",color:"white",children:"E M R"}),(0,$.jsx)(o.IconButton,{onClick:()=>D("/secure/landing"),children:(0,$.jsx)(G.Menu,{sx:{color:"white"}})})]}),(0,$.jsxs)(o.Box,{display:"flex",my:"auto",gap:2,children:[(0,$.jsx)("div",{className:"my-auto ",children:(0,$.jsx)(o.Chip,{label:null===j||void 0===j||null===(t=j.roleMaster)||void 0===t?void 0:t.roleName,variant:"outlined",sx:{color:"white",fontSize:"12px"}})}),(0,$.jsxs)(o.Box,{alignSelf:"center",sx:{position:"relative",backgroundColor:"transparent",borderRadius:"5px",padding:"5px",cursor:"pointer"},children:[(0,$.jsx)(o.Box,{display:"flex",alignItems:"center",onClick:()=>P(!k),sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:(0,$.jsx)(o.Chip,{icon:(0,$.jsx)(U.A,{}),label:B,sx:{backgroundColor:"rgb(155, 211, 211)",color:"black",fontSize:"12px",textTransform:"capitalize","&:hover":{backgroundColor:"rgb(140, 200, 200)",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)",transform:"scale(1.05)"}}})}),k&&(0,$.jsx)(o.Box,{sx:{position:"absolute",top:"40px",left:"0",right:"0",backgroundColor:"rgb(155, 211, 211)",borderRadius:"5px",zIndex:1,minWidth:"140px",overflowY:"auto",color:"black"},children:u.map((e=>(0,$.jsx)(m.A,{onClick:()=>(e=>{C(e),P(!1)})(e.branchId),children:e.branchName},e.branchId)))})]}),(0,$.jsx)(o.IconButton,{onClick:A.toggleColorMode,children:"dark"===T.palette.mode?(0,$.jsx)(x.A,{sx:{color:"white"}}):(0,$.jsx)(h.A,{sx:{color:"white"}})}),(0,$.jsx)(o.IconButton,{children:(0,$.jsx)(g.A,{sx:{color:"white"}})}),(0,$.jsx)(o.IconButton,{sx:{margin:"0 10px"},onClick:()=>{N(V()),D("/login")},children:(0,$.jsx)(v.A,{sx:{color:"white"}})})]})]}),(0,$.jsx)($.Fragment,{})]})}));t(49154),t(92421);t(89661),t(23253);var K=t(28938);const Q=[{name:"Appointment",icon:(0,$.jsx)(K.gUT,{}),path:"/secure/appointment",color:"#6B8E23"},{name:"Registration",icon:(0,$.jsx)(K.NPy,{}),path:"/secure/registration",color:"#FFA500"},{name:"Doctor EMR",icon:(0,$.jsx)(K.ifA,{}),path:"/secure/doctorEmr",color:"#9932CC"},{name:"Nurse EMR",icon:(0,$.jsx)(K.U74,{}),path:"/secure/nurseEmr",color:"#A52A2A"},{name:"Billing",icon:(0,$.jsx)(K.xXS,{}),path:"/secure/billing/list",color:"#008080"},{name:"Report",icon:(0,$.jsx)(K.t69,{}),path:"/secure",color:"#FF6B6B"},{name:"IP EMR",icon:(0,$.jsx)(K.WfF,{}),path:"/secure/ipemr",color:"#4169E1"},{name:"Bed & Ward",icon:(0,$.jsx)(K.TiC,{}),path:"/secure/bedandward",color:"#A52A2A"},{name:"Laboratory",icon:(0,$.jsx)(K.XcJ,{}),path:"/secure/lab",color:"#32CD32"},{name:"Master",icon:(0,$.jsx)(K.kkc,{}),path:"/secure/master",color:"#FF6B6B"}],X=()=>{const e=(0,p.useNavigate)(),[a,t]=(0,l.useState)([]);return(0,l.useEffect)((()=>{const e=localStorage.getItem("user");if(e){var a,l;const n=JSON.parse(e),i=(null===n||void 0===n||null===(a=n.data)||void 0===a||null===(l=a.roleMaster)||void 0===l?void 0:l.roleName)||"";let r=[];r="Receptionist"===i?Q.filter((e=>"Appointment"===e.name||"Registration"===e.name||"Billing"===e.name||"Report"===e.name)):"Billing"===i?Q.filter((e=>"Billing"===e.name||"Report"===e.name)):Q,t(r)}}),[]),(0,$.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5",padding:"20px",width:"100%"},children:(0,$.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"20px",maxWidth:"900px",justifyContent:"center"},className:"mx-auto",children:a.length>0?a.map(((a,t)=>(0,$.jsxs)("div",{onClick:()=>e(a.path),style:{backgroundColor:a.color,width:"150px",height:"150px",borderRadius:"10px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",color:"white",fontSize:"18px",fontWeight:"bold",textAlign:"center",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)"},onMouseEnter:e=>e.currentTarget.style.transform="scale(1.1)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:[(0,$.jsx)("div",{style:{fontSize:"40px",marginBottom:"10px"},children:a.icon}),a.name]},t))):(0,$.jsx)("p",{children:"No modules available for your role"})})})},Z=e=>{let{children:a}=e;const[t,n]=(0,l.useState)(!0);window.location.href;return(0,$.jsxs)("div",{className:"app",children:[(0,$.jsx)(J,{setIsSidebar:n}),(0,$.jsx)("main",{className:"content",children:a})]})};var ee=t(21079),ae=t.n(ee);const te=e=>{const[a,t]=(0,l.useState)(),n=((0,p.useNavigate)(),(0,r.useSelector)((e=>{var a,t,l;return null===e||void 0===e||null===(a=e.auth)||void 0===a||null===(t=a.user)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.userName})),(0,r.useSelector)((e=>{var a;return null===e||void 0===e||null===(a=e.auth)||void 0===a?void 0:a.user}))),i=()=>{const e=localStorage.getItem("rememberedUsername");return!ae().isEmpty(e)},o=()=>!!n;(0,l.useEffect)((()=>{s()}),[n]);const s=()=>{const a=e.routes.map((async a=>await async function(a){let t=a.component;e.interceptor&&(t=await e.interceptor(a));return a.secure||!o()&&!i()?a.secure?o()||i()?(0,$.jsx)(p.Route,{path:a.path,exact:a.exact,element:(0,$.jsx)(Z,{children:(0,$.jsx)(t,{})})},a.path):(0,$.jsx)(p.Route,{path:"login",exact:a.exact,element:(0,$.jsx)(p.Navigate,{to:"/login"})},a.path):(0,$.jsx)(p.Route,{path:a.path,exact:a.exact,element:(0,$.jsx)(t,{})},a.path):(0,$.jsx)(p.Route,{path:a.path,exact:a.exact,element:(0,$.jsx)(p.Navigate,{to:"/secure/landing"})},a.path)}(a)));Promise.all(a).then((e=>{t(e)}))};return(0,$.jsx)(p.Routes,{children:a})},le=e=>{let{setShowForgotPage:a,setShowLoginPage:t,setShowSignup:n}=e;const[i,s]=(0,l.useState)({email:"",password:""}),[d,c]=(0,l.useState)({}),u=(0,r.useDispatch)(),{loading:p}=(0,r.useSelector)((e=>e.auth)),m=e=>a=>{s({...i,[e]:a.target.value}),c((a=>({...a,[e]:""})))};return(0,$.jsxs)("div",{children:[(0,$.jsx)("div",{className:"title",children:"Account Login"}),(0,$.jsx)("div",{className:"desc",children:"If you are already a member you can login with your email address and password."}),(0,$.jsxs)("form",{onSubmit:e=>{e.preventDefault();const a=(()=>{const e={};return i.email.trim()||(e.email="Email is required"),i.password||(e.password="Password is required"),e})();0===Object.keys(a).length?u(z(i)):c(a)},children:[(0,$.jsx)(o.TextField,{label:"Email Address",variant:"outlined",fullWidth:!0,margin:"normal",error:!!d.email,onChange:m("email"),size:"small"}),(0,$.jsx)(o.TextField,{label:"Password",type:"password",variant:"outlined",fullWidth:!0,margin:"normal",error:!!d.password,onChange:m("password"),size:"small"}),(0,$.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:[(0,$.jsx)(o.FormControlLabel,{control:(0,$.jsx)(o.Checkbox,{}),label:"Remember me"}),(0,$.jsx)("div",{style:{alignSelf:"center"},children:(0,$.jsx)("div",{onClick:()=>{t(!1),a(!0)},className:"forgot-password-link",children:"Forgot Password ?"})})]}),(0,$.jsx)(o.Button,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:p,children:p?(0,$.jsx)(o.CircularProgress,{size:24}):"Login"}),(0,$.jsxs)("div",{className:"signup-info",children:["Don't have an account ?\xa0",(0,$.jsx)("div",{onClick:()=>{n(!0),t(!1)},className:"signup-link",children:"Sign up here"})]})]})]})},ne=e=>{let{setShowLoginPage:a,setShowSignup:t}=e;return(0,$.jsxs)("div",{children:[(0,$.jsx)("h2",{children:"Register Account"}),(0,$.jsxs)("form",{children:[(0,$.jsx)(o.TextField,{label:"Email Address",variant:"outlined",fullWidth:!0,margin:"normal",size:"small"}),(0,$.jsx)(o.TextField,{label:"Phone Number",variant:"outlined",fullWidth:!0,margin:"normal",size:"small"}),(0,$.jsx)(o.TextField,{label:"Enter Password",variant:"outlined",fullWidth:!0,margin:"normal",size:"small"}),(0,$.jsx)(o.TextField,{label:"Confirm Password",variant:"outlined",fullWidth:!0,margin:"normal",size:"small"}),(0,$.jsx)("div",{className:"mt-2",children:(0,$.jsx)(o.Button,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Register"})})]}),(0,$.jsxs)("div",{className:"signup-info",children:["Already have an account ?\xa0",(0,$.jsx)("div",{onClick:()=>{a(!0),t(!1)},className:"signup-link",children:"Login"})]})]})},ie=e=>{let{setShowForgotPage:a,setShowLoginPage:t,setShowReset:n}=e;const[i,r]=(0,l.useState)({email:""}),[s,d]=(0,l.useState)({});return(0,$.jsxs)("div",{children:[(0,$.jsx)("h2",{children:"Forgot Password"}),(0,$.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=(()=>{let e={};return i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(e.email="Enter a valid email"):e.email="Email is required",e})();Object.keys(t).length>0?d(t):(console.log("Sending reset email to:",i.email),n(!0),a(!1))},children:[(0,$.jsx)(o.TextField,{label:"Email address",variant:"outlined",fullWidth:!0,margin:"normal",size:"small",error:!!s.email,value:i.email,onChange:e=>{r({email:e.target.value}),d((e=>({...e,email:""})))}}),(0,$.jsx)("div",{className:"mt-2",children:(0,$.jsx)(o.Button,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Send to Email"})})]}),(0,$.jsxs)("div",{className:"signup-info",children:["Back to\xa0",(0,$.jsx)("div",{onClick:()=>{t(!0),a(!1)},className:"signup-link",children:"Login"})]})]})},re=y().create({baseURL:"http://ec2-16-171-230-69.eu-north-1.compute.amazonaws.com:8080/",headers:{"Content-Type":"application/json"}});re.interceptors.request.use((e=>{const a=localStorage.getItem("branchId");if(a)if("get"===e.method){const t=new URL(e.url,e.baseURL);t.searchParams.append("branchId",parseInt(a)),e.url=t.pathname+t.search}else e.data?e.data={...e.data,branchId:a}:e.data={branchId:a};return e}),(e=>Promise.reject(e))),re.interceptors.response.use((e=>e),(e=>(console.error("API call error:",e),Promise.reject(e))));const oe=re,se=async(e,a)=>{console.log(a,"params");try{return(await oe.get(`${e}?doctorId=${null===a||void 0===a?void 0:a.doctorId}&ipOpFlag=${null===a||void 0===a?void 0:a.ipOpFlag}&context=${null===a||void 0===a?void 0:a.context}&page=${null===a||void 0===a?void 0:a.page}&size=${null===a||void 0===a?void 0:a.size}&ptName=${null===a||void 0===a?void 0:a.ptName}&status=${null===a||void 0===a?void 0:a.status}`)).data}catch(t){throw console.error("Error fetching doctor dashboard data:",t),t}},de=(0,l.createContext)(),ce=e=>{let{children:a}=e;const[t,n]=(0,l.useState)(!1);return(0,$.jsx)(de.Provider,{value:{loading:t,setLoading:n},children:a})},ue=()=>(0,l.useContext)(de),pe=()=>{const[e,a]=(0,l.useState)({password:"",confirmPassword:""}),[t,n]=(0,l.useState)({}),[i,r]=(0,l.useState)(""),[s,d]=(0,l.useState)(""),{loading:c,setLoading:u}=ue(),p=t=>l=>{a({...e,[t]:l.target.value}),n((e=>({...e,[t]:""})))};return(0,$.jsxs)("div",{children:[(0,$.jsx)("h2",{children:"Password Reset"}),s&&(0,$.jsx)(o.Alert,{severity:"error",children:s}),i&&(0,$.jsx)(o.Alert,{severity:"success",children:i}),(0,$.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),r(""),d("");const t=(()=>{let a={};return e.password.trim()||(a.password="Password is required"),e.confirmPassword.trim()||(a.confirmPassword="Confirm Password is required"),e.password!==e.confirmPassword&&(a.confirmPassword="Passwords do not match"),a})();if(Object.keys(t).length>0)return void n(t);u(!0);const l=window.location.search,i=new URLSearchParams(l).get("token");try{const a=await(async(e,a)=>{try{return(await oe.post(e,a)).data}catch(t){throw t}})(`/auth/resetPassword?token=${i}&newPassword=${e.password}&confirmPassword=${e.confirmPassword}`);u(!1),a.status?r("Password has been reset successfully."):d(a.message||"Failed to reset password.")}catch(o){u(!1),d("Invalid or expired token")}},children:[(0,$.jsx)(o.TextField,{label:"Enter Password",type:"password",variant:"outlined",fullWidth:!0,margin:"normal",error:!!t.password,helperText:t.password,onChange:p("password"),size:"small"}),(0,$.jsx)(o.TextField,{label:"Confirm Password",type:"password",variant:"outlined",fullWidth:!0,margin:"normal",error:!!t.confirmPassword,value:e.confirmPassword,onChange:p("confirmPassword"),size:"small"}),(0,$.jsx)("div",{className:"mt-2",children:(0,$.jsx)(o.Button,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:c,children:c?(0,$.jsx)(o.CircularProgress,{size:24}):"Submit"})})]})]})},me=t.p+"static/media/bgImg.8aa256ec841ea7969ab5.jpg",he=[{path:"*",component:()=>(0,$.jsx)(p.Navigate,{to:"/login"})},{path:"/login",component:()=>{const[e,a]=(0,l.useState)(!0),[t,n]=(0,l.useState)(!1),[i,r]=(0,l.useState)(!1),[s,d]=(0,l.useState)(!1);return(0,$.jsx)("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:`url(${me})`,backgroundSize:"cover",width:"100%"},children:(0,$.jsxs)(o.Paper,{elevation:5,sx:{p:4,width:400,bgcolor:"rgba(255, 255, 255, 0.8)",opacity:"75%"},children:[e&&(0,$.jsx)(le,{setShowForgotPage:n,setShowLoginPage:a,setShowSignup:r}),t&&(0,$.jsx)(ie,{setShowForgotPage:n,setShowLoginPage:a,setShowReset:d}),i&&(0,$.jsx)(ne,{setShowLoginPage:a,setShowSignup:r}),s&&(0,$.jsx)(pe,{})]})})}},{path:"/register",component:ne},{path:"/forgot-password",component:ie},{path:"/reset-password",component:pe}],xe=e=>{let{children:a,style:t,...l}=e;return(0,$.jsx)("div",{style:{width:"100vw",height:"100vh",overflow:"auto",boxSizing:"border-box",backgroundColor:"#68727a05",...t},...l,children:a})};var ge=t(9118),ve=t(7674);t(88829);const{TabPane:be}=ge.Tabs,je=e=>{var a;let{tabsList:t,defaultTab:n,setActiveTab:i}=e;const[r,o]=(0,l.useState)(null!==n&&void 0!==n?n:null===(a=t[0])||void 0===a?void 0:a.value);return(0,$.jsxs)("div",{style:{width:"100%"},children:[(0,$.jsx)(ge.Tabs,{activeKey:r,onChange:e=>{o(e),i(e)},type:"card",tabBarStyle:{},style:{width:"100%"},children:t.map((e=>(0,$.jsx)(be,{tab:(0,$.jsx)("span",{children:e.name})},e.value)))}),(0,$.jsx)("div",{children:(0,$.jsx)(ve.AnimatePresence,{mode:"wait",children:t.map((e=>e.value===r?(0,$.jsx)(ve.motion.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},transition:{duration:.3},style:{position:"absolute",width:"100%"},children:e.content},e.value):null))})})]})};var ye=t(98046);const fe=e=>{const a=new Date(e),t=new Date,l=t.getFullYear()-a.getFullYear(),n=t.getMonth()-a.getMonth();return n<0||0===n&&t.getDate()<a.getDate()?l-1:l},Ce=e=>{let{label:a,value:t,onChange:n,type:i="text",options:r=[],required:s=!1,setDependentValue:d,...c}=e;const[u,p]=(0,l.useState)(!1),m=()=>{p(!(!s||t))};return(0,$.jsx)(o.Box,{sx:{width:"100%"},children:"select"===i?(0,$.jsxs)(o.FormControl,{required:s,error:u,variant:"standard",sx:{width:"100%","& .css-5lvf42-MuiSelect-select-MuiInputBase-input-MuiInput-input":{backgroundColor:"white",borderRadius:"4px"}},children:[(0,$.jsx)(o.InputLabel,{shrink:!0,sx:{color:"rgb(54, 54, 54)",fontSize:"16px","&.Mui-focused":{color:"rgb(43, 43, 43)"}},children:a}),(0,$.jsxs)(o.Select,{value:t||"",onChange:e=>{const a=r.find((a=>a.label===e.target.value));n((null===a||void 0===a?void 0:a.label)||""),p(s&&!(null!==a&&void 0!==a&&a.label))},onBlur:m,label:a,sx:{width:"100%",fontSize:"12px","&:before":{borderBottom:"1px solid rgb(129, 129, 129)"},"&:after":{borderBottom:"1px solid rgb(129, 129, 129)"},"&.Mui-focused:before":{borderBottom:"1px solid rgb(129, 129, 129) !important"}},...c,children:[(0,$.jsxs)(o.MenuItem,{value:"",disabled:!0,children:["Select ",a]}),r.map(((e,a)=>(0,$.jsx)(o.MenuItem,{value:e.label,sx:{fontSize:"12px"},children:e.label},a)))]}),u&&(0,$.jsxs)(o.FormHelperText,{children:[a," is required"]})]}):(0,$.jsx)(o.TextField,{label:a,value:"date"===i?(h=t,h?new Date(h).toISOString().split("T")[0]:""):t,onChange:e=>{const a=e.target.value;if("date"===i&&d){const e=fe(a);d(e)}n(a),p(s&&!a)},onBlur:m,variant:"standard",fullWidth:!0,required:s,type:"textarea"===i?void 0:i,multiline:"textarea"===i,rows:"textarea"===i?2:void 0,error:u,helperText:u?`${a} is required`:"",InputLabelProps:{shrink:!0,sx:{color:"rgb(37, 37, 37)",fontSize:"16px","&.Mui-focused":{color:"rgb(51, 51, 51)"}}},inputProps:{..."date"===i&&{pattern:"\\d{4}-\\d{2}-\\d{2}"}},sx:{"& .MuiInput-underline:before":{borderBottom:"1px solid rgb(129, 129, 129)"},"& .MuiInput-underline:hover:before":{borderBottom:"1px solid rgb(129, 129, 129)"},"& .MuiInput-underline:after":{borderBottom:"1px solid rgb(129, 129, 129)"},"& .css-1yrc8ca-MuiInputBase-input-MuiInput-input":{backgroundColor:"white",borderRadius:"4px"}},...c})});var h};const Se={visitOptions:[{id:"6",label:"In Patient",value:"ip"},{id:"7",label:"Out Patient",value:"op"}],genderOpton:[{label:"Select",value:""},{label:"Female",value:"female"},{label:"Male",value:"male"},{label:"Other",value:"other"}],nationalityOptions:(0,t(27141).getNames)().map((e=>({value:e.toLowerCase(),label:e}))),visaTypeOptions:[{id:"1",label:"Local",value:"local"},{id:"2",label:"Resident",value:"resident"},{id:"3",label:"Visitor",value:"visitor"}],specialityOptions:[{id:"1",label:"speciality 1",value:"speciality_1"},{id:"2",label:"speciality 2",value:"speciality_2"}],encounterTypeOptions:[{id:"1",label:"No Bed + No Emergency Room",value:"no_bed_no_emergency_room"},{id:"2",label:"No Bed + Emergency Room",value:"no_bed_emergency_room"},{id:"3",label:"Daycase Bed + No Emergency Room",value:"daycase_bed_no_emergency_room"},{id:"4",label:"Daycase Bed + Emergency Room",value:"daycase_bed_emergency_room"}],ipEncounterTypeOptions:[{id:"1",label:"daycase bed + emergency  ",value:"daycase_emergency_room"}],doctorOptions:[{id:"1",label:"Doctor 1",value:"doctor_1"},{id:"2",label:"Doctor 2",value:"doctor_2"}],paymentOptions:[{id:"1",label:"Cash",value:"cash"},{id:"2",label:"Insurance",value:"insurance"},{id:"3",label:"Corporate",value:"corporate"}],infoSourceOptions:[{id:"1",label:"Event",value:"event"},{id:"2",label:"Family and Friends",value:"family_and_friends"},{id:"3",label:"Fazaa",value:"fazaa"},{id:"4",label:"Google",value:"google"},{id:"5",label:"My Alfred App",value:"my_alfred_app"},{id:"6",label:"Promotions",value:"promotion"},{id:"7",label:"Social Media",value:"social_media"},{id:"8",label:"Website",value:"website"}],patientTypeOptions:[{id:"1",label:"Normal",value:"normal"},{id:"2",label:"Recruitment",value:"recruitment"},{id:"3",label:"Pre-Employment",value:"pre-employment"},{id:"4",label:"VIP",value:"vip"},{id:"5",label:"VVIP",value:"vvip"},{id:"6",label:"Determination",value:"determination"}],otherIdOptions:[{id:"1",label:"Passport",value:"passport"},{id:"2",label:"GCC ID",value:"gcc_id"},{id:"3",label:"Driving License",value:"driving_license"}],addressOptions:[{id:"1",label:"Dubai",value:"Dubai"},{id:"2",label:"Abu Dhabi",value:"Abu Dhabi"},{id:"3",label:"Sharjah",value:"Sharjah"},{id:"4",label:"Fujairah",value:"Fujairah"},{id:"5",label:"Ras Al Khaimah",value:"Ras Al Khaimah"},{id:"6",label:"Umm Al Quwain",value:"Umm Al Quwain"},{id:"7",label:"Ajman",value:"Ajman"},{id:"8",label:"Others",value:"Others"},{id:"9",label:"Unknown",value:"Unknown"}],referralOptions:[{id:"1",label:"Yes",value:"yes"},{id:"2",label:"No",value:"no"}],religionOptions:[{id:"1",label:"Buddhist",value:"BUD"},{id:"2",label:"Buddhist: Mahayana",value:"BMA"},{id:"3",label:"Buddhist: Theravada",value:"BTH"},{id:"4",label:"Christian",value:"CHR"},{id:"5",label:"Christian: Anglican",value:"ANG"},{id:"6",label:"Christian: Baptist",value:"BAP"},{id:"7",label:"Christian: Christian Science",value:"CHS"},{id:"8",label:"Christian: Episcopalian",value:"EPI"},{id:"9",label:"Christian: Greek Orthodox",value:"GRE"},{id:"10",label:"Christian: Jehovah's Witness",value:"JWN"},{id:"11",label:"Christian: Lutheran",value:"LUT"},{id:"12",label:"Christian: Mennonite",value:"MEN"},{id:"13",label:"Christian: Methodist",value:"MET"},{id:"14",label:"Christian: Pentecostal",value:"PEN"},{id:"15",label:"Christian: Presbyterian",value:"PRE"},{id:"16",label:"Christian: Protestant",value:"PRO"},{id:"17",label:"Christian: Roman Catholic",value:"CAT"},{id:"18",label:"Christian: Seventh Day Adventist",value:"SEV"},{id:"19",label:"Christian: Unitarian Universalist",value:"UNU"},{id:"20",label:"Ethnic Religionist",value:"ERL"},{id:"21",label:"Hindu",value:"HIN"},{id:"22",label:"Hindu: Other",value:"HOT"},{id:"23",label:"Jain",value:"JAI"},{id:"24",label:"Jewish",value:"JEW"},{id:"25",label:"Muslim",value:"MOS"},{id:"26",label:"Muslim: Other",value:"MOT"},{id:"27",label:"Muslim: Shiite",value:"MSH"},{id:"28",label:"Muslim: Sunni",value:"MSU"},{id:"29",label:"Other",value:"OTH"},{id:"30",label:"Sikh",value:"SIK"},{id:"31",label:"Shintoist",value:"SHN"},{id:"32",label:"Unknown",value:"VAR"}],patientPriorityOptions:[{id:"1",label:"Normal",value:"normal"},{id:"2",label:"VIP",value:"vip"},{id:"3",label:"VVIP",value:"vvip"}],maritalStatusOptions:[{id:"1",label:"Annulled",value:"annulled"},{id:"2",label:"Divorced",value:"divorced"},{id:"3",label:"Legally Married",value:"legally_married"},{id:"4",label:"Married",value:"married"},{id:"5",label:"Other",value:"other"},{id:"6",label:"Separated",value:"separated"},{id:"7",label:"Single",value:"single"},{id:"8",label:"Unknown",value:"unknown"},{id:"9",label:"Widowed",value:"widowed"},{id:"10",label:"Unmarried",value:"unmarried"}],occupationOptions:[{value:"",label:"--Please choose an option--"},{value:"agriculture",label:"Agriculture"},{value:"airlines",label:"Airlines"},{value:"healthcare",label:"Healthcare and medicine"},{value:"arts",label:"Arts and entertainment"},{value:"banking",label:"Banking and Finance"},{value:"blue_collar",label:"Blue Collar"},{value:"business",label:"Business"},{value:"consultant",label:"Consultant"},{value:"industrial",label:"Industrial and manufacturing"},{value:"home_maker",label:"Home Maker"},{value:"hospitality",label:"Hospitality"},{value:"it_professional",label:"IT Professional"},{value:"law_enforcement",label:"Law enforcement and armed forces"},{value:"lawyer",label:"Lawyer"},{value:"media",label:"Media"},{value:"mining",label:"Mining"},{value:"other",label:"Other"},{value:"research",label:"Research"},{value:"retired",label:"Retired"},{value:"road_transport",label:"Road Transport"},{value:"science_technology",label:"Science and technology"},{value:"shipping",label:"Shipping"},{value:"skilled_labor",label:"Skilled Labor"},{value:"sports",label:"Sports"},{value:"student",label:"Student"},{value:"teacher",label:"Teacher"},{value:"unknown",label:"Unknown"}]},Ne=(0,b.createAsyncThunk)("patient/registerPatients",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await f.post(R,e)}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),we=(0,b.createSlice)({name:"registerPatients",initialState:{registerPatientData:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Ne.pending,(e=>{e.loading=!0,e.error=null})).addCase(Ne.fulfilled,((e,a)=>{e.loading=!1,e.registerPatientData=a.payload.data})).addCase(Ne.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer;var Ie=t(22015);const De=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const t=(0,$.jsx)(Te,{messages:e}),l={autoClose:1e4};switch(a){case"success":Ie.toast.success(t,l);break;case"error":Ie.toast.error(t,l);break;case"warning":Ie.toast.warn(t,l);break;default:Ie.toast.info(t,l)}},Te=e=>{let{messages:a}=e;const t=Array.isArray(a)?a:[a];return(0,$.jsx)("div",{children:null===t||void 0===t?void 0:t.map(((e,a)=>(0,$.jsx)("ul",{children:(0,$.jsx)("li",{children:e})},`${e}_${a}`)))})};var Ae=t(3307),ke=t.n(Ae),Pe=t(51789),Be=t.n(Pe);const Re=e=>{let{patientData:a,setShowPatientInfo:t}=e;const n=(0,l.useRef)(null),[i,r]=(0,l.useState)(null);if(console.log("Patient Data:",a),!a)return(0,$.jsx)(o.Box,{p:3,textAlign:"center",children:"No patient data available"});const s=`${window.location.origin}/open-signature`;return(0,$.jsxs)(o.Box,{p:3,style:{backgroundColor:"#fff"},children:[(0,$.jsx)("div",{className:"text-dark header mb-3",children:"Patient Demographic Details"}),(0,$.jsx)(o.Box,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",gap:2,p:2,children:[{label:"MRD No",value:null===a||void 0===a?void 0:a.mrdNo},{label:"Patient Name",value:null===a||void 0===a?void 0:a.patientName},{label:"Date of Birth",value:null===a||void 0===a?void 0:a.dob},{label:"Visit Type",value:null===a||void 0===a?void 0:a.visitType},{label:"Nationality",value:null===a||void 0===a?void 0:a.nationality},{label:"Visa Type",value:null===a||void 0===a?void 0:a.visaType},{label:"Phone Number",value:null===a||void 0===a?void 0:a.phoneNumber},{label:"Info Source",value:null===a||void 0===a?void 0:a.infoSource},{label:"Address",value:null===a||void 0===a?void 0:a.address},{label:"Referral Case",value:null===a||void 0===a?void 0:a.referralCase},{label:"Reg Date",value:null===a||void 0===a?void 0:a.regDate},{label:"Age",value:null===a||void 0===a?void 0:a.age},{label:"Email ID",value:null===a||void 0===a?void 0:a.email},{label:"National ID",value:null===a||void 0===a?void 0:a.nationalId},{label:"Phone Number (Work)",value:null===a||void 0===a?void 0:a.workPhoneNumber},{label:"Preferred Language",value:null===a||void 0===a?void 0:a.language},{label:"Religion",value:null===a||void 0===a?void 0:a.religion},{label:"Referred By",value:null===a||void 0===a?void 0:a.referredBy},{label:"Patient Type",value:null===a||void 0===a?void 0:a.patientType},{label:"Patient Priority",value:null===a||void 0===a?void 0:a.patientPriority},{label:"Gender",value:null===a||void 0===a?void 0:a.gender},{label:"Marital Status",value:null===a||void 0===a?void 0:a.maritalStatus},{label:"Other ID",value:null===a||void 0===a?void 0:a.otherId},{label:"Land Phone",value:null===a||void 0===a?void 0:a.landPhone},{label:"Occupation",value:null===a||void 0===a?void 0:a.occupation},{label:"Place",value:null===a||void 0===a?void 0:a.place},{label:"Patient Remark",value:null===a||void 0===a?void 0:a.patientRemarks}].map((e=>{let{label:a,value:t}=e;return(0,$.jsxs)(o.Box,{minWidth:"250px",p:1,style:{borderBottom:"1px solid #ddd"},children:[(0,$.jsxs)("strong",{children:[a,":"]})," ",null!==t&&void 0!==t?t:"--"]},a)}))}),(0,$.jsxs)(o.Box,{mt:3,textAlign:"center",children:[(0,$.jsx)("h3",{children:"Scan to Sign"}),(0,$.jsx)(Be(),{value:s,width:100,height:100})]}),(0,$.jsxs)(o.Box,{mt:3,textAlign:"center",children:[(0,$.jsx)("h3",{children:"Signature"}),(0,$.jsx)(ke(),{ref:n,penColor:"black",canvasProps:{width:300,height:150,className:"signature-canvas",style:{border:"1px solid #000"}}}),(0,$.jsxs)(o.Box,{mt:2,display:"flex",justifyContent:"center",gap:2,children:[(0,$.jsx)(o.Button,{variant:"contained",color:"primary",onClick:()=>{if(n.current)try{const e=n.current.getTrimmedCanvas();e&&r(e.toDataURL("image/png"))}catch(e){console.error("Error saving signature:",e)}else console.error("Signature pad not initialized.")},children:"Save Signature"}),(0,$.jsx)(o.Button,{variant:"outlined",color:"secondary",onClick:()=>{n.current.clear(),r(null)},children:"Clear"})]})]}),i&&(0,$.jsxs)(o.Box,{mt:3,textAlign:"center",children:[(0,$.jsx)("h4",{children:"Saved Signature:"}),(0,$.jsx)("img",{src:i,alt:"Saved Signature",width:200})]}),(0,$.jsx)(o.Box,{p:2,display:"flex",justifyContent:"end",children:(0,$.jsx)(o.Button,{variant:"contained",color:"primary",onClick:()=>t(!1),children:"Close"})})]})},_e=()=>{var e,a,t;const n=Se,i=(0,r.useDispatch)(),s=(0,p.useLocation)(),d=null===(e=s.state)||void 0===e?void 0:e.bookedDetails,c=null===(a=s.state)||void 0===a?void 0:a.patientData,u=null===(t=s.state)||void 0===t?void 0:t.rowData;console.log("schedulePatientData",u);const[m,h]=(0,l.useState)(!1),[x,g]=(0,l.useState)(),{loading:v,error:b}=(0,r.useSelector)((e=>e.regPatient)),{registerPatientData:j}=(0,r.useSelector)((e=>e.regPatient)),y=()=>(new Date).toISOString().split("T")[0],[f,C]=(0,l.useState)({image:"",visitType:c?"In Patient":"",patientName:(null===d||void 0===d?void 0:d.patientName)||(null===c||void 0===c?void 0:c.patient)||(null===u||void 0===u?void 0:u.patientName)||"",gender:"",dob:"",nationality:"",visaType:"",phoneNumber:(null===d||void 0===d?void 0:d.phoneNo)||(null===c||void 0===c?void 0:c.mobile)||(null===u||void 0===u?void 0:u.mobile)||"",infoSource:"",address:"",referralCase:"",regDate:y(),age:"",email:(null===d||void 0===d?void 0:d.emailId)||(null===u||void 0===u?void 0:u.emailId)||"",nationalId:"",workPhoneNumber:"",language:"",religion:"",referredBy:"",patientType:"",patientPriority:"",maritalStatus:"",otherId:"",landPhone:"",occupation:"",place:"",patientRemarks:"",speciality:"",encounterType:"",doctorName:(null===c||void 0===c?void 0:c.doctor)||(null===u||void 0===u?void 0:u.doctorName)||"",paymentType:"",subInsurance:"",networkType:"",insuranceCardNo:"",insuranceEffectiveFrom:"",certificateNumber:"",maxInsuranceLiability:"",maxInsuranceCopay:"",extraCardNumber:"",insuranceExpireDate:"",dependentsNo:"",insuranceClaimNumber:"",insuranceApprovalLimit:"",copayPatient:"",admissionDate:"",admissionTime:"",expectedDischargeDate:(null===c||void 0===c?void 0:c.exp_discharge_date)||"",expectedDischargeTime:"",admissionNote:"",ward:(null===c||void 0===c?void 0:c.ward)||"",roomNo:"",bedNo:"",bedRate:"",accomodationNote:""}),S=(e,a)=>{C((t=>({...t,[e]:a})))};return(0,l.useEffect)((()=>{200===(null===j||void 0===j?void 0:j.statusCode)?(h(!0),g(null===j||void 0===j?void 0:j.data)):500===(null===j||void 0===j?void 0:j.statusCode)&&De("Something went wrong!!","error")}),[j,b]),(0,$.jsx)(o.Box,{paddingBottom:"20%",children:m?(0,$.jsx)(Re,{patientData:x,setShowPatientInfo:h}):(0,$.jsxs)("form",{children:[(0,$.jsxs)(o.Box,{p:1,width:"100%",children:[(0,$.jsx)("div",{children:(0,$.jsx)("p",{className:"text-dark header",children:"Patient Demographic Details"})}),(0,$.jsxs)(o.Box,{className:"form-details-section",children:[(0,$.jsx)(Ce,{label:"Upload Photo",type:"file",onChange:e=>{console.log("Selected file:",e)},inputProps:{accept:"image/*"}}),(0,$.jsx)(Ce,{label:"Visit Type",required:!0,type:"select",options:n.visitOptions,value:f.visitType,onChange:e=>S("visitType",e)}),(0,$.jsx)(Ce,{label:"Patient Name",required:!0,value:f.patientName,onChange:e=>S("patientName",e)}),(0,$.jsx)(Ce,{label:"Date of Birth",required:!0,type:"date",value:f.dob,onChange:e=>S("dob",e),setDependentValue:e=>S("age",e)}),(0,$.jsx)(Ce,{label:"Nationality",required:!0,type:"select",options:n.nationalityOptions,value:f.nationality,onChange:e=>S("nationality",e)}),(0,$.jsx)(Ce,{label:"Visa Type",type:"select",options:n.visaTypeOptions,value:f.visaType,onChange:e=>S("visaType",e)}),(0,$.jsx)(Ce,{label:"Phone Number (phoneNumber)",value:f.phoneNumber,onChange:e=>S("phoneNumber",e)}),(0,$.jsx)(Ce,{label:"Info Source",type:"select",options:n.infoSourceOptions,value:f.infoSource,onChange:e=>S("infoSource",e)}),(0,$.jsx)(Ce,{label:"Address",required:!0,value:f.address,onChange:e=>S("address",e)}),(0,$.jsx)(Ce,{label:"Referral Case",required:!0,type:"select",options:n.referralOptions,value:f.referralCase,onChange:e=>S("referralCase",e)}),(0,$.jsx)(Ce,{label:"Reg Date",type:"date",required:!0,value:f.regDate,onChange:e=>S("regDate",e)}),(0,$.jsx)(Ce,{label:"Age",required:!0,value:f.age,onChange:e=>S("age",e)}),(0,$.jsx)(Ce,{label:"Email ID",required:!0,value:f.email,onChange:e=>S("email",e)}),(0,$.jsx)(Ce,{label:"National Id",required:!0,value:f.nationalId,onChange:e=>S("nationalId",e)}),(0,$.jsx)(Ce,{label:"Phone Number (Work)",value:f.workPhoneNumber,onChange:e=>S("workPhoneNumber",e)}),(0,$.jsx)(Ce,{label:"Preferred Language",value:f.language,onChange:e=>S("language",e)}),(0,$.jsx)(Ce,{label:"Religion",type:"select",options:n.religionOptions,value:f.religion,onChange:e=>S("religion",e)}),(0,$.jsx)(Ce,{label:"Referred By",value:f.referredBy,onChange:e=>S("referredBy",e)}),(0,$.jsx)(Ce,{label:"Patient Type",type:"select",options:n.patientTypeOptions,value:f.patientType,onChange:e=>S("patientType",e)}),(0,$.jsx)(Ce,{label:"Patient Priority",required:!0,type:"select",options:n.patientPriorityOptions,value:f.patientPriority,onChange:e=>S("patientPriority",e)}),(0,$.jsx)(Ce,{label:"Gender",required:!0,type:"select",options:n.genderOpton,value:f.gender,onChange:e=>S("gender",e)}),(0,$.jsx)(Ce,{label:"Marital Status",required:!0,type:"select",options:n.maritalStatusOptions,value:f.maritalStatus,onChange:e=>S("maritalStatus",e)}),(0,$.jsx)(Ce,{label:"Other ID",required:!0,type:"select",options:n.otherIdOptions,value:f.otherId,onChange:e=>S("otherId",e)}),(0,$.jsx)(Ce,{label:"Land Phone",value:f.landPhone,onChange:e=>S("landPhone",e)}),(0,$.jsx)(Ce,{label:"Occupation",required:!0,type:"select",options:n.occupationOptions,value:f.occupation,onChange:e=>S("occupation",e)}),(0,$.jsx)(Ce,{label:"Place",value:f.place,onChange:e=>S("place",e)}),(0,$.jsx)(Ce,{label:"Patient Remark",value:f.patientRemarks,onChange:e=>S("patientRemarks",e)})]})]}),(0,$.jsxs)(o.Box,{p:1,width:"100%",children:[(0,$.jsx)("div",{children:(0,$.jsx)("p",{className:"text-dark header",children:"Consultation Details"})}),(0,$.jsxs)(o.Box,{className:"form-details-section",children:[(0,$.jsx)(Ce,{label:"Speciality",required:!0,type:"select",options:n.specialityOptions,value:f.speciality,onChange:e=>S("speciality",e)}),"In Patient"===f.visitType?"":(0,$.jsx)(Ce,{label:"Encounter Type",required:!0,type:"select",options:n.encounterTypeOptions,value:f.encounterType,onChange:e=>S("encounterType",e)}),(0,$.jsx)(Ce,{label:"Doctor Name",required:!0,type:"select",options:n.doctorOptions,value:f.doctorName,onChange:e=>S("doctorName",e)})]})]}),"In Patient"===f.visitType&&(0,$.jsxs)(o.Box,{p:1,width:"100%",children:[(0,$.jsx)("div",{children:(0,$.jsx)("p",{className:"text-dark header",children:"Admission Details"})}),(0,$.jsxs)(o.Box,{className:"form-details-section mb-4",children:[(0,$.jsx)(Ce,{label:"Admission date",type:"date",value:f.admissionDate,onChange:e=>S("admissionDate",e)}),(0,$.jsx)(Ce,{label:"Admission time",type:"time",value:f.admissionTime,onChange:e=>S("admissionTime",e)}),(0,$.jsx)(Ce,{label:"Expected Discharge date",type:"date",value:f.expectedDischargeDate,onChange:e=>S("expectedDischargeDate",e)}),(0,$.jsx)(Ce,{label:"Expected Discharge time",type:"time",value:f.expectedDischargeTime,onChange:e=>S("expectedDischargeTime",e)}),(0,$.jsx)(Ce,{label:"Encounter Type",type:"select",value:f.encounterType,options:n.ipEncounterTypeOptions,onChange:e=>S("encounterType",e)}),(0,$.jsx)(Ce,{label:"Notes",value:f.admissionNote,onChange:e=>S("admissionNote",e)})]})]}),"In Patient"===f.visitType&&(0,$.jsxs)(o.Box,{p:1,width:"100%",children:[(0,$.jsxs)("div",{className:"d-flex ",style:{justifyContent:"space-between"},children:[(0,$.jsx)("p",{className:"text-dark header",children:"Accomodation details"}),(0,$.jsx)(p.Link,{children:"Select Bed and Ward"})]}),(0,$.jsxs)(o.Box,{className:"form-details-section mb-4",children:[(0,$.jsx)(Ce,{label:"Ward",value:f.ward,onChange:e=>S("ward",e)}),(0,$.jsx)(Ce,{label:"Room No",value:f.roomNo,onChange:e=>S("roomNo",e)}),(0,$.jsx)(Ce,{label:"Bed No",value:f.bedNo,onChange:e=>S("bedNo",e)}),(0,$.jsx)(Ce,{label:"Bed Rate",value:f.bedRate,onChange:e=>S("bedRate",e)}),(0,$.jsx)(Ce,{label:"Notes",value:f.accomodationNote,onChange:e=>S("accomodationNote",e)}),(0,$.jsx)("div",{children:(0,$.jsx)(ye.Button,{children:"Admit"})})]})]}),(0,$.jsxs)(o.Box,{p:1,width:"100%",children:[(0,$.jsx)("div",{children:(0,$.jsx)("p",{className:"text-dark header",children:"Payment Details"})}),(0,$.jsx)(o.Box,{className:"form-details-section mb-4",children:(0,$.jsx)(Ce,{label:"Payment Type",required:!0,type:"select",options:n.paymentOptions,value:f.paymentType,onChange:e=>S("paymentType",e)})}),"Insurance"===f.paymentType&&(0,$.jsxs)(o.Box,{className:"form-details-section",children:[(0,$.jsx)(Ce,{label:"Sub Insurance",type:"select",value:f.subInsurance,onChange:e=>S("subInsurance",e)}),(0,$.jsx)(Ce,{label:"Network Type",value:f.networkType,onChange:e=>S("networkType",e)}),(0,$.jsx)(Ce,{label:"Insurance Card No",required:!0,value:f.insuranceCardNo,onChange:e=>S("insuranceCardNo",e)}),(0,$.jsx)(Ce,{label:"Insurance Effective From",type:"date",value:f.insuranceEffectiveFrom,onChange:e=>S("insuranceEffectiveFrom",e)}),(0,$.jsx)(Ce,{label:"Certificate No",value:f.certificateNumber,onChange:e=>S("certificateNumber",e)}),(0,$.jsx)(Ce,{label:"Max Insurance Liability",value:f.maxInsuranceLiability,onChange:e=>S("maxInsuranceLiability",e)}),(0,$.jsx)(Ce,{label:"Max Insurance Copay",value:f.maxInsuranceCopay,onChange:e=>S("maxInsuranceCopay",e)}),(0,$.jsx)(Ce,{label:"Extra Card No",value:f.extraCardNumber,onChange:e=>S("extraCardNumber",e)}),(0,$.jsx)(Ce,{label:"Insurance Expiry Date",required:!0,type:"date",value:f.insuranceExpireDate,onChange:e=>S("insuranceExpireDate",e)}),(0,$.jsx)(Ce,{label:"Dependents No",value:f.dependentsNo,onChange:e=>S("dependentsNo",e)}),(0,$.jsx)(Ce,{label:"Insurance Claim No",value:f.insuranceClaimNumber,onChange:e=>S("insuranceClaimNumber",e)}),(0,$.jsx)(Ce,{label:"Insurance Approval Limit",value:f.insuranceApprovalLimit,onChange:e=>S("insuranceApprovalLimit",e)}),(0,$.jsx)(Ce,{label:"Co Pay Patient",value:f.copayPatient,onChange:e=>S("copayPatient",e)})]})]}),(0,$.jsx)(o.Box,{display:"flex",padding:"0.5em",width:"100%",justifyContent:"flex-end",children:(0,$.jsx)(ye.Button,{onClick:()=>{i(Ne(f)),C((e=>({...e,image:"",visitType:"",patientName:"",gender:"",dob:"",nationality:"",visaType:"",phoneNumber:"",infoSource:"",address:"",referralCase:"",regDate:y(),age:"",email:"",nationalId:"",workPhoneNumber:"",language:"",religion:"",referredBy:"",patientType:"",patientPriority:"",maritalStatus:"",otherId:"",landPhone:"",occupation:"",place:"",patientRemarks:"",speciality:"",encounterType:"",doctorName:"",paymentType:"",subInsurance:"",networkType:"",insuranceCardNo:"",insuranceEffectiveFrom:"",certificateNumber:"",maxInsuranceLiability:"",maxInsuranceCopay:"",extraCardNumber:"",insuranceExpireDate:"",dependentsNo:"",insuranceClaimNumber:"",insuranceApprovalLimit:"",copayPatient:"",admissionDate:"",admissionTime:"",expectedDischargeDate:"",expectedDischargeTime:"",admissionNote:"",ward:"",roomNo:"",bedNo:"",bedRate:"",accomodationNote:""})))},disabled:v,className:"form-btn",type:"submit",children:v?"Registering...":"Register New Patient"})})]})})},Fe=(0,b.createAsyncThunk)("patient/emergencyPatients",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await f.post(F,e)}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),Me=(0,b.createSlice)({name:"emergencyPatients",initialState:{emergencyPatientData:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Fe.pending,(e=>{e.loading=!0,e.error=null})).addCase(Fe.fulfilled,((e,a)=>{e.loading=!1,e.emergencyPatientData=a.payload.data})).addCase(Fe.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,Le=()=>{const e=(0,r.useDispatch)(),a=Se,[t,n]=(0,l.useState)({visitType:"",mrdNumber:"",patientName:"",dob:"",nationality:"",visaType:"",phoneNumber:"",infoSource:"",regDate:(()=>{const e=new Date;return`${e.toISOString().split("T")[0]} ${e.toLocaleTimeString([],{hour12:!1})}`})(),age:"",email:"",nationalId:"",workPhoneNo:"",language:"",patientType:"",otherId:"",landPhone:"",speciality:"",encounterType:"",doctorName:""}),i=(e,a)=>{n((t=>({...t,[e]:a})))};return(0,$.jsxs)(o.Box,{paddingBottom:"20%",children:[(0,$.jsxs)(o.Box,{children:[(0,$.jsxs)(o.Box,{padding:"1em",width:"100%",children:[(0,$.jsx)("div",{children:(0,$.jsx)("p",{className:"text-dark header",children:"Patient Demographic Details"})}),(0,$.jsxs)(o.Box,{className:"form-details-section",children:[(0,$.jsx)(Ce,{label:"Visit Type",required:!0,value:t.visitType,type:"select",options:a.visitOptions,onChange:e=>i("visitType",e)}),(0,$.jsx)(Ce,{label:"MRD Number",value:t.mrdNumber,onChange:e=>i("mrdNumber",e)}),(0,$.jsx)(Ce,{label:"Patient Name",required:!0,value:t.patientName,onChange:e=>i("patientName",e)}),(0,$.jsx)(Ce,{label:"Date of Birth",required:!0,type:"date",value:t.dob,onChange:e=>i("dob",e),setDependentValue:e=>i("age",e)}),(0,$.jsx)(Ce,{label:"Nationality",required:!0,type:"select",options:a.nationalityOptions,value:t.nationality,onChange:e=>i("nationality",e)}),(0,$.jsx)(Ce,{label:"Visa Type",type:"select",options:a.visaTypeOptions,value:t.visaType,onChange:e=>i("visaType",e)}),(0,$.jsx)(Ce,{label:"Phone Number (Mobile)",value:t.phoneNumber,onChange:e=>i("phoneNumber",e)}),(0,$.jsx)(Ce,{label:"Info Source",type:"select",options:a.infoSourceOptions,value:t.infoSource,onChange:e=>i("infoSource",e)}),(0,$.jsx)(Ce,{label:"Reg Date",type:"date",required:!0,value:t.regDate,onChange:e=>i("regDate",e)}),(0,$.jsx)(Ce,{label:"Age",required:!0,value:t.age,onChange:e=>i("age",e)}),(0,$.jsx)(Ce,{label:"Email ID",value:t.email,onChange:e=>i("email",e)}),(0,$.jsx)(Ce,{label:"National Id",value:t.nationalId,onChange:e=>i("nationalId",e)}),(0,$.jsx)(Ce,{label:"Phone Number (Work)",value:t.workPhoneNo,onChange:e=>i("workPhoneNo",e)}),(0,$.jsx)(Ce,{label:"Preferred Language",value:t.language,onChange:e=>i("language",e)}),(0,$.jsx)(Ce,{label:"Patient Type",type:"select",options:a.patientTypeOptions,value:t.patientType,onChange:e=>i("patientType",e)}),(0,$.jsx)(Ce,{label:"Other ID",type:"select",options:a.otherIdOptions,value:t.otherId,onChange:e=>i("otherId",e)}),(0,$.jsx)(Ce,{label:"Land Phone",value:t.landPhone,onChange:e=>i("landPhone",e)})]})]}),(0,$.jsxs)(o.Box,{padding:"1em",width:"100%",children:[(0,$.jsx)("div",{children:(0,$.jsx)("p",{className:"text-dark header",children:"Consultation Details"})}),(0,$.jsxs)(o.Box,{className:"form-details-section",children:[(0,$.jsx)(Ce,{label:"Speciality",required:!0,type:"select",options:a.specialityOptions,value:t.speciality,onChange:e=>i("speciality",e)}),(0,$.jsx)(Ce,{label:"Encounter Type",required:!0,type:"select",options:a.encounterTypeOptions,value:t.encounterType,onChange:e=>i("encounterType",e)}),(0,$.jsx)(Ce,{label:"Doctor Name",required:!0,type:"select",options:a.doctorOptions,value:t.doctorName,onChange:e=>i("doctorName",e)})]})]})]}),(0,$.jsx)(o.Box,{display:"flex",padding:"0.5em",width:"100%",justifyContent:"flex-end",children:(0,$.jsx)(ye.Button,{onClick:()=>{e(Fe(t))},className:"form-btn",children:"Register Emergency Patient"})})]})},Ee=(0,b.createAsyncThunk)("patient/searchPatients",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await f.get(B,{params:e})}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),Oe=(0,b.createSlice)({name:"searchPatients",initialState:{searchPatientData:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Ee.pending,(e=>{e.loading=!0,e.error=null})).addCase(Ee.fulfilled,((e,a)=>{e.loading=!1,e.searchPatientData=a.payload.data})).addCase(Ee.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,ze=(0,b.createAsyncThunk)("patient/revisitPatients",(async(e,a)=>{let{credentials:t,patientId:l}=e,{rejectWithValue:n}=a;try{return(await f.put(`${_}/${l}`,t)).data}catch(o){var i,r;return n((null===(i=o.response)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.message)||"Something went wrong!")}})),We=(0,b.createSlice)({name:"revisitPatients",initialState:{revisitPatientData:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(ze.pending,(e=>{e.loading=!0,e.error=null})).addCase(ze.fulfilled,((e,a)=>{e.loading=!1,e.revisitPatientData=a.payload.data})).addCase(ze.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,Ve=()=>{var e;const a=null===(e=(0,p.useLocation)().state)||void 0===e?void 0:e.patientData,[t,n]=(0,l.useState)(""),[i,s]=(0,l.useState)(null),d=Se,c=(0,r.useDispatch)(),{searchPatientData:u}=(0,r.useSelector)((e=>e.searchPatient)),{revisitPatientData:m,loading:h}=(0,r.useSelector)((e=>e.revisit)),x=null===i||void 0===i?void 0:i.patientId;console.log(null===i||void 0===i?void 0:i.patientId);const g=e=>{const a=e.target.value;c(Ee({searchKey:a})),n(a)},[v,b]=(0,l.useState)({mrdNumber:(null===a||void 0===a?void 0:a.mr_no)||"",dob:"",gender:"",mobileNumber:(null===a||void 0===a?void 0:a.mobile)||"",patientName:(null===a||void 0===a?void 0:a.patient)||"",age:"",nationality:"",nationalId:"",visaType:"",speciality:"",encounterType:"",doctorName:(null===a||void 0===a?void 0:a.doctor)||"",paymentType:"",subInsurance:"",networkType:"",insuranceCardNo:"",insuranceEffectiveFrom:"",certificateNumber:"",maxInsuranceLiability:"",maxInsuranceCopay:"",extraCardNumber:"",insuranceExpireDate:"",dependents:"",insuranceClaimNumber:"",insuranceApprovalLimit:"",copayPatient:""});(0,l.useEffect)((()=>{i&&b((e=>({...e,mrdNumber:(null===i||void 0===i?void 0:i.mrdNo)||"",dob:(null===i||void 0===i?void 0:i.dob)||"",gender:(null===i||void 0===i?void 0:i.gender)||"",mobileNumber:(null===i||void 0===i?void 0:i.phoneNo)||"",patientName:(null===i||void 0===i?void 0:i.name)||"",age:(null===i||void 0===i?void 0:i.age)||"",nationality:(null===i||void 0===i?void 0:i.nationality)||"",nationalId:(null===i||void 0===i?void 0:i.nationalId)||"",visaType:(null===i||void 0===i?void 0:i.visaType)||""})))}),[i]);const j=(e,a)=>{b((t=>({...t,[e]:a})))};return(0,$.jsxs)(o.Box,{paddingBottom:"20%",children:[(0,$.jsx)(o.Box,{display:"flex",justifyContent:"start",my:1,ml:1,children:(0,$.jsx)(o.Autocomplete,{freeSolo:!0,options:(null===u||void 0===u?void 0:u.data)||[],getOptionLabel:e=>e.name||"",renderInput:e=>(0,$.jsx)(o.TextField,{...e,label:"Search Patients",variant:"outlined",value:t,onChange:g,placeholder:"Type to search...",size:"small",sx:{width:300}}),onChange:(e,a)=>{s(a)}})}),(0,$.jsxs)(o.Box,{children:[(0,$.jsxs)(o.Box,{p:1,width:"100%",children:[(0,$.jsx)("div",{children:(0,$.jsx)("p",{className:"text-dark header",children:"Patient Demographic Details"})}),(0,$.jsxs)(o.Box,{className:"form-details-section",children:[(0,$.jsx)(Ce,{label:"MRD Number",value:v.mrdNumber,onChange:e=>j("mrdNumber",e)}),(0,$.jsx)(Ce,{label:"Date of Birth",required:!0,type:"date",value:v.dob,onChange:e=>j("dob",e),setDependentValue:e=>j("age",e)}),(0,$.jsx)(Ce,{label:"Gender",required:!0,type:"select",options:d.genderOpton,value:v.gender,onChange:e=>j("gender",e)}),(0,$.jsx)(Ce,{label:"Mobile Number",value:v.mobileNumber,onChange:e=>j("mobileNumber",e)}),(0,$.jsx)(Ce,{label:"Patient Name",required:!0,value:v.patientName,onChange:e=>j("patientName",e)}),(0,$.jsx)(Ce,{label:"Age",required:!0,value:v.age,onChange:e=>j("age",e)}),(0,$.jsx)(Ce,{label:"Nationality",required:!0,type:"select",options:d.nationalityOptions,value:v.nationality,onChange:e=>j("nationality",e)}),(0,$.jsx)(Ce,{label:"National Id",value:v.nationalId,onChange:e=>j("nationalId",e)}),(0,$.jsx)(Ce,{label:"Visa Type",type:"select",options:d.visaTypeOptions,value:v.visaType,onChange:e=>j("visaType",e)})]})]}),(0,$.jsxs)(o.Box,{p:1,width:"100%",children:[(0,$.jsx)("div",{children:(0,$.jsx)("p",{className:"text-dark header",children:"Consultation Details"})}),(0,$.jsxs)(o.Box,{className:"form-details-section",children:[(0,$.jsx)(Ce,{label:"Speciality",required:!0,type:"select",options:d.specialityOptions,value:v.speciality,onChange:e=>j("speciality",e)}),(0,$.jsx)(Ce,{label:"Encounter Type",required:!0,type:"select",options:d.encounterTypeOptions,value:v.encounterType,onChange:e=>j("encounterType",e)}),(0,$.jsx)(Ce,{label:"Doctor Name",required:!0,type:"select",options:d.doctorOptions,value:v.doctorName,onChange:e=>j("doctorName",e)})]})]}),(0,$.jsxs)(o.Box,{p:1,width:"100%",children:[(0,$.jsx)("div",{children:(0,$.jsx)("p",{className:"text-dark header",children:"Payment Details"})}),(0,$.jsx)(o.Box,{className:"form-details-section",children:(0,$.jsx)(Ce,{label:"Payment Type",required:!0,type:"select",options:d.paymentOptions,value:v.paymentType,onChange:e=>j("paymentType",e)})}),"Insurance"===v.paymentType&&(0,$.jsxs)(o.Box,{className:"form-details-section",children:[(0,$.jsx)(Ce,{label:"Sub Insurance",type:"select",value:v.subInsurance,onChange:e=>j("subInsurance",e)}),(0,$.jsx)(Ce,{label:"Network Type",value:v.networkType,onChange:e=>j("networkType",e)}),(0,$.jsx)(Ce,{label:"Insurance Card No",required:!0,value:v.insuranceCardNo,onChange:e=>j("insuranceCardNo",e)}),(0,$.jsx)(Ce,{label:"Insurance Effective From",type:"date",value:v.insuranceEffectiveFrom,onChange:e=>j("insuranceEffectiveFrom",e)}),(0,$.jsx)(Ce,{label:"Certificate No",value:v.certificateNumber,onChange:e=>j("certificateNumber",e)}),(0,$.jsx)(Ce,{label:"Max Insurance Liability",value:v.maxInsuranceLiability,onChange:e=>j("maxInsuranceLiability",e)}),(0,$.jsx)(Ce,{label:"Max Insurance Copay",value:v.maxInsuranceCopay,onChange:e=>j("maxInsuranceCopay",e)}),(0,$.jsx)(Ce,{label:"Extra Card No",value:v.extraCardNumber,onChange:e=>j("extraCardNumber",e)}),(0,$.jsx)(Ce,{label:"Insurance Expiry Date",required:!0,type:"date",value:v.insuranceExpireDate,onChange:e=>j("insuranceExpireDate",e)}),(0,$.jsx)(Ce,{label:"Dependents No",value:v.dependents,onChange:e=>j("dependents",e)}),(0,$.jsx)(Ce,{label:"Insurance Claim No",value:v.insuranceClaimNumber,onChange:e=>j("insuranceClaimNumber",e)}),(0,$.jsx)(Ce,{label:"Insurance Approval Limit",value:v.insuranceApprovalLimit,onChange:e=>j("insuranceApprovalLimit",e)}),(0,$.jsx)(Ce,{label:"Co Pay Patient",value:v.copayPatient,onChange:e=>j("copayPatient",e)})]})]})]}),(0,$.jsx)(o.Box,{display:"flex",padding:"0.5em",width:"100%",justifyContent:"flex-end",children:(0,$.jsx)(ye.Button,{onClick:()=>{c(ze({credentials:v,patientId:x})),b((e=>({...e,mrdNumber:"",dob:"",gender:"",mobileNumber:"",patientName:"",age:"",nationality:"",nationalId:"",visaType:"",speciality:"",encounterType:"",doctorName:"",paymentType:"",subInsurance:"",networkType:"",insuranceCardNo:"",insuranceEffectiveFrom:"",certificateNumber:"",maxInsuranceLiability:"",maxInsuranceCopay:"",extraCardNumber:"",insuranceExpireDate:"",dependents:"",insuranceClaimNumber:"",insuranceApprovalLimit:"",copayPatient:""})))},className:"form-btn",children:h?"Registering...":" Register Revisit Patient"})})]})},Ye=(0,b.createAsyncThunk)("appointment/scheduleList",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await f.get(L,{params:e})}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),He=(0,b.createSlice)({name:"scheduleList",initialState:{data:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Ye.pending,(e=>{e.loading=!0,e.error=null})).addCase(Ye.fulfilled,((e,a)=>{e.loading=!1,e.data=a.payload.data})).addCase(Ye.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer;var qe=t(44503),Ge=t.n(qe);const Ue=e=>{let{show:a}=e;return(0,$.jsx)($.Fragment,{children:a&&(0,$.jsx)("div",{className:"fullscreen-loader",children:(0,$.jsx)(ye.Spinner,{style:{color:"green"}})})})};var $e=t(43655);const Je=e=>{let{itemsArray:a,callbackParam:t}=e;const[n,i]=(0,l.useState)(null),r=e=>{i(null),ae().isEmpty(e)&&e(t)};return(0,$.jsxs)("div",{children:[(0,$.jsx)(o.IconButton,{"aria-controls":"menu","aria-haspopup":"true",onClick:e=>{i(e.currentTarget)},color:"inherit",children:(0,$.jsx)($e.A,{})}),(0,$.jsx)(o.Menu,{id:"menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:r,children:a.map((e=>(0,$.jsxs)(o.MenuItem,{onClick:()=>r(e.callback),children:[(0,$.jsx)(e.icon,{}),"\xa0",e.name]})))})]})},{Option:Ke}=ge.Select,Qe=()=>{const[e,a]=(0,l.useState)({}),[t,n]=(0,l.useState)([]),[i,o]=(0,l.useState)(1),[s,d]=(0,l.useState)(5),c=(0,p.useNavigate)(),u=(0,r.useDispatch)(),{data:m,loading:h}=(0,r.useSelector)((e=>e.schedule)),x=null===m||void 0===m?void 0:m.data;(0,l.useEffect)((()=>{x&&n(x)}),[x]),(0,l.useEffect)((()=>{u(Ye(e))}),[e,u]);const g=(e,t)=>{a((a=>({...a,[e]:t})))},v=[{name:"Create Patient Visit",icon:G.MedicalInformationOutlined,callback:()=>{c("/secure/registration",{state:{}})}}],b=[{title:"S.No",dataIndex:"sno",key:"sno",render:(e,a,t)=>(i-1)*s+t+1},{title:"Schedule Date",dataIndex:"scheduleDate",key:"scheduleDate",filterDropdown:()=>(0,$.jsx)(ge.DatePicker,{format:"DD/MM/YYYY",onChange:e=>((e,t)=>{const l=t?Ge()(t).format("DD/MM/YYYY"):"";a((a=>({...a,[e]:l})))})("scheduleDate",e)})},{title:"MR Number",dataIndex:"mrdNo",key:"mrdNo",filterDropdown:()=>(0,$.jsx)(ge.Input,{placeholder:"Search MR Number",onChange:e=>g("mrdNo",e.target.value)})},{title:"Mobile",dataIndex:"mobile",key:"mobile",filterDropdown:()=>(0,$.jsx)(ge.Input,{placeholder:"Search Mobile",onChange:e=>g("mobile",e.target.value)})},{title:"Patient Name",dataIndex:"patientName",key:"patientName",filterDropdown:()=>(0,$.jsx)(ge.Input,{placeholder:"Search Patient Name",onChange:e=>g("patientName",e.target.value)})},{title:"Doctor",dataIndex:"doctorName",key:"doctorName",filterDropdown:()=>(0,$.jsx)(ge.Input,{placeholder:"Search Doctor",onChange:e=>g("doctorName",e.target.value)})},{title:"Status",dataIndex:"appointmentStatus",key:"appointmentStatus",filterDropdown:()=>(0,$.jsxs)(ge.Select,{style:{width:"100%"},onChange:e=>g("appointmentStatus",e),children:[(0,$.jsx)(Ke,{value:"",children:"--All--"}),(0,$.jsx)(Ke,{value:"re_confirmed",children:"Re-Confirmed"}),(0,$.jsx)(Ke,{value:"booked",children:"Booked"}),(0,$.jsx)(Ke,{value:"no_show",children:"No Show"}),(0,$.jsx)(Ke,{value:"cancelled",children:"Cancelled"}),(0,$.jsx)(Ke,{value:"arrived",children:"Arrived"}),(0,$.jsx)(Ke,{value:"concluded",children:"Concluded"}),(0,$.jsx)(Ke,{value:"being_seen",children:"Being Seen"})]})},{title:"Options",key:"actions",render:e=>(0,$.jsx)(Je,{itemsArray:v,callbackParam:{data:e,from:"schedule_list"}})}];return(0,$.jsxs)("div",{children:[(0,$.jsx)(Ue,{show:h}),(0,$.jsx)(ge.Table,{dataSource:t,columns:b,rowKey:e=>e.id,className:"table-container mt-3"})]})},{Option:Xe}=ge.Select,Ze=()=>{const[e,a]=(0,l.useState)([{id:1,s_no:"1",mr_number:"23435455",visit_date:"27/12/2024",patient_name:"Mr. Praveen",doctor:"Mr. Jhon",recall_date:"27/12/2024",status:"Being Seen"},{id:2,s_no:"2",mr_number:"2345455",visit_date:"27/12/2024",patient_name:"Mr. Praveen",doctor:"Mr. Jhon",recall_date:"27/12/2024",status:"Being Seen"},{id:3,s_no:"3",mr_number:"5435t4555",visit_date:"27/12/2024",patient_name:"Mr. Praveen",doctor:"Mr. Jhon",recall_date:"27/12/2024",status:"Being Seen"}]),[t,n]=(0,l.useState)({}),[i,r]=(0,l.useState)(e);(0,l.useEffect)((()=>{let a=e.filter((e=>Object.keys(t).every((a=>!t[a]||("status"===a&&"--All--"===t[a]||String(e[a]).toLowerCase().includes(t[a].toLowerCase()))))));r(a)}),[t,e]);const o=(e,a)=>{n((t=>({...t,[e]:a})))},s=(e,a)=>{n((t=>({...t,[e]:a?Ge()(a).format("DD/MM/YYYY"):""})))},d=[{title:"S.No",dataIndex:"s_no",key:"s_no"},{title:"MR Number",dataIndex:"mr_number",key:"mr_number",filterDropdown:()=>(0,$.jsx)(ge.Input,{onChange:e=>o("mr_number",e.target.value)})},{title:"Visit Date",dataIndex:"visit_date",key:"visit_date",filterDropdown:()=>(0,$.jsx)(ge.DatePicker,{onChange:e=>s("visit_date",e),format:"DD/MM/YYYY"})},{title:"Patient Name",dataIndex:"patient_name",key:"patient_name",filterDropdown:()=>(0,$.jsx)(ge.Input,{onChange:e=>o("patient_name",e.target.value)})},{title:"Doctor",dataIndex:"doctor",key:"doctor",filterDropdown:()=>(0,$.jsx)(ge.Input,{onChange:e=>o("doctor",e.target.value)})},{title:"Recall Date",dataIndex:"recall_date",key:"recall_date",filterDropdown:()=>(0,$.jsx)(ge.DatePicker,{onChange:e=>s("recall_date",e),format:"DD/MM/YYYY"})},{title:"Status",dataIndex:"status",key:"status",filterDropdown:()=>(0,$.jsxs)(ge.Select,{defaultValue:"--All--",onChange:e=>o("status",e),children:[(0,$.jsx)(Xe,{value:"--All--",children:"--All--"}),(0,$.jsx)(Xe,{value:"Re-Confirmed",children:"Re-Confirmed"}),(0,$.jsx)(Xe,{value:"Booked",children:"Booked"}),(0,$.jsx)(Xe,{value:"No Show",children:"No Show"}),(0,$.jsx)(Xe,{value:"Cancelled",children:"Cancelled"}),(0,$.jsx)(Xe,{value:"Arrived",children:"Arrived"}),(0,$.jsx)(Xe,{value:"Concluded",children:"Concluded"}),(0,$.jsx)(Xe,{value:"Being Seen",children:"Being Seen"})]})}];return(0,$.jsx)(ge.Table,{columns:d,dataSource:i,rowKey:"id",pagination:{pageSize:5},className:"table-container mt-3"})},{Option:ea}=ge.Select,aa=()=>{const[e,a]=(0,l.useState)([{id:1,s_no:"1",mr_number:"23435455",patient_name:"Mr. Praveen",mobile:"9876543210",schedule_date:"27/12/2024",vaccination_name:"Covaccine",remarks:"Null",status:"Being Seen",vaccine_date:"27/12/2024"},{id:2,s_no:"2",mr_number:"432335455",patient_name:"Mr. Praveen",mobile:"9854643210",schedule_date:"07/11/2024",vaccination_name:"Covaccine",remarks:"Null",status:"Being Seen",vaccine_date:"12/10/2024"},{id:3,s_no:"3",mr_number:"412335455",patient_name:"Mr. Praveen",mobile:"4576543210",schedule_date:"12/09/2024",vaccination_name:"Covaccine",remarks:"Null",status:"Being Seen",vaccine_date:"11/06/2024"}]),[t,n]=(0,l.useState)({}),[i,r]=(0,l.useState)(e),o=["--All--","Re-Confirmed","Booked","No Show","Cancelled","Arrived","Concluded","Being Seen"],s=(e,a)=>{n((t=>({...t,[e]:a})))},d=(e,a)=>{const t=a?Ge()(a).format("DD/MM/YYYY"):"";n((a=>({...a,[e]:t})))};(0,l.useEffect)((()=>{let a=e.filter((e=>Object.keys(t).every((a=>{var l;const n=(null===(l=t[a])||void 0===l?void 0:l.toLowerCase())||"";return!n||"--all--"===n||String(e[a]).toLowerCase().includes(n)}))));r(a)}),[t,e]);const c=[{title:"S.No",dataIndex:"s_no",key:"s_no"},{title:"MR Number",dataIndex:"mr_number",key:"mr_number",filterDropdown:()=>(0,$.jsx)(ge.Input,{placeholder:"Search MR Number",onChange:e=>s("mr_number",e.target.value)})},{title:"Patient Name",dataIndex:"patient_name",key:"patient_name",filterDropdown:()=>(0,$.jsx)(ge.Input,{placeholder:"Search Patient",onChange:e=>s("patient_name",e.target.value)})},{title:"Mobile",dataIndex:"mobile",key:"mobile",filterDropdown:()=>(0,$.jsx)(ge.Input,{placeholder:"Search Mobile",onChange:e=>s("mobile",e.target.value)})},{title:"Schedule Date",dataIndex:"schedule_date",key:"schedule_date",filterDropdown:()=>(0,$.jsx)(ge.DatePicker,{format:"DD/MM/YYYY",onChange:e=>d("schedule_date",e)})},{title:"Vaccination Name",dataIndex:"vaccination_name",key:"vaccination_name"},{title:"Remarks",dataIndex:"remarks",key:"remarks",filterDropdown:()=>(0,$.jsx)(ge.Input,{placeholder:"Search Remarks",onChange:e=>s("remarks",e.target.value)})},{title:"Status",dataIndex:"status",key:"status",filterDropdown:()=>(0,$.jsx)(ge.Select,{defaultValue:"--All--",onChange:e=>s("status",e),children:o.map(((e,a)=>(0,$.jsx)(ea,{value:e,children:e},a)))})},{title:"Vaccine Date",dataIndex:"vaccine_date",key:"vaccine_date",filterDropdown:()=>(0,$.jsx)(ge.DatePicker,{format:"DD/MM/YYYY",onChange:e=>d("vaccine_date",e)})},{title:"Options",key:"actions",render:e=>(0,$.jsx)(Je,{itemsArray:[{name:"Schedule Appointment",icon:G.Schedule}],callbackParam:{data:e,from:"schedule_list"}})}];return(0,$.jsx)("div",{children:(0,$.jsx)(ge.Table,{dataSource:i,columns:c,rowKey:"id",pagination:{pageSize:5},bordered:!0,className:"table-container mt-3"})})};var ta=t(35862);const la=()=>{const[e,a]=(0,l.useState)({}),[t,n]=(0,l.useState)([]),[i,r]=(0,l.useState)("--All--"),s=(t,l,n)=>{"select"===n&&r(l),a({...e,[t]:l})},d=[{id:"s_no",label:"S.No",filter:!1},{id:"patient_type",label:"Registration Date",filter:!1},{id:"mr_number",label:"MRD Number",filter:!0,type:"input"},{id:"patient_name",label:"Patient name",filter:!0,type:"input"},{id:"doctor",label:"DOB",filter:!0,type:"input"},{id:"recall_date",label:"Gender",filter:!0,type:"date"},{id:"Plan_of_care",label:"Nationality",filter:!1},{id:"status",label:"Status",filter:!0,type:"select"},{id:"actions",label:"Options",filter:!1}];return(0,$.jsx)(o.Box,{width:"100%",children:(0,$.jsx)(o.TableContainer,{component:o.Paper,sx:{maxHeight:400},children:(0,$.jsxs)(o.Table,{children:[(0,$.jsxs)(o.TableHead,{sx:{height:"1em"},children:[(0,$.jsx)(o.TableRow,{children:d.map((e=>(0,$.jsx)(o.TableCell,{children:e.label})))}),(0,$.jsx)(o.TableRow,{children:d.map((t=>(0,$.jsxs)(o.TableCell,{padding:"8px",children:[t.filter&&"input"===t.type&&(0,$.jsx)(o.TextField,{size:"small",className:"filter-input",id:t.id,value:e[t.id]||"",onChange:e=>s(t.id,e.target.value,"input"),children:t.label}),t.filter&&"date"===t.type&&(0,$.jsx)(ta.l,{className:"filter-input",slotProps:{actionBar:{actions:["clear"]}},onChange:l=>((t,l)=>{let n=Ge()(l).format("DD/MM/YYYY");a("Invalid date"===n?{...e,[t]:""}:{...e,[t]:n})})(t.id,l),sx:{width:"130px"}}),t.filter&&"select"===t.type&&(0,$.jsx)(o.FormControl,{fullWidth:!0,children:(0,$.jsx)(o.Select,{id:"status-select",className:"filter-input",value:i,onChange:e=>s(t.id,e.target.value,"select")})})]})))})]}),(0,$.jsx)(o.TableBody,{children:(0,$.jsx)(o.TableRow,{children:(0,$.jsx)(o.TableCell,{children:"No Data"})})})]})})})},na=()=>{const[e]=(0,p.useSearchParams)(),a=e.get("tab")||"register_patient",[t,n]=(0,l.useState)(a);return(0,l.useEffect)((()=>{n(a)}),[a]),(0,$.jsxs)(xe,{style:{padding:"20px"},children:[(0,$.jsx)(o.Box,{display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,$.jsx)(je,{tabsList:[{name:"Register Patient",value:"register_patient",icon:""},{name:"Revisit",value:"revist_registration",icon:""},{name:"Emergency Registration",value:"emergency_registration",icon:""},{name:"Patient List",value:"patient_list",icon:""}],defaultTab:a,setActiveTab:n})}),(0,$.jsxs)(o.Box,{children:["register_patient"===t&&(0,$.jsx)(_e,{}),"revist_registration"===t&&(0,$.jsx)(Ve,{}),"emergency_registration"===t&&(0,$.jsx)(Le,{}),"patient_list"===t&&(0,$.jsx)(la,{})]})]})};var ia=t(14095),ra=t(73284),oa=t(91875),sa=t(20587),da=t(6601);const ca=t.p+"static/media/doc2.0bc76528581e68cf5f86.jpg";var ua=t(96534),pa=t(78614),ma=t(15892),ha=t(30431),xa=t.n(ha),ga=t(16700),va=t(43838),ba=t(9294);const ja=e=>{let{cardTitle:a,searchByPatientName:t,searchByStatus:n}=e;const[i,r]=(0,l.useState)(xa()()),[s,d]=(0,l.useState)(""),[c,u]=(0,l.useState)(null),[p,m]=(0,l.useState)([]);return(0,$.jsx)("div",{children:"Revenue"===a?(0,$.jsxs)(o.Box,{sx:{display:"flex",alignItems:"center",mt:2,marginBottom:5},children:[(0,$.jsx)(o.Typography,{variant:"h6",align:"center",sx:{flexGrow:1,display:"flex",ml:"250px"},children:"Transaction Details"})," ","   ",(0,$.jsx)(ua.$,{dateAdapter:pa.R,children:(0,$.jsx)(ma.T,{label:"Date",inputFormat:"MM/DD/YYYY",value:i,onChange:e=>{r(e)},renderInput:e=>(0,$.jsx)(o.TextField,{...e})})})]}):""===a?"":(0,$.jsxs)(o.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:2},children:[(0,$.jsxs)(o.Box,{sx:{display:"flex",alignItems:"center",flexGrow:1},children:[(0,$.jsx)(o.Typography,{variant:"h6",sx:{flexGrow:1,ml:2},children:a}),(0,$.jsx)(o.TextField,{size:"small",variant:"outlined",placeholder:"Patient Name/ MRD No",value:s,onChange:e=>{d(e.target.value),e.target.value?t(e.target.value):t("")},InputProps:{startAdornment:(0,$.jsx)(o.InputAdornment,{position:"start",children:(0,$.jsx)(ga.A,{})}),endAdornment:(0,$.jsx)(o.InputAdornment,{position:"end",children:(0,$.jsx)(o.IconButton,{onClick:()=>{d(""),t("")},"aria-label":"clear search",edge:"end",size:"small",sx:{visibility:s?"visible":"hidden"},children:(0,$.jsx)(va.A,{})})})}})]}),(0,$.jsxs)(o.Box,{sx:{display:"flex",alignItems:"center",ml:2,mr:2},children:[(0,$.jsx)(o.Button,{variant:"contained",color:p.length>0?"success":"primary",startIcon:(0,$.jsx)(G.FilterList,{}),onClick:e=>{u(e.currentTarget)},children:p.length>0?`Filter Applied ${p.length}`:"Filter"}),(0,$.jsx)(o.Menu,{anchorEl:c,open:Boolean(c),onClose:()=>{u(null)},PaperProps:{style:{maxHeight:216,width:"fit-content"}},children:(0,$.jsxs)(o.Stack,{direction:"row",spacing:0,p:1,flexWrap:"wrap",children:[[{label:"New Patient",color:"#ADD8E6"},{label:"Old Patient",color:"#d9f2d0"},{label:"Revisit",color:"#fae2d5"},{label:"Walking",color:"#cce7ff"}].map((e=>(0,$.jsx)("div",{children:(0,$.jsx)(o.MenuItem,{onClick:()=>{return n(a=e),void m((e=>e.includes(a.label)?e.filter((e=>e!==a.label)):[...e,a.label]));var a},style:{padding:"8px 16px",cursor:"pointer",backgroundColor:p.includes(e.label)?e.color:"transparent",color:p.includes(e.label)?"black":"inherit"},children:e.label},e.label)}))),(0,$.jsx)(o.MenuItem,{children:(0,$.jsx)(o.IconButton,{color:"primary",onClick:()=>{m([]),u(null),n("")},children:(0,$.jsx)(ba.A,{})})})]})})]})]})})};var ya=t(22208);const fa=(0,t(26855).Ay)(ya.DataGrid)((e=>{let{theme:a}=e;return{".MuiDataGrid-columnHeaders":{textAlign:"center"},".MuiDataGrid-groupHeader":{textAlign:"center"},"& .MuiDataGrid-scrollbar--horizontal":{height:"8px !important",backgroundColor:"#f0f0f0",borderRadius:"4px"},"& .MuiDataGrid-scrollbar--horizontal .MuiDataGrid-scrollbarContent":{backgroundColor:"#888",borderRadius:"4px"},"& .MuiDataGrid-scrollbar--horizontal .MuiDataGrid-scrollbarContent:hover":{backgroundColor:"#555"}}}));function Ca(e){let{dashboardList:a}=e;const[t,l]=n().useState(!1),[i,r]=n().useState(null),s=()=>{l(!1)},d=e=>{if(!e)return"-";return new Date(e).toLocaleDateString("en-GB")},c=e=>e||"-",u=[{field:"sno",headerName:"S. No",width:90},{field:"date",headerName:"Date",width:150,valueGetter:e=>d(e.row.date)},{field:"regNo",headerName:"Reg No",width:150,valueGetter:e=>c(e.row.regNo)},{field:"patientName",headerName:"Patient Name",width:200,valueGetter:e=>c(e.row.patientName)},{field:"view",headerName:"Revenue Details",width:150,renderCell:e=>(0,$.jsx)(o.Button,{variant:"contained",color:"primary",onClick:()=>{return a=e.row,r(a),void l(!0);var a},children:"View"})},{field:"gross",headerName:"Gross",width:150,align:"right",headerAlign:"center",valueGetter:e=>c(e.row.gross)},{field:"discount",headerName:"Discount",width:150,align:"right",headerAlign:"center",valueGetter:e=>c(e.row.discount)},{field:"net",headerName:"Net",width:150,align:"right",headerAlign:"center",valueGetter:e=>c(e.row.net)},{field:"revenue",headerName:"Revenue",width:150,align:"right",headerAlign:"center",valueGetter:e=>c(e.row.revenue)}],p=a.map(((e,a)=>({id:a+1,sno:a+1,date:e.date,regNo:e.regNo,patientName:e.patientName,gross:e.gross,discount:e.discount,net:e.net,revenue:e.revenue})));return(0,$.jsxs)("div",{style:{height:400,width:"100%"},children:[(0,$.jsx)(fa,{rows:p,columns:u,pageSize:5}),(0,$.jsxs)(o.Dialog,{open:t,onClose:s,maxWidth:"sm",fullWidth:!0,children:[(0,$.jsxs)(o.DialogTitle,{children:["Revenue Details",(0,$.jsx)(o.IconButton,{"aria-label":"close",onClick:s,style:{position:"absolute",right:8,top:8},children:(0,$.jsx)(va.A,{})})]}),(0,$.jsx)(o.DialogContent,{children:i&&(0,$.jsxs)(o.Grid,{container:!0,spacing:2,children:[(0,$.jsx)(o.Grid,{item:!0,xs:12,children:(0,$.jsxs)(o.Typography,{variant:"body1",children:[(0,$.jsx)("strong",{children:"Date: "}),d(i.date)]})}),(0,$.jsx)(o.Grid,{item:!0,xs:12,children:(0,$.jsxs)(o.Typography,{variant:"body1",children:[(0,$.jsx)("strong",{children:"Reg No: "}),c(i.regNo)]})}),(0,$.jsx)(o.Grid,{item:!0,xs:12,children:(0,$.jsxs)(o.Typography,{variant:"body1",children:[(0,$.jsx)("strong",{children:"Patient Name: "}),c(i.patientName)]})}),(0,$.jsx)(o.Divider,{style:{marginTop:20,marginBottom:20}}),(0,$.jsx)(o.Grid,{item:!0,xs:12,children:(0,$.jsxs)(o.Typography,{variant:"body1",children:[(0,$.jsx)("strong",{children:"Gross: "}),c(i.gross)]})}),(0,$.jsx)(o.Grid,{item:!0,xs:12,children:(0,$.jsxs)(o.Typography,{variant:"body1",children:[(0,$.jsx)("strong",{children:"Discount: "}),c(i.discount)]})}),(0,$.jsx)(o.Grid,{item:!0,xs:12,children:(0,$.jsxs)(o.Typography,{variant:"body1",children:[(0,$.jsx)("strong",{children:"Net: "}),c(i.net)]})}),(0,$.jsx)(o.Grid,{item:!0,xs:12,children:(0,$.jsxs)(o.Typography,{variant:"body1",children:[(0,$.jsx)("strong",{children:"Revenue: "}),c(i.revenue)]})})]})}),(0,$.jsx)(o.DialogActions,{children:(0,$.jsx)(o.Button,{onClick:s,color:"primary",children:"Close"})})]})]})}var Sa=t(80574),Na=t(48361),wa=t(62224),Ia=t(17696);const Da=[{field:"sNo",headerName:"Queue No",width:150,sortable:!0,filterable:!1,disableColumnMenu:!0,cellClassName:"centeredCell",headerAlign:"center"},{field:"mrdNo",headerName:"MRD No",width:150,sortable:!0,filterable:!1,disableColumnMenu:!0,cellClassName:"centeredCell",headerAlign:"center"},{field:"name",headerName:"Patient Name",width:200,sortable:!0,filterable:!1,disableColumnMenu:!0,cellClassName:"centeredCell",headerAlign:"center"},{field:"consultationDate",headerName:"Last Consultation Date",width:200,sortable:!0,filterable:!1,disableColumnMenu:!0,cellClassName:"centeredCell",headerAlign:"center"},{field:"procedure",headerName:"Procedure",width:180,sortable:!0,filterable:!1,disableColumnMenu:!0,cellClassName:"centeredCell",headerAlign:"center"},{field:"insuranceName",headerName:"Insurance",width:180,sortable:!0,filterable:!1,disableColumnMenu:!0,cellClassName:"centeredCell",headerAlign:"center"},{field:"status",headerName:"Status",width:180,sortable:!0,filterable:!1,disableColumnMenu:!0,renderCell:e=>(0,$.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,$.jsx)(o.Avatar,{sx:{bgcolor:e.value.color,color:"#fff"},children:e.value.initials})}),cellClassName:"centeredCell",headerAlign:"center"},{field:"actions",headerName:"Actions",width:100,sortable:!0,filterable:!1,disableColumnMenu:!0,renderCell:e=>(0,$.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,$.jsx)(Aa,{mrdNo:e.row.mrdNo})}),cellClassName:"centeredCell",headerAlign:"center"}];function Ta(e){let{dashboardList:a}=e;const[t,n]=l.useState([]);return l.useEffect((()=>{const e=a.map(((e,a)=>({id:e.mrdNo||a,sNo:e.sNo,mrdNo:e.mrdNo,name:e.name,consultationDate:e.consultationDate||"-",procedure:e.procedure||"-",insuranceName:e.insuranceName,status:{color:"N"===e.status?"#ADD8E6":"#fae2d0",initials:"N"===e.status?"N":e.status},actions:e.mrdNo})));n(e)}),[a]),(0,$.jsx)("div",{style:{height:400,width:"100%"},children:(0,$.jsx)(ya.DataGrid,{rows:t,columns:Da,pageSize:5,rowsPerPageOptions:[5],disableSelectionOnClick:!0})})}function Aa(e){let{mrdNo:a}=e;const t=(0,p.useNavigate)(),[n,i]=l.useState(null),r=Boolean(n),s=()=>{i(null)},d=e=>{"Open encounter"===e&&t("/doctor/doctorEmr"),s()};return(0,$.jsxs)("div",{children:[(0,$.jsx)(o.IconButton,{onClick:e=>{i(e.currentTarget)},size:"small",children:(0,$.jsx)(Sa.A,{})}),(0,$.jsxs)(o.Menu,{anchorEl:n,open:r,onClose:s,children:[(0,$.jsxs)(o.MenuItem,{onClick:()=>d("Refer to OP"),children:[(0,$.jsx)(o.ListItemIcon,{children:(0,$.jsx)(oa.A,{fontSize:"small"})}),(0,$.jsx)(o.ListItemText,{primary:"Refer to OP"})]}),(0,$.jsxs)(o.MenuItem,{onClick:()=>d("Refer to IP"),children:[(0,$.jsx)(o.ListItemIcon,{children:(0,$.jsx)(Na.A,{fontSize:"small"})}),(0,$.jsx)(o.ListItemText,{primary:"Refer to IP"})]}),(0,$.jsxs)(o.MenuItem,{onClick:()=>d("View Order Form"),children:[(0,$.jsx)(o.ListItemIcon,{children:(0,$.jsx)(wa.A,{fontSize:"small"})}),(0,$.jsx)(o.ListItemText,{primary:"View Order Form"})]}),(0,$.jsxs)(o.MenuItem,{onClick:()=>d("Download Report"),children:[(0,$.jsx)(o.ListItemIcon,{children:(0,$.jsx)(Ia.A,{fontSize:"small"})}),(0,$.jsx)(o.ListItemText,{primary:"Download Report"})]}),(0,$.jsxs)(o.MenuItem,{children:[(0,$.jsx)(o.ListItemIcon,{children:(0,$.jsx)(wa.A,{fontSize:"small"})}),(0,$.jsx)(o.ListItemText,{primary:"View Paitent Details"})]}),(0,$.jsxs)(o.MenuItem,{onClick:()=>d("Open encounter"),children:[(0,$.jsx)(o.ListItemIcon,{children:(0,$.jsx)(wa.A,{fontSize:"small"})}),(0,$.jsx)(o.ListItemText,{primary:"Open encounter"})]})]})]})}const ka=e=>{let{selectedCard:a,dashboardList:t,searchByPatientName:l,searchByStatus:n}=e;return(0,$.jsxs)("div",{children:[(0,$.jsx)(ja,{cardTitle:a,searchByPatientName:l,searchByStatus:n}),"Revenue"===a?(0,$.jsx)(Ca,{dashboardList:t}):(0,$.jsx)(Ta,{dashboardList:t})]})};const Pa={loaderContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",width:"150vw"},svg:{width:"600px",height:"600px"}},Ba=function(){return(0,$.jsx)("div",{style:Pa.loaderContainer,children:(0,$.jsxs)("svg",{version:"1.1",id:"L4",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 100 100",xmlSpace:"preserve",style:Pa.svg,children:[(0,$.jsx)("circle",{fill:"#ADD8E6",stroke:"none",cx:"20",cy:"50",r:"4",children:(0,$.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.1s"})}),(0,$.jsx)("circle",{fill:"#fae2d5",stroke:"none",cx:"40",cy:"50",r:"4",children:(0,$.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.2s"})}),(0,$.jsx)("circle",{fill:"#cce7ff",stroke:"none",cx:"60",cy:"50",r:"4",children:(0,$.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.3s"})})]})})},Ra="#ADD8E6",_a="#d9f2d0",Fa="#fae2d5",Ma="#fae2d5",La="#cce7ff",Ea=()=>{const[e,a]=(0,l.useState)("Today's Appointment"),[t,n]=(0,l.useState)([]),[i,r]=(0,l.useState)([]),[o,s]=(0,l.useState)(""),[d,c]=(0,l.useState)(""),u=async()=>{let e=(await(async(e,a)=>{try{return(await oe.get(`${e}?doctorId=${null===a||void 0===a?void 0:a.doctorId}&ipOpFlag=${null===a||void 0===a?void 0:a.ipOpFlag}`)).data}catch(t){throw console.error("Error fetching doctor dashboard count:",t),t}})("/doctorService/doctor/getCount",{doctorId:1,ipOpFlag:0})).map((e=>{switch(e.displayName){case"Today's Appointment":e.color=Ra,e.icon=(0,$.jsx)(ia.A,{style:{fontSize:"40px"}});break;case"Revenue":e.color=_a,e.icon=(0,$.jsx)(ra.A,{style:{fontSize:"40px"}});break;case"Emergency Patient":e.color=Fa,e.icon=(0,$.jsx)(oa.A,{style:{fontSize:"40px"}});break;case"Waiting list":e.color=Ma,e.icon=(0,$.jsx)(sa.A,{style:{fontSize:"40px"}});break;case"Telemedicine Appointment":e.color=La,e.icon=(0,$.jsx)(da.A,{style:{fontSize:"40px"}})}return e}));n(e)};(0,l.useEffect)((()=>{u(),(async()=>{if("Today's Appointment"===e){let e=await se("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"todaysAppointment",page:1,size:100,ptName:o,status:d});r(e)}})()}),[]);const p=e=>""===e||void 0===e||NaN===e||null===e?"-":e;return(0,$.jsx)("div",{children:0===t.length&&0===i.length?(0,$.jsx)(Ba,{}):(0,$.jsx)("div",{children:(0,$.jsxs)(ye.Container,{fluid:!0,children:[(0,$.jsxs)(ye.Row,{className:"flex-nowrap",children:[(0,$.jsx)(ye.Col,{xs:12,sm:6,md:4,lg:2,children:(0,$.jsxs)(ye.Card,{style:{width:"200px",height:"200px",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)"},children:[(0,$.jsx)(ye.Card.Img,{variant:"top",src:ca,style:{height:"60%"}}),(0,$.jsx)(ye.Card.Body,{className:"d-flex align-items-center justify-content-center",children:(0,$.jsx)(ye.Card.Title,{className:"text-center",children:"Welcome, Dr. John!"})})]})}),t.map(((e,t)=>(0,$.jsx)(ye.Col,{xs:12,sm:6,md:4,lg:2,children:(0,$.jsx)(ye.Button,{variant:"light",className:"p-0",onClick:()=>(async e=>{switch(a(e),e){case"Today's Appointment":let e=await se("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"todaysAppointment",page:1,size:100,ptName:o,status:d});r(e),s("");break;case"Revenue":let a=await se("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"revenue",page:1,size:100,ptName:o,status:d});r(a),s("");break;case"Emergency Patient":let t=await se("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"emergencyPatient",page:1,size:100,ptName:o,status:d});r(t),s("");break;case"Waiting list":let l=await se("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"waitingList",page:1,size:100,ptName:o,status:d});r(l),s("");break;case"Telemedicine Appointment":let n=await se("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"teleAppointment",page:1,size:100,ptName:o,status:d});r(n),s("")}})(e.displayName),children:(0,$.jsx)(ye.Card,{style:{width:"200px",height:"200px",backgroundColor:e.color,borderRadius:"10px",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)"},children:(0,$.jsxs)(ye.Card.Body,{className:"d-flex flex-column align-items-center justify-content-center text-white",children:[e.icon,(0,$.jsx)(ye.Card.Title,{className:"mt-2",children:p(e.displayName)}),(0,$.jsx)(ye.Card.Text,{className:"mt-1",style:{fontSize:"24px"},children:p(e.totalCount)})]})})})},e.displayIndex)))]}),(0,$.jsx)(ka,{selectedCard:e,dashboardList:i,searchByPatientName:async a=>{switch(s(a),e){case"Today's Appointment":let e=await se("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"todaysAppointment",page:1,size:100,ptName:a,status:d});r(e);break;case"Revenue":let t=await se("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"revenue",page:1,size:100,ptName:a,status:d});r(t);break;case"Emergency Patient":let l=await se("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"emergencyPatient",page:1,size:100,ptName:a,status:d});r(l);break;case"Waiting list":let n=await se("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"waitingList",page:1,size:100,ptName:a,status:d});r(n);break;case"Telemedicine Appointment":let i=await se("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"teleAppointment",page:1,size:100,ptName:a,status:d});r(i)}},searchByStatus:async a=>{switch("Old Patient"===a?c("O"):"New Patient"===a?c("N"):"Revisit"===a?c("R"):"Walking"===a&&c("W"),e){case"Today's Appointment":let e=await se("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"todaysAppointment",page:1,size:100,ptName:o,status:a?a.label.charAt(0):""});r(e);break;case"Revenue":let t=await se("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"revenue",page:1,size:100,ptName:o,status:a?a.label.charAt(0):""});r(t);break;case"Emergency Patient":let l=await se("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"emergencyPatient",page:1,size:100,ptName:o,status:a?a.label.charAt(0):""});r(l);break;case"Waiting list":let n=await se("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"waitingList",page:1,size:100,ptName:o,status:a?a.label.charAt(0):""});r(n);break;case"Telemedicine Appointment":let i=await se("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"teleAppointment",page:1,size:100,ptName:o,status:a?a.label.charAt(0):""});r(i)}}})]})})})};var Oa=t(11580);const za=()=>{const[e,a]=(0,l.useState)({doctorId:"",title:"",startTime:"",endTime:""}),[t,n]=(0,l.useState)([]),i=t=>{const{name:l,value:n}=t.target;a({...e,[l]:n})};return(0,$.jsxs)(o.Box,{width:"50%",children:[(0,$.jsx)(ye.Form,{children:(0,$.jsxs)(ye.Row,{className:"mb-3",children:[(0,$.jsxs)(ye.Form.Group,{children:[(0,$.jsx)(ye.Form.Label,{className:"mt-3",children:"Specialist"}),(0,$.jsxs)(ye.Form.Select,{value:e.doctorId,onChange:i,name:"doctorId",children:[(0,$.jsx)("option",{value:"-1",children:"select..."}),t.map((e=>(0,$.jsx)("option",{value:e.doctorId,children:e.doctorName})))]})]}),(0,$.jsxs)(ye.Form.Group,{children:[(0,$.jsx)(ye.Form.Label,{className:"mt-3",children:"Title"}),(0,$.jsx)(ye.Form.Control,{name:"title",required:!0,value:e.title,type:"text",onChange:i})]}),(0,$.jsxs)(ye.Form.Group,{children:[(0,$.jsx)(ye.Form.Label,{className:"mt-3",children:"Start Time"}),(0,$.jsx)(o.Box,{width:"100%",children:(0,$.jsx)(Oa.A,{name:"startTime",onChange:t=>{a({...e,startTime:null===t||void 0===t?void 0:t.format("HH:mm:ss")})},ampm:!1,sx:{width:"100%"}})})]}),(0,$.jsxs)(ye.Form.Group,{children:[(0,$.jsx)(ye.Form.Label,{className:"mt-3",children:"End Time"}),(0,$.jsx)(o.Box,{width:"100%",children:(0,$.jsx)(Oa.A,{name:"endTime",onChange:t=>{a({...e,endTime:null===t||void 0===t?void 0:t.format("HH:mm:ss")})},sx:{width:"100%"},ampm:!1})})]})]})}),(0,$.jsx)(o.Box,{display:"flex",padding:"0.5em",width:"100%",justifyContent:"flex-end",children:(0,$.jsx)(ye.Button,{color:"danger",onClick:()=>{},children:"Block Availability"})})]})},Wa=()=>{const[e,a]=(0,l.useState)("user_privileges"),[t,n]=(0,l.useState)([{role:"Admin",canViewPage1:!0,canViewPage2:!0,canEdit:!0,canDelete:!0},{role:"Receptionist",canViewPage1:!0,canViewPage2:!1,canEdit:!1,canDelete:!1},{role:"Doctor",canViewPage1:!0,canViewPage2:!0,canEdit:!0,canDelete:!1},{role:"Nurse",canViewPage1:!0,canViewPage2:!1,canEdit:!1,canDelete:!1},{role:"Cash Counter",canViewPage1:!0,canViewPage2:!1,canEdit:!1,canDelete:!1}]),i=(e,a)=>{const l=[...t];l[e][a]=!l[e][a],n(l)};return(0,$.jsx)(xe,{children:(0,$.jsxs)(o.Box,{p:2,sx:{backgroundColor:"white",borderRadius:"8px"},children:[(0,$.jsx)(o.Box,{display:"flex",justifyContent:"flex-start",children:(0,$.jsx)(je,{tabsList:[{name:"User privileges",value:"user_privileges",icon:""},{name:"Block Availability",value:"block_availability",icon:""},{name:"Release Availability",value:"release_availability",icon:""}],defaultTab:"user_privileges",setActiveTab:a})}),"user_privileges"===e&&(0,$.jsx)(o.Box,{mt:4,children:(0,$.jsx)(o.TableContainer,{component:o.Paper,elevation:3,children:(0,$.jsxs)(o.Table,{children:[(0,$.jsx)(o.TableHead,{children:(0,$.jsxs)(o.TableRow,{children:[(0,$.jsx)(o.TableCell,{sx:{fontWeight:"bold",backgroundColor:"#e0e0e0"},children:"Roles"}),t.map((e=>(0,$.jsx)(o.TableCell,{sx:{fontWeight:"bold",backgroundColor:"#e0e0e0"},children:e.role},e.role)))]})}),(0,$.jsxs)(o.TableBody,{children:[(0,$.jsxs)(o.TableRow,{children:[(0,$.jsx)(o.TableCell,{sx:{fontWeight:"bold",backgroundColor:"#e0f7fa"},children:"Dashboard"}),t.map(((e,a)=>(0,$.jsx)(o.TableCell,{align:"center",children:(0,$.jsx)(o.Checkbox,{checked:e.canViewPage1,onChange:()=>i(a,"canViewPage1")})},`${e.role}-dashboard`)))]}),(0,$.jsxs)(o.TableRow,{children:[(0,$.jsx)(o.TableCell,{sx:{fontWeight:"bold",backgroundColor:"#e0f7fa"},children:"Appointment"}),t.map(((e,a)=>(0,$.jsx)(o.TableCell,{align:"center",children:(0,$.jsx)(o.Checkbox,{checked:e.canViewPage1,onChange:()=>i(a,"canViewPage1")})},`${e.role}-appointment`)))]}),(0,$.jsxs)(o.TableRow,{children:[(0,$.jsx)(o.TableCell,{sx:{fontWeight:"bold",backgroundColor:"#e0f7fa"},children:"Registration"}),t.map(((e,a)=>(0,$.jsx)(o.TableCell,{align:"center",children:(0,$.jsx)(o.Checkbox,{checked:e.canViewPage1,onChange:()=>i(a,"canViewPage1")})},`${e.role}-registration`)))]}),(0,$.jsxs)(o.TableRow,{children:[(0,$.jsx)(o.TableCell,{sx:{fontWeight:"bold",backgroundColor:"#e0f7fa"},children:"Billing"}),t.map(((e,a)=>(0,$.jsx)(o.TableCell,{align:"center",children:(0,$.jsx)(o.Checkbox,{checked:e.canViewPage1,onChange:()=>i(a,"canViewPage1")})},`${e.role}-billing`)))]}),(0,$.jsxs)(o.TableRow,{children:[(0,$.jsx)(o.TableCell,{sx:{fontWeight:"bold",backgroundColor:"#e0f7fa"},children:"Previllages"}),t.map(((e,a)=>(0,$.jsx)(o.TableCell,{align:"center",children:(0,$.jsx)(o.Checkbox,{checked:e.canViewPage1,onChange:()=>i(a,"canViewPage1")})},`${e.role}-billing`)))]})]})]})})}),"release_availability"===e&&(0,$.jsx)(o.Box,{children:"Release Availability"}),"block_availability"===e&&(0,$.jsx)(o.Box,{display:"flex",justifyContent:"center",mt:2,children:(0,$.jsx)(za,{})})]})})};var Va=t(24305);const Ya=[{claim_no:1,insurar_name:"Test",invoice_no:"31312",invoice_date:"28-11-2024",patient_name:"Akash",mrd_no:"233423",status:"Confirmed",actions:""},{claim_no:2,insurar_name:"Test",invoice_no:"31312",invoice_date:"28-11-2024",patient_name:"Akash",mrd_no:"233423",status:"Confirmed",actions:""},{claim_no:3,insurar_name:"Test",invoice_no:"31312",invoice_date:"28-11-2024",patient_name:"Akash",mrd_no:"233423",status:"Confirmed",actions:""},{claim_no:6,insurar_name:"Test",invoice_no:"31312",invoice_date:"28-11-2024",patient_name:"Akash",mrd_no:"233423",status:"Confirmed",actions:""},{claim_no:7,insurar_name:"Test",invoice_no:"31312",invoice_date:"28-11-2024",patient_name:"Akash",mrd_no:"233423",status:"Confirmed",actions:""}],Ha=()=>{const[e,a]=(0,l.useState)({}),[t,n]=(0,l.useState)("--All--"),[i,r]=(0,l.useState)([]),{loading:s,setLoading:d}=ue(),[c,u]=(0,l.useState)(0),[m,h]=(0,l.useState)(0),[x,g]=(0,l.useState)(0),[v,b]=(0,l.useState)(!1),j=(0,l.useRef)(),y=(0,p.useNavigate)(),f=[{id:"SI.No",label:"SI.No",filter:!1},{id:"insurar_name",label:"Insurar Name",filter:!0,type:"input"},{id:"Total Claims",label:"Invoice NO",filter:!0,type:"input"},{id:"invoice_date",label:" Invoice Date",filter:!0,type:"date"},{id:"patient_name",label:"Patient Name",filter:!0,type:"input"},{id:"mrd_no",label:"MRD No",filter:!0,type:"input"},{id:"status",label:"Status",filter:!0,type:"select"},{id:"actions",label:"Options",filter:!1}],C=[{id:"all",label:"--All--"},{id:"pending",label:"Pending"},{id:"verified",label:"Verified"},{id:"submitted",label:"Submitted"},{id:"re-submitted_pending",label:"Re-Submitted Pending"},{id:"re-verified",label:"Re-Verified"},{id:"re-submitted",label:"Re-Submitted"},{id:"re-re-submitted_pending",label:"Re-Re-Submitted Pending"},{id:"re-re-verified",label:"Re-Re-Verified"},{id:"re-re-submitted",label:"Re-Re-Submitted"},{id:"write_off",label:"Write Off"},{id:"cancelled ",label:"Cancelled"}],S=(t,l,i)=>{"select"===i&&n(l),a({...e,[t]:l})},N=[{name:"Create Patient Visit",icon:Va.A,callback:e=>{y("/secure/registration")}}];return(0,$.jsxs)(o.Box,{padding:"1em",width:"100%",children:[(0,$.jsxs)(o.Box,{display:"flex",justifyContent:"space-between",children:[(0,$.jsx)(o.Box,{children:"OP INSURANCE : CLAIM INVOICES LIST"}),(0,$.jsx)(o.Box,{children:Ge()().format("LLLL")})]}),(0,$.jsx)(Ue,{show:s}),(0,$.jsx)(o.TableContainer,{style:{height:"75vh"},component:o.Paper,onScroll:()=>{const{scrollTop:e,clientHeight:a,scrollHeight:t}=j.current;t-e<=a+1&&v&&g((e=>e+1))},ref:j,children:(0,$.jsxs)(o.Table,{style:{overflow:"auto"},children:[(0,$.jsxs)(o.TableHead,{sx:{height:"1em"},children:[(0,$.jsx)(o.TableRow,{children:f.map((e=>(0,$.jsx)(o.TableCell,{children:e.label})))}),(0,$.jsx)(o.TableRow,{style:{backgroundColor:"white"},children:f.map((l=>(0,$.jsxs)(o.TableCell,{padding:"8px",children:[l.filter&&"input"===l.type&&(0,$.jsx)(o.TextField,{size:"small",id:l.id,className:"filter-input",value:e[l.id]||"",onChange:e=>S(l.id,e.target.value,"input"),children:l.label}),l.filter&&"date"===l.type&&(0,$.jsx)(ta.l,{className:"filter-input",slotProps:{actionBar:{actions:["clear"]}},onChange:t=>((t,l)=>{let n=Ge()(l).format("DD/MM/YYYY");a("Invalid date"===n?{...e,[t]:""}:{...e,[t]:n})})(l.id,t)}),l.filter&&"select"===l.type&&(0,$.jsx)(o.FormControl,{fullWidth:!0,children:(0,$.jsx)(o.Select,{id:"status-select",className:"filter-input",value:t,onChange:e=>S(l.id,e.target.value,"select"),children:C.map(((e,a)=>(0,$.jsx)(o.MenuItem,{value:e.label,children:e.label},`${e.id}_${a}`)))})})]})))})]}),(0,$.jsx)(o.TableBody,{children:null===Ya||void 0===Ya?void 0:Ya.map((e=>(0,$.jsxs)(o.TableRow,{children:[f.map((a=>"actions"!==a.id&&(0,$.jsx)(o.TableCell,{children:e[a.id]},a.id))),(0,$.jsx)(o.TableCell,{children:(0,$.jsx)(Je,{itemsArray:N,callbackParam:{data:e,from:"schedule_list"}})})]},e.id)))})]})})]})},qa=()=>{const[e,a]=(0,l.useState)({}),[t,n]=(0,l.useState)("--All--"),[i,r]=(0,l.useState)([]),{loading:s,setLoading:d}=ue(),[c,u]=(0,l.useState)(0),[m,h]=(0,l.useState)(0),[x,g]=(0,l.useState)(0),[v,b]=(0,l.useState)(!1),j=(0,l.useRef)(),y=(0,p.useNavigate)(),f=[{id:"claim_no",label:"Claim No",filter:!1},{id:"insurar_name",label:"Insurar Name",filter:!1},{id:"total_claims",label:"Total Claims",width:200,filter:!1,children:[{id:"count",label:"Count",filter:!0,type:"input"},{id:"Amount",label:"amount",filter:!0,type:"input"}]},{id:"pending_claims",label:"Pending Claims",filter:!1,width:500,children:[{id:"verification",label:"Verification",filter:!1,children:[{id:"count",label:"Count",filter:!0,type:"input"},{id:"Amount",label:"amount",filter:!0,type:"input"}]},{id:"submission",label:"Submission",filter:!1,children:[{id:"count",label:"Count",filter:!0,type:"input"},{id:"Amount",label:"amount",filter:!0,type:"input"}]}]},{id:"Submitted Claims",label:"submitted_claims",filter:!1,width:250,children:[{id:"count",label:"Count",filter:!0,type:"input"},{id:"Amount",label:"amount",filter:!0,type:"input"}]}],C=[{id:"all",label:"--All--"},{id:"pending",label:"Pending"},{id:"verified",label:"Verified"},{id:"submitted",label:"Submitted"},{id:"re-submitted_pending",label:"Re-Submitted Pending"},{id:"re-verified",label:"Re-Verified"},{id:"re-submitted",label:"Re-Submitted"},{id:"re-re-submitted_pending",label:"Re-Re-Submitted Pending"},{id:"re-re-verified",label:"Re-Re-Verified"},{id:"re-re-submitted",label:"Re-Re-Submitted"},{id:"write_off",label:"Write Off"},{id:"cancelled ",label:"Cancelled"}],S=(t,l,i)=>{"select"===i&&n(l),a({...e,[t]:l})};Va.A;return(0,$.jsxs)(o.Box,{padding:"1em",width:"100%",id:"manual-insurance-page",children:[(0,$.jsxs)(o.Box,{display:"flex",justifyContent:"space-between",children:[(0,$.jsx)(o.Box,{children:"OP INSURANCE : CLAIM INVOICES LIST"}),(0,$.jsx)(o.Box,{children:Ge()().format("LLLL")})]}),(0,$.jsx)(Ue,{show:s}),(0,$.jsx)(o.TableContainer,{style:{height:"75vh"},component:o.Paper,onScroll:()=>{const{scrollTop:e,clientHeight:a,scrollHeight:t}=j.current;t-e<=a+1&&v&&g((e=>e+1))},ref:j,children:(0,$.jsxs)(o.Table,{style:{overflow:"auto"},children:[(0,$.jsxs)(o.TableHead,{sx:{height:"1em"},children:[(0,$.jsx)(o.TableRow,{children:f.map((e=>(0,$.jsx)(o.TableCell,{children:e.children?(0,$.jsxs)(o.Box,{width:e.width?`${e.width}px`:"200px",children:[(0,$.jsx)(o.Box,{children:e.label}),(0,$.jsx)("hr",{}),(0,$.jsx)(o.Box,{display:"flex",px:1,children:e.children.map((e=>(console.log({child:e}),e.children?(0,$.jsxs)(o.Box,{width:"500px",children:[(0,$.jsx)(o.Box,{children:e.label}),(0,$.jsx)("hr",{}),(0,$.jsx)(o.Box,{display:"flex",px:1,children:e.children.map((e=>(0,$.jsxs)(o.Box,{width:"50%",children:[e.label," ",(0,$.jsx)("hr",{})]})))})]}):(0,$.jsxs)(o.Box,{width:"50%",children:[e.label," ",(0,$.jsx)("hr",{})]}))))})]}):(0,$.jsx)(o.Box,{children:e.label})})))}),(0,$.jsx)(o.TableRow,{style:{backgroundColor:"white"},children:f.map((l=>(0,$.jsxs)(o.TableCell,{padding:"8px",children:[l.filter&&"input"===l.type&&(0,$.jsx)(o.TextField,{size:"small",id:l.id,className:"filter-input",value:e[l.id]||"",onChange:e=>S(l.id,e.target.value,"input"),children:l.label}),l.filter&&"date"===l.type&&(0,$.jsx)(ta.l,{className:"filter-input",slotProps:{actionBar:{actions:["clear"]}},onChange:t=>((t,l)=>{let n=Ge()(l).format("DD/MM/YYYY");a("Invalid date"===n?{...e,[t]:""}:{...e,[t]:n})})(l.id,t)}),l.filter&&"select"===l.type&&(0,$.jsx)(o.FormControl,{fullWidth:!0,children:(0,$.jsx)(o.Select,{id:"status-select",className:"filter-input",value:t,onChange:e=>S(l.id,e.target.value,"select"),children:C.map(((e,a)=>(0,$.jsx)(o.MenuItem,{value:e.label,children:e.label},`${e.id}_${a}`)))})})]})))})]}),(0,$.jsx)(o.TableBody,{children:null===Ya||void 0===Ya?void 0:Ya.map((e=>(0,$.jsx)(o.TableRow,{children:f.map((a=>"actions"!==a.id&&(0,$.jsx)(o.TableCell,{children:e[a.id]},a.id)))},e.id)))})]})})]})},Ga=()=>{const[e,a]=(0,l.useState)("claim_details");return(0,$.jsxs)(o.Box,{m:"20px",children:[(0,$.jsx)(o.Box,{display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,$.jsx)(je,{tabsList:[{name:"Claim Details",value:"claim_details"},{name:"Manual Submission",value:"manual_submission"},{name:"E-submission",value:"e_submission"},{name:"Re-Submission",value:"re_submission"},{name:"Prior Request",value:"prior_request"}],defaultTab:"claim_details",setActiveTab:a})}),(0,$.jsxs)(o.Box,{children:["claim_details"===e&&(0,$.jsx)(Ha,{}),"manual_submission"===e&&(0,$.jsx)(qa,{}),"e_submission"===e&&(0,$.jsx)($.Fragment,{}),"re_submission"===e&&(0,$.jsx)($.Fragment,{}),"prior_request"===e&&(0,$.jsx)($.Fragment,{})]})]})},Ua=()=>{const[e,a]=(0,l.useState)("generate_claim");return(0,$.jsxs)(o.Box,{m:"20px",children:[(0,$.jsx)(o.Box,{display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,$.jsx)(je,{tabsList:[{name:"Generate Claim",value:"generate_claim"},{name:"List of Claims",value:"list_of_claims"},{name:"Manual Submission ",value:"manual_submission"},{name:"E-submission",value:"e_submission"},{name:"Re-Submission",value:"re_submission"}],defaultTab:"generate_claim",setActiveTab:a})}),(0,$.jsxs)(o.Box,{children:["generate_claim"===e&&(0,$.jsx)($.Fragment,{}),"list_of_claims"===e&&(0,$.jsx)($.Fragment,{}),"manual_submission"===e&&(0,$.jsx)($.Fragment,{}),"e_submission"===e&&(0,$.jsx)($.Fragment,{}),"re_submission"===e&&(0,$.jsx)($.Fragment,{})]})]})},$a=()=>{const[e,a]=(0,l.useState)("referral_registration");return(0,$.jsxs)(o.Box,{m:"20px",children:[(0,$.jsx)(o.Box,{display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,$.jsx)(je,{tabsList:[{name:"Referral Registration",value:"referral_registration"},{name:"Referral Visit",value:"referral_visit"},{name:"Referral Registration List",value:"referral_Registration_list"}],defaultTab:"referral_registration",setActiveTab:a})}),(0,$.jsxs)(o.Box,{children:["referral_registration"===e&&(0,$.jsx)($.Fragment,{}),"referral_visit"===e&&(0,$.jsx)($.Fragment,{}),"referral_Registration_list"===e&&(0,$.jsx)($.Fragment,{})]})]})},Ja=()=>{const[e,a]=(0,l.useState)("op_insurance"),t=Ya;return console.log(t,"data"),(0,$.jsx)(xe,{children:(0,$.jsxs)(o.Box,{m:"20px",id:"insurance-page",children:[(0,$.jsx)(je,{tabsList:[{name:"OP INSURANCE",value:"op_insurance"},{name:"IP INSURANCE",value:"ip_insurance"},{name:"REFERRAL REGISTRATION",value:"referral_registration"}],defaultTab:"op_insurance",setActiveTab:a}),(0,$.jsxs)(o.Box,{children:["op_insurance"===e&&(0,$.jsx)(Ga,{}),"ip_insurance"===e&&(0,$.jsx)(Ua,{}),"referral_registration"===e&&(0,$.jsx)($a,{})]})]})})},Ka=()=>(0,$.jsx)(o.Box,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",width:"100%"},children:(0,$.jsx)(o.CircularProgress,{})});var Qa=t(27056),Xa=t(97332);const Za=(0,b.createAsyncThunk)("timeslot/doctorAvailability",(async(e,a)=>{let{rejectWithValue:t}=a;try{const a=await f.get(D,{params:e}),{data:t,status:l,statusText:n}=a;return{data:t,status:l,statusText:n}}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),et=(0,b.createSlice)({name:"doctorAvailability",initialState:{doctorAvailableData:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Za.pending,(e=>{e.loading=!0,e.error=null})).addCase(Za.fulfilled,((e,a)=>{e.loading=!1,e.doctorAvailableData=a.payload.data})).addCase(Za.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,at=(0,b.createAsyncThunk)("appointment/bookAppointment",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await f.post(M,e)}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),tt=(0,b.createSlice)({name:"bookAppointment",initialState:{bookAppointmentdata:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(at.pending,(e=>{e.loading=!0,e.error=null})).addCase(at.fulfilled,((e,a)=>{e.loading=!1,e.bookAppointmentdata=a.payload.data})).addCase(at.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,lt=e=>{let{setEventData:a,selectedPatient:t}=e;const[n,i]=(0,l.useState)({scheduleType:"",numberOfSlots:1,mrdNo:"",patientName:"",dob:"",age:"",gender:"",phoneNo:"",email:"",notes:"",additionalInfo:"",insurarName:"",notifyPatient:!1}),[r,s]=(0,l.useState)(!1);(0,l.useEffect)((()=>{a(n)}),[n]);const d=e=>{const{name:a,value:t,type:l,checked:n}=e.target;i((e=>({...e,[a]:"checkbox"===l?n:t})))};return(0,l.useEffect)((()=>{if(t){let e=t.dob,a=t.name;e=e?e.split("T")[0]:"",i({...n,...t,dob:e,patientName:a})}}),[t]),(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(o.Box,{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:2,children:[(0,$.jsxs)(o.TextField,{select:!0,fullWidth:!0,value:n.scheduleType,onChange:d,name:"scheduleType",variant:"outlined",size:"small",label:(0,$.jsxs)($.Fragment,{children:["Schedule Type ",(0,$.jsx)("span",{style:{color:"red"},children:"*"})]}),children:[(0,$.jsx)(o.MenuItem,{value:"-1",children:"Select..."}),[{type:"Routine Check-Up",id:"1"},{type:"Consultation",id:"2"},{type:"Follow-Up Appointment",id:"3"},{type:"Urgent Care",id:"4"},{type:"Pediatric Appointment",id:"5"},{type:"Chronic Disease Management",id:"6"},{type:"Emergency Visit",id:"7"}].map((e=>(0,$.jsx)(o.MenuItem,{value:e.type,children:e.type},e.type)))]}),(0,$.jsxs)(o.TextField,{select:!0,fullWidth:!0,value:n.numberOfSlots,onChange:e=>d(e),name:"numberOfSlots",variant:"outlined",size:"small",label:"No of Slots",children:[(0,$.jsx)(o.MenuItem,{value:"-1",children:"Select..."}),[1,2,3,4,5,6,7,8].map((e=>(0,$.jsx)(o.MenuItem,{value:e,children:e},e)))]}),(0,$.jsx)(o.TextField,{fullWidth:!0,name:"mrdNo",value:n.mrdNo,onChange:d,variant:"outlined",size:"small",label:"MRD No"}),(0,$.jsx)(o.TextField,{fullWidth:!0,name:"patientName",value:n.patientName,onChange:d,variant:"outlined",size:"small",label:(0,$.jsxs)($.Fragment,{children:["Patient Name ",(0,$.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,$.jsx)(o.TextField,{fullWidth:!0,name:"dob",value:n.dob,type:"date",onChange:d,variant:"outlined",size:"small",label:(0,$.jsxs)($.Fragment,{children:[" ","Date of Birth ",(0,$.jsx)("span",{style:{color:"red"},children:"*"})]}),InputLabelProps:{shrink:!0}}),(0,$.jsx)(o.TextField,{fullWidth:!0,name:"age",value:n.age,type:"number",onChange:d,variant:"outlined",size:"small",label:(0,$.jsxs)($.Fragment,{children:[" ","Age ",(0,$.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,$.jsx)(o.TextField,{fullWidth:!0,name:"gender",value:n.gender,onChange:d,variant:"outlined",size:"small",label:(0,$.jsxs)($.Fragment,{children:[" ","Gender ",(0,$.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,$.jsx)(o.TextField,{fullWidth:!0,name:"phoneNo",value:n.phoneNo,type:"tel",onChange:d,placeholder:"Search or type...",variant:"outlined",size:"small",label:(0,$.jsxs)($.Fragment,{children:[" ","Mobile ",(0,$.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,$.jsx)(o.TextField,{fullWidth:!0,name:"email",value:n.email,type:"email",onChange:d,variant:"outlined",size:"small",label:(0,$.jsxs)($.Fragment,{children:[" ","Email ",(0,$.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,$.jsx)(o.TextField,{fullWidth:!0,label:"Insurer Name",name:"insurarName",value:n.insurarName,onChange:d,variant:"outlined",size:"small"}),(0,$.jsx)(o.TextField,{fullWidth:!0,name:"notes",value:n.notes,multiline:!0,onChange:d,variant:"outlined",size:"small",label:"Notes"}),(0,$.jsx)(o.TextField,{fullWidth:!0,name:"additionalInfo",value:n.additionalInfo,multiline:!0,onChange:d,variant:"outlined",size:"small",label:"Additional Info"})]}),(0,$.jsxs)(o.Box,{display:"flex",flexDirection:"column",children:[(0,$.jsx)(o.FormControlLabel,{control:(0,$.jsx)(o.Checkbox,{checked:r,onChange:e=>s(e.target.checked),name:"showNotify"}),label:"Notify Patient"}),r&&(0,$.jsx)(o.FormControl,{component:"fieldset",children:(0,$.jsxs)(o.RadioGroup,{name:"notifyPatient",value:n.notifyPatient,onChange:e=>d(e),row:!0,children:[(0,$.jsx)(o.FormControlLabel,{value:"sms",control:(0,$.jsx)(o.Radio,{}),label:"SMS"}),(0,$.jsx)(o.FormControlLabel,{value:"whatsapp",control:(0,$.jsx)(o.Radio,{}),label:"WhatsApp"}),(0,$.jsx)(o.FormControlLabel,{value:"mail",control:(0,$.jsx)(o.Radio,{}),label:"Mail"})]})})]})]})},nt=e=>{var a,t;let{open:n,setOpen:i,handleClose:s,selectedSlot:d,activeTab:c,specialistList:u,facilityList:p,slotDuration:m,getAvailableSlotsForAllDoctors:h,getAllFacilitySchedules:x,addEventToState:g,slotInfo:v,selecteddoctorData:b}=e;const j=(0,o.useTheme)(),y="MMMM Do YYYY, h:mm A",[f,C]=(0,l.useState)(null),{loading:S,setLoading:N}=ue(),[w,I]=(0,l.useState)(""),[D,T]=(0,l.useState)([]),[A,k]=(0,l.useState)(),P=(0,r.useDispatch)(),{searchPatientData:B}=(0,r.useSelector)((e=>null===e||void 0===e?void 0:e.searchPatient)),R=e=>{const a=e.target.value;P(Ee({searchKey:a})),I(a)};return(0,$.jsxs)(o.Dialog,{open:n,onClose:s,maxWidth:"lg",fullWidth:!0,children:[(0,$.jsx)(Ue,{show:S}),(0,$.jsxs)(o.DialogContent,{dividers:!0,children:[(0,$.jsx)("h5",{children:"Book New Appointment"}),(0,$.jsxs)(o.Box,{paddingTop:"1em",children:[(0,$.jsx)("b",{children:"Booking Date:"})," ",Ge()(null===d||void 0===d?void 0:d.start).format(y)," ","- ",Ge()(null===d||void 0===d?void 0:d.end).format(y)]}),"string"===typeof(null===d||void 0===d?void 0:d.resourceId)&&!ae().isNull(parseInt(d.resourceId.split("_")[1]))&&(0,$.jsxs)(o.Box,{paddingY:"1em",children:[(0,$.jsx)("b",{children:"users"===c?"With Doctor:":"For Facility:"})," ","users"===c?null===(a=u.find((e=>e.doctorId===parseInt(d.resourceId.split("_")[1]))))||void 0===a?void 0:a.doctorName:null===(t=p.find((e=>e.facilityId===parseInt(d.resourceId.split("_")[1]))))||void 0===t?void 0:t.doctorName]}),(0,$.jsxs)(o.Box,{padding:"1em",border:`1px solid ${j.palette.divider}`,mt:1,borderRadius:2,children:[(0,$.jsxs)(o.Box,{pb:4,pt:1,children:[(0,$.jsx)(o.Autocomplete,{freeSolo:!0,options:(null===B||void 0===B?void 0:B.data)||[],getOptionLabel:e=>e.name||"",renderInput:e=>(0,$.jsx)(o.TextField,{...e,label:"Search Patients",variant:"outlined",value:w,onChange:R,placeholder:"Type to search...",size:"small",sx:{width:300}}),onChange:(e,a)=>{k(a)}}),(0,$.jsx)("div",{style:{fontSize:"0.7em"},children:"For existing patients search patients with phone, name, dob, or email for auto fill."})]}),(0,$.jsx)(lt,{activeTab:c,setEventData:C,resourceId:d.resourceId,specialistList:u,setLoading:N,loading:S,selectedPatient:A})]}),(0,$.jsxs)(o.DialogActions,{children:[(0,$.jsx)(o.Button,{variant:"outlined",onClick:s,children:"Cancel"}),(0,$.jsx)(o.Button,{variant:"contained",onClick:async e=>{if(!f)return void console.error("eventData is not available");const a=Ge()(d.start).format("YYYY-MM-DD");let t={branchId:b.branchId,timeInterval:parseInt(m),appointmentTime:Ge()(d.start).format("HH:mm:ss"),appointmentEndTime:Ge()(d.end).format("HH:mm:ss"),specialityId:b.specialityId,doctorId:b.doctorId},l={...f,...t};l={branchId:l.branchId,specialityId:l.specialityId,doctorId:l.doctorId,appointmentDate:a,appointmentTime:l.appointmentTime,timeInterval:l.timeInterval,scheduleType:l.scheduleType,mrdNo:l.mrdNo,notes:l.notes,additionalInfo:l.additionalInfo,insurarName:l.insurarName,numberOfSlots:l.numberOfSlots,notifyPatient:l.notifyPatient,patientName:l.patientName,dob:l.dob,age:l.age,gender:l.gender,phoneNo:l.phoneNo,email:l.email};try{var n,r;N(!0);const e=await P(at(l)),a=null!==(n=null===e||void 0===e||null===(r=e.payload)||void 0===r?void 0:r.message)&&void 0!==n?n:"Appointment booked successfully",t={id:`appointment_${Date.now()}`,title:"",start:v.start,end:v.end,resourceId:v.resourceId};g(t),console.log("New Event Added:",t),"users"===c?h():"rooms"===c&&x(),De([a],"success"),i(!1)}catch(s){var o;console.error("Booking Error:",s),De([null!==(o=null===s||void 0===s?void 0:s.message)&&void 0!==o?o:"Something went wrong! Please try again."],"error")}finally{N(!1)}},children:"Create"})]})]})]})},it=(0,b.createAsyncThunk)("appointment/reSchedule",(async(e,a)=>{let{rejectWithValue:t}=a;try{return(await f.put(E,e)).data}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),rt=(0,b.createSlice)({name:"reSchedule",initialState:{data:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(it.pending,(e=>{e.loading=!0,e.error=null})).addCase(it.fulfilled,((e,a)=>{e.loading=!1,e.data=a.payload.data})).addCase(it.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,ot=e=>{let{handleClose:a,appointmentId:t,doctorId:n,getAvailableSlotsForAllDoctors:i}=e;const{loading:s}=ue(),[d,u]=(0,l.useState)(xa()()),[p,m]=(0,l.useState)(xa()()),h=(0,r.useDispatch)(),{data:x}=(0,r.useSelector)((e=>e.reschedule));x.statusCode;console.log("doctor id:",n);return(0,$.jsxs)(o.Dialog,{open:!0,onClose:()=>a(!1),maxWidth:"sm",fullWidth:!0,children:[s&&(0,$.jsx)(o.Typography,{align:"center",children:"Loading..."}),(0,$.jsx)(o.DialogTitle,{children:"Reschedule Appointment"}),(0,$.jsx)(o.DialogContent,{children:(0,$.jsx)(c.LocalizationProvider,{dateAdapter:pa.R,children:(0,$.jsxs)("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:[(0,$.jsxs)("div",{children:[(0,$.jsx)(o.Typography,{variant:"body1",sx:{marginBottom:1},children:"Appointment Date"}),(0,$.jsx)(c.DatePicker,{value:d,onChange:e=>{u(e)},slotProps:{textField:{size:"small"}}})]}),(0,$.jsxs)("div",{children:[(0,$.jsx)(o.Typography,{variant:"body1",sx:{marginBottom:1},children:"Appointment Time"}),(0,$.jsx)(c.TimePicker,{value:p,onChange:e=>{m(e)},ampm:!1,minutesStep:15,slotProps:{textField:{size:"small"}}})]})]})})}),(0,$.jsxs)(o.DialogActions,{children:[(0,$.jsx)(o.Button,{variant:"outlined",onClick:()=>a(!1),children:"Cancel"}),(0,$.jsx)(o.Button,{variant:"contained",color:"primary",onClick:async()=>{try{await h(it({appointmentId:t,appointmentDate:d.format("YYYY-MM-DD"),appointmentTime:p.format("HH:mm:ss"),doctorId:n})).unwrap(),await i(),a(),De(["Appointment Re scheduled successfully"],"success")}catch(e){De([e||"Something went wrong"],"error")}},children:"Ok"})]})]})},st=(0,b.createAsyncThunk)("appointment/cancelSchedule",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await f.post(O,e)}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),dt=(0,b.createSlice)({name:"cancelSchedule",initialState:{data:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(st.pending,(e=>{e.loading=!0,e.error=null})).addCase(st.fulfilled,((e,a)=>{e.loading=!1,e.data=a.payload.data})).addCase(st.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,ct=e=>{let{handleClose:a,appointmentId:t,getAvailableSlotsForAllDoctors:n}=e;const{loading:i,setLoading:s}=ue(),[d,c]=(0,l.useState)(!1),[u,p]=(0,l.useState)(""),m=(0,r.useDispatch)(),h=JSON.parse(localStorage.getItem("user")),{data:x}=(0,r.useSelector)((e=>e.cancel));x.statusCode;console.log(t,"events");return(0,$.jsxs)(o.Dialog,{open:!0,onClose:a,fullWidth:!0,maxWidth:"sm",children:[(0,$.jsx)(Ue,{show:i}),(0,$.jsx)(o.DialogTitle,{children:"Cancel Appointment"}),(0,$.jsxs)(o.DialogContent,{children:[(0,$.jsx)(o.Box,{paddingY:2,fontWeight:"bold",children:"Are you sure you want to cancel this appointment?"}),(0,$.jsxs)(o.FormControl,{fullWidth:!0,margin:"normal",size:"small",children:[(0,$.jsx)(o.InputLabel,{children:"Reason For Cancellation"}),(0,$.jsxs)(o.Select,{value:u,onChange:e=>{const a=e.target.value;p(a),c("Others"===a)},label:"Reason For Cancellation",children:[(0,$.jsx)(o.MenuItem,{value:"",children:"Select..."}),["No Show","Change of Plans","Overlapping Appointments","Doctor Unavailability","Others"].map((e=>(0,$.jsx)(o.MenuItem,{value:e,children:e},e)))]})]}),d&&(0,$.jsx)(o.TextField,{label:"Reason",fullWidth:!0,margin:"normal",size:"small",onChange:e=>{p(e.target.value)}})]}),(0,$.jsxs)(o.DialogActions,{children:[(0,$.jsx)(o.Button,{onClick:a,variant:"outlined",color:"secondary",children:"Go Back"}),(0,$.jsx)(o.Button,{onClick:async()=>{if(u){s(!0);try{var e;await m(st({appointmentId:t,cancellationReason:u,cancelledBy:null===h||void 0===h||null===(e=h.data)||void 0===e?void 0:e.userName})).unwrap();await n(),De(["Appointment Cancelled successfully"],"success"),a()}catch(l){De([l||"Something went wrong"],"error")}}else De(["Please select a reason for cancellation"],"warning")},variant:"contained",color:"error",children:"Yes, Cancel"})]})]})},ut={width:"30px",height:"30px",borderRadius:"50%",backgroundColor:"rgb(93, 104, 104)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer"},pt=e=>{var a;let{slotDuration:t=15,setEvents:n,getAvailableSlotsForAllDoctors:i}=e;const[s,d]=(0,l.useState)(!1),[c,u]=(0,l.useState)(null),[m,h]=(0,l.useState)(!1),[x,g]=(0,l.useState)(!1),v=(0,p.useNavigate)(),{doctorAvailableData:b}=(0,r.useSelector)((e=>(null===e||void 0===e?void 0:e.docAvailable)||[]));return(0,l.useEffect)((()=>{if(null===b||void 0===b||!b.data)return void console.warn("No doctorAvailableData found.");const e={};b.data.forEach((a=>{var t;null===a||void 0===a||null===(t=a.bookedSlotDetails)||void 0===t||t.forEach((t=>{const l=Ge()(t.appointmentTime,"HH:mm").format("HH:mm");e[l]||(e[l]=[]),e[l].push({...t,doctorId:a.doctorId})}))}));const a=Object.entries(e).map((e=>{var a;let[l,n]=e;const i=n[0];return{title:(0,$.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:1===n.length?(0,$.jsxs)("div",{className:"d-flex flex-column",children:[(0,$.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,$.jsx)("div",{style:ut,children:(null===(a=i.patientName)||void 0===a?void 0:a.charAt(0))||"--"}),(0,$.jsx)("span",{style:{fontWeight:"bold"},children:i.patientName||"--"})]}),(0,$.jsxs)("div",{className:"mt-1",children:[(0,$.jsx)("i",{className:"bi bi-telephone m-1"})," ",i.phoneNo||"--"]}),(0,$.jsxs)(o.Box,{children:[(0,$.jsx)(o.Tooltip,{title:"Reschedule",children:(0,$.jsx)(o.IconButton,{onClick:()=>{h(!0),u(i)},color:"primary",children:(0,$.jsx)(G.Schedule,{})})}),(0,$.jsx)(o.Tooltip,{title:"Cancel",children:(0,$.jsx)(o.IconButton,{onClick:()=>{g(!0),u(i)},children:(0,$.jsx)(G.Cancel,{})})}),(0,$.jsx)(o.Tooltip,{title:i.mrdNo?"Revisit":"Registration",children:(0,$.jsx)(o.IconButton,{onClick:()=>v("/secure/registration",{state:{bookedDetails:i}}),children:i.mrdNo?(0,$.jsx)(G.Replay,{}):(0,$.jsx)(G.AppRegistration,{})})})]})]}):n.map(((e,a)=>{var t;return(0,$.jsx)("div",{className:"slot-avatar",onClick:()=>{u(e),d(!0)},children:(null===(t=e.patientName)||void 0===t?void 0:t.charAt(0))||"--"},a)}))}),start:Ge()(l,"HH:mm").toDate(),end:Ge()(l,"HH:mm").add(t,"minutes").toDate(),resourceId:i.doctorId,appointmentId:i.appointmentId,className:"booked-slot"}}));"function"===typeof n&&n(a)}),[b,t]),(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(o.Dialog,{open:s,onClose:()=>d(!1),maxWidth:"sm",fullWidth:!0,children:[(0,$.jsx)(o.DialogTitle,{children:"Appointment Details"}),(0,$.jsx)(o.DialogContent,{children:c&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(o.Box,{className:"d-flex gap-2",style:{alignItems:"center"},children:[(0,$.jsx)("div",{style:ut,children:(null===(a=c.patientName)||void 0===a?void 0:a.charAt(0))||"--"}),(0,$.jsx)("span",{style:{fontWeight:"bold"},children:c.patientName||"--"})]}),(0,$.jsxs)("div",{className:"mt-2",children:[(0,$.jsx)("i",{className:"bi bi-telephone m-1"})," ",c.phoneNo||"--"]})]})}),(0,$.jsxs)(o.DialogActions,{children:[(0,$.jsx)(o.Tooltip,{title:"Reschedule",children:(0,$.jsx)(o.IconButton,{onClick:()=>{h(!0),d(!1)},color:"primary",children:(0,$.jsx)(G.Schedule,{})})}),(0,$.jsx)(o.Tooltip,{title:"Cancel",children:(0,$.jsx)(o.IconButton,{onClick:()=>{g(!0),d(!1)},children:(0,$.jsx)(G.Cancel,{})})}),(0,$.jsx)(o.Tooltip,{title:"Registration",children:(0,$.jsx)(o.IconButton,{onClick:()=>{v("/secure/registration",{state:{bookedDetails:c}}),d(!1)},children:null!==c&&void 0!==c&&c.mrdNo?(0,$.jsx)(G.Replay,{}):(0,$.jsx)(G.AppRegistration,{})})}),(0,$.jsx)(o.Button,{onClick:()=>d(!1),children:"Close"})]})]}),x&&(0,$.jsx)(ct,{handleClose:()=>g(!1),appointmentId:null===c||void 0===c?void 0:c.appointmentId,getAvailableSlotsForAllDoctors:i}),m&&(0,$.jsx)(ot,{handleClose:()=>h(!1),appointmentId:null===c||void 0===c?void 0:c.appointmentId,doctorId:null===c||void 0===c?void 0:c.doctorId,getAvailableSlotsForAllDoctors:i})]})},mt=(0,Xa.A)(Qa.Calendar),ht=e=>{let{selectedDate:a,setSelectedDate:t,filteredDoctors:n,slotDuration:i,activeTab:s}=e;const d=(0,Qa.momentLocalizer)(Ge()),c=(0,r.useDispatch)(),[u,p]=(0,l.useState)([]),[m,h]=(0,l.useState)([]),[x,g]=(0,l.useState)(!1),[v,b]=(0,l.useState)(null),[j,y]=(0,l.useState)([]),[f,C]=(0,l.useState)(null),[S,N]=(0,l.useState)(!1),[w,I]=(0,l.useState)(!1),{doctorAvailableData:D,loading:T}=(0,r.useSelector)((e=>(null===e||void 0===e?void 0:e.docAvailable)||[]));(0,l.useEffect)((()=>{p(null===D||void 0===D?void 0:D.data)}),[D]);const A=e=>Ge()(e).format("HH:mm"),k=(e,a)=>{var t;if(!u||!Array.isArray(u))return!1;const l=null===(t=u.find((e=>e.doctorId===Number(a))))||void 0===t?void 0:t.availableSlots;return null===l||void 0===l?void 0:l.includes(e)},P=(e,a)=>{var t;if(!u||!Array.isArray(u))return!1;const l=null===(t=u.find((e=>e.doctorId===Number(a))))||void 0===t?void 0:t.bookedSlots;return null===l||void 0===l?void 0:l.includes(e)},B=(0,l.useMemo)((()=>(e,a)=>{const t=A(e),l=k(t,a);let n="",i="rgb(197, 197, 197)";return P(t,a)?(n="booked-slot",i="rgb(138, 216, 190)"):l&&(n="available-slot",i="rgb(158, 213, 223)"),{className:n,style:{backgroundColor:i,borderRadius:"3px"}}}),[u]),R=(0,l.useCallback)((()=>{if(a){const e=Ge()(a).format("YYYY-MM-DD");c(Za({interval:"60"===i?"SIXTY_MINUTES":"30"===i?"THIRTY_MINUTES":"FIFTEEN_MINUTES",date:e}))}}),[c,a,i]);(0,l.useEffect)((()=>{console.log("Fetching available slots..."),R()}),[R]);const _=(0,l.useCallback)((function(e){"users"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"users")&&h(e.map((e=>({id:e.doctorId,title:e.doctorName}))))}),[]);(0,l.useEffect)((()=>{n&&_(n,s)}),[n,s,_]);return console.log("selectedDoctorAvailability",f),(0,$.jsxs)(o.Box,{width:"100%",overflow:"auto",children:[(0,$.jsx)(Ue,{show:T}),(0,$.jsx)(pt,{slotDuration:i,setEvents:y,getAvailableSlotsForAllDoctors:R}),(0,$.jsx)(mt,{date:a,selectable:!0,localizer:d,events:j,resources:m,resourceIdAccessor:"id",resourceTitleAccessor:"title",onNavigate:t,startAccessor:"start",endAccessor:"end",style:{height:"80vh",width:"100%"},step:i,timeslots:1,views:["day","agenda"],defaultView:"day",onSelectSlot:e=>{Ge()(e.start).isBefore(Ge()(),"minute")?De(["You cannot select a past time slot."],"error"):k(A(e.start),e.resourceId)||P(A(e.start),e.resourceId)?(b(e),C(u.find((a=>a.doctorId===parseInt(e.resourceId)))),g(!0)):De(["The selected time slot is not available."],"error")},toolbar:!0,eventPropGetter:()=>({style:{backgroundColor:"inherit",color:"black",border:"none",width:"192px",justifyContent:"center",alignItems:"center"}}),slotPropGetter:B,tooltipAccessor:()=>"",scrollToTime:new Date(1970,1,1,9,0,0)},j.length),x&&(0,$.jsx)(nt,{open:x,setOpen:g,selectedSlot:v,handleClose:()=>g(!1),activeTab:s,slotDuration:i,getAvailableSlotsForAllDoctors:R,setSelectedSlot:b,slotInfo:v,selecteddoctorData:f,addEventToState:e=>{y([...j,e])}})]})},xt=(0,b.createAsyncThunk)("doctor/allDoctors",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await f.get(w,e)}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),gt=(0,b.createSlice)({name:"allDoctors",initialState:{doctorData:[],docloading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(xt.pending,(e=>{e.docloading=!0,e.error=null})).addCase(xt.fulfilled,((e,a)=>{e.docloading=!1,e.doctorData=a.payload.data})).addCase(xt.rejected,((e,a)=>{e.docloading=!1,e.error=a.payload}))}}).reducer,vt=(0,b.createAsyncThunk)("doctor/searchDoctors",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await f.get(k,{params:e})}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),bt=(0,b.createSlice)({name:"searchDoctors",initialState:{searchdoctorData:[],searchDocloading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(vt.pending,(e=>{e.searchDocloading=!0,e.error=null})).addCase(vt.fulfilled,((e,a)=>{e.searchDocloading=!1,e.searchdoctorData=a.payload.data})).addCase(vt.rejected,((e,a)=>{e.searchDocloading=!1,e.error=a.payload}))}}).reducer,jt=()=>{const e=(0,r.useDispatch)(),[a,t]=(0,l.useState)(!0),[n,i]=(0,l.useState)(new Date),[s,d]=(0,l.useState)("users"),[c,u]=(0,l.useState)({}),[p,m]=(0,l.useState)(""),[h,x]=(0,l.useState)(""),{doctorData:g,docloading:v}=(0,r.useSelector)((e=>null===e||void 0===e?void 0:e.allDoctor)),b=(null===g||void 0===g?void 0:g.data)||[],{searchdoctorData:j,searchDocloading:y}=(0,r.useSelector)((e=>null===e||void 0===e?void 0:e.searchDoctor)),f=(null===j||void 0===j?void 0:j.data)||[],C=v||y;(0,l.useEffect)((()=>{e(xt())}),[e]),(0,l.useEffect)((()=>{if((null===b||void 0===b?void 0:b.length)>0){const e=b.reduce(((e,a)=>(e[`${a.doctorId}-${a.specialityId}`]=!0,e)),{});u(e)}}),[b]);const S=h?b.filter((e=>e.specialityId===h)):[];return console.log("filteredDoctors",S),(0,$.jsxs)(o.Box,{display:"flex",width:"100%",children:[(0,$.jsx)(Ue,{show:C}),(0,$.jsxs)("div",{children:[(0,$.jsx)("div",{children:(0,$.jsx)("button",{onClick:()=>t(!a),style:{backgroundColor:"#F0F8F8",color:"#333",border:"1px solid #ccc",borderRadius:"8px",padding:"5px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)",cursor:"pointer",fontSize:"12px",transition:"background-color 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease"},children:a?(0,$.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,$.jsx)(G.ChevronLeft,{}),(0,$.jsx)("span",{style:{fontWeight:"500"},children:"Filter Calendar"})]}):(0,$.jsx)(G.ChevronRight,{})})}),a&&(0,$.jsxs)(o.Box,{width:"280px",overflow:"auto",maxHeight:"calc(100vh - 80px)",borderRight:"1px solid #ccc",padding:"5px",children:[(0,$.jsx)(yt,{value:Ge()(n),onChange:e=>i(e.toDate())}),(0,$.jsx)(o.Box,{mt:2,children:(0,$.jsx)(je,{tabsList:[{name:"Doctors",value:"users"},{name:"Rooms",value:"rooms"}],defaultTab:"users",setActiveTab:d})}),"users"===s&&(0,$.jsx)(o.Box,{display:"flex",flexDirection:"column",mt:1,children:(0,$.jsxs)(o.FormControl,{fullWidth:!0,size:"small",children:[(0,$.jsx)(o.InputLabel,{children:"Select Speciality"}),(0,$.jsxs)(o.Select,{value:h,onChange:e=>{var a;const t=(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value)||"";console.log("Selected Speciality ID:",t),x(t)},label:"Select Speciality",children:[(0,$.jsx)(o.MenuItem,{value:"",children:"Select"}),Array.from(new Map(b.map((e=>[e.specialityId,{label:e.specialityName||"Unknown",value:e.specialityId}]))).values()).map((e=>(0,$.jsx)(o.MenuItem,{value:e.value,children:e.label},e.value)))]})]})})]})]}),(0,$.jsx)(o.Box,{flex:1,sx:{ml:"10px"},children:(0,$.jsx)(o.Box,{flex:1,children:(0,$.jsx)(ht,{selectedDate:n,setSelectedDate:i,filteredDoctors:S,slotDuration:15,allDoctorData:p?f:b,activeTab:s})})})]})},yt=(0,o.styled)(c.DateCalendar)((()=>({backgroundColor:"#fff",maxHeight:"320px",width:"250px",transformOrigin:"top left","& .MuiDateCalendar-days":{fontSize:"12px"},"& .MuiPickersCalendarHeader-root":{backgroundColor:"rgb(172, 233, 233)",fontSize:"14px"}}))),ft=()=>(0,$.jsx)("div",{children:(0,$.jsx)(jt,{})}),Ct=()=>{const[e,a]=(0,l.useState)("doctor_appointment");return(0,$.jsxs)(o.Box,{style:{width:"100%"},className:"p-3",children:[(0,$.jsx)(o.Box,{display:"flex",justifyContent:"space-between",children:(0,$.jsx)(je,{tabsList:[{name:"Doctor Appointment",value:"doctor_appointment",icon:""},{name:"Schedule List",value:"schedule_list",icon:""},{name:"Facility Schedule List",value:"facility_schedule_list",icon:""},{name:"Patient Recall",value:"patient_recall",icon:""},{name:"Patient Vaccination Schedules",value:"patient_vaccination_schedules",icon:""}],defaultTab:"doctor_appointment",setActiveTab:a})}),(0,$.jsxs)(o.Box,{width:"100%",children:["doctor_appointment"===e&&(0,$.jsx)(ft,{}),"schedule_list"===e&&(0,$.jsx)(Qe,{}),"patient_recall"===e&&(0,$.jsx)(Ze,{}),"patient_vaccination_schedules"===e&&(0,$.jsx)(aa,{})]})]})},St=()=>{const[e,a]=(0,l.useState)(!1);return(0,$.jsx)("div",{children:e?(0,$.jsxs)("div",{className:"form-details-section mt-4",children:[(0,$.jsx)(Ce,{label:" No. of Branches"}),(0,$.jsx)(Ce,{label:"Logo",type:"file"}),(0,$.jsx)(Ce,{label:"TRN No"}),(0,$.jsx)(Ce,{label:"Location"}),(0,$.jsx)(Ce,{label:"DHA License No"}),(0,$.jsx)(Ce,{label:"Address"}),(0,$.jsx)(Ce,{label:"DHA User Name"}),(0,$.jsx)(Ce,{label:"Password"}),(0,$.jsx)(Ce,{label:"Email ID"}),(0,$.jsx)(Ce,{label:"Mobile No"}),(0,$.jsx)(Ce,{label:"Website Link"}),(0,$.jsx)("div",{children:(0,$.jsx)(o.Button,{color:"primary",children:"Create"})})]}):(0,$.jsxs)("div",{className:"form-details-section ",children:[(0,$.jsx)(Ce,{label:" Hospital Name"}),(0,$.jsx)(Ce,{label:"Address"}),(0,$.jsx)(Ce,{label:"Zone(district)"}),(0,$.jsx)(Ce,{label:"City"}),(0,$.jsx)(Ce,{label:"Postal Code"}),(0,$.jsx)("div",{children:(0,$.jsx)(o.Button,{color:"primary",onClick:()=>a(!0),children:"Save"})})]})})},Nt=e=>{let{onClose:a}=e;return(0,$.jsx)(o.Dialog,{open:!0,onClose:a,fullWidth:!0,children:(0,$.jsxs)(o.DialogContent,{children:[(0,$.jsx)("h6",{children:"Edit Hospital"}),(0,$.jsxs)("div",{children:[(0,$.jsx)(Ce,{label:" Hospital Name"}),(0,$.jsx)(Ce,{label:"Address"}),(0,$.jsx)(Ce,{label:"Zone(district)"}),(0,$.jsx)(Ce,{label:"City"}),(0,$.jsx)(Ce,{label:"Postal Code"}),(0,$.jsx)("div",{children:(0,$.jsx)(o.Button,{children:"Update"})})]})]})})},wt=e=>{let{onClose:a}=e;return(0,$.jsx)(o.Dialog,{open:!0,onClose:a,fullWidth:!0,children:(0,$.jsxs)(o.DialogContent,{children:[(0,$.jsx)("h6",{children:"Edit Branch"}),(0,$.jsxs)("div",{className:"form-container",children:[(0,$.jsx)(Ce,{label:" No. of Branches"}),(0,$.jsx)(Ce,{label:"Logo",type:"file"}),(0,$.jsx)(Ce,{label:"TRN No"}),(0,$.jsx)(Ce,{label:"Location"}),(0,$.jsx)(Ce,{label:"DHA License No"}),(0,$.jsx)(Ce,{label:"Address"}),(0,$.jsx)(Ce,{label:"DHA User Name"}),(0,$.jsx)(Ce,{label:"Password"}),(0,$.jsx)(Ce,{label:"Email ID"}),(0,$.jsx)(Ce,{label:"Mobile No"}),(0,$.jsx)(Ce,{label:"Website Link"}),(0,$.jsx)("div",{children:(0,$.jsx)(o.Button,{color:"primary",children:"Update"})})]})]})})},It=()=>{const[e,a]=(0,l.useState)(!1),[t,n]=(0,l.useState)(),[i,r]=(0,l.useState)(),s=[{title:"S No",dataIndex:"sNo",key:"sNo"},{title:"Branch Name",dataIndex:"BranchName",key:"BranchName"},{title:"Address",dataIndex:"address",key:"address"},{title:"Speciality/Department",dataIndex:"SpecialityDepartment",key:"SpecialityDepartment",render:(e,t)=>(0,$.jsx)("span",{style:{color:"blue",fontWeight:"bold",cursor:"pointer"},onClick:()=>{a(!0)},children:e})},{title:"Options",key:"actions",render:(e,a)=>(0,$.jsxs)("div",{children:[(0,$.jsx)(G.EditOutlined,{style:{color:"blue",cursor:"pointer"},onClick:()=>{r(!0)}}),(0,$.jsx)(G.DeleteOutline,{style:{color:"red",cursor:"pointer",marginLeft:"10px"},onClick:()=>{}})]})}];return(0,$.jsxs)("div",{children:[(0,$.jsx)(St,{}),(0,$.jsxs)("div",{className:"table-container",children:[(0,$.jsxs)("h6",{children:["ABC Hospital"," ",(0,$.jsx)("span",{children:(0,$.jsx)(o.IconButton,{size:"small",onClick:()=>n(!0),children:(0,$.jsx)(G.EditOutlined,{})})})]}),(0,$.jsx)(ge.Table,{columns:s,dataSource:[{key:"1",sNo:1,BranchName:"ABC Hospital-Thanjavur",address:"123 Street, NY",SpecialityDepartment:"Add"},{key:"2",sNo:2,BranchName:"ABC Hospital-Kumbakonam",address:"456 Avenue, LA",SpecialityDepartment:""}],size:"middle",className:"m-4"})]}),t&&(0,$.jsx)(Nt,{onClose:()=>n(!1)}),i&&(0,$.jsx)(wt,{onClose:()=>r(!1)})]})},{TabPane:Dt}=ge.Tabs,Tt=()=>(0,$.jsx)("div",{className:"w-100 m-3",style:{overflow:"auto"},children:(0,$.jsxs)(ge.Tabs,{defaultActiveKey:"1",type:"card",children:[(0,$.jsx)(Dt,{tab:"Org",children:(0,$.jsx)(It,{})},"1"),(0,$.jsx)(Dt,{tab:"Speciality"},"2"),(0,$.jsx)(Dt,{tab:"User Setup"},"3"),(0,$.jsx)(Dt,{tab:"InPatient"},"4"),(0,$.jsx)(Dt,{tab:"Appointment"},"5")]})}),At=n().lazy((()=>t.e(7294).then(t.t.bind(t,17294,23)))),kt=n().lazy((()=>t.e(4992).then(t.t.bind(t,74992,23)))),Pt=n().lazy((()=>t.e(4435).then(t.t.bind(t,14435,23)))),Bt=n().lazy((()=>t.e(5837).then(t.t.bind(t,65837,23)))),Rt=n().lazy((()=>t.e(881).then(t.t.bind(t,60881,23)))),_t=n().lazy((()=>t.e(5887).then(t.t.bind(t,95887,23)))),Ft=n().lazy((()=>t.e(8867).then(t.t.bind(t,68867,23)))),Mt=n().lazy((()=>t.e(9061).then(t.t.bind(t,39061,23)))),Lt=n().lazy((()=>t.e(1538).then(t.t.bind(t,91538,23)))),Et=n().lazy((()=>t.e(3433).then(t.t.bind(t,33433,23)))),Ot=[...he,...[{path:"/secure",exact:!0,secure:!0,component:()=>(0,$.jsx)(p.Navigate,{to:"/secure/landing"})},{path:"/secure/landing",exact:!0,secure:!0,component:X},{path:"/secure/appointment",exact:!0,secure:!0,component:Ct},{path:"/secure/registration",exact:!0,secure:!0,component:na},{path:"/secure/billing/list",exact:!0,secure:!0,component:()=>{const e=(0,p.useNavigate)();return(0,$.jsx)(l.Suspense,{fallback:(0,$.jsx)(Ka,{}),children:(0,$.jsx)(At,{navigate:e})})}},{path:"/secure/billing/details",exact:!0,secure:!0,component:()=>(0,$.jsx)(l.Suspense,{fallback:(0,$.jsx)(Ka,{}),children:(0,$.jsx)(kt,{})})},{path:"/secure/ipemr",exact:!0,secure:!0,component:()=>(0,$.jsx)(l.Suspense,{fallback:(0,$.jsx)(Ka,{}),children:(0,$.jsx)(Pt,{})})},{path:"/secure/bedandward",exact:!0,secure:!0,component:()=>{const e=(0,p.useNavigate)();return(0,$.jsx)(l.Suspense,{fallback:(0,$.jsx)(Ka,{}),children:(0,$.jsx)(Bt,{navigate:e})})}},{path:"/secure/bedandward/:name",exact:!0,secure:!0,component:()=>(0,$.jsx)(l.Suspense,{fallback:(0,$.jsx)(Ka,{}),children:(0,$.jsx)(Rt,{})})},{path:"/secure/doctorEmr",exact:!0,secure:!0,component:()=>{const e=(0,p.useNavigate)();return(0,$.jsx)(l.Suspense,{fallback:(0,$.jsx)(Ka,{}),children:(0,$.jsx)(_t,{navigate:e})})}},{path:"/secure/doctorEmr/ipDetails/:name",exact:!0,secure:!0,component:()=>(0,$.jsx)(l.Suspense,{fallback:(0,$.jsx)(Ka,{}),children:(0,$.jsx)(Ft,{})})},{path:"/secure/doctorEmr/opDetails/:name",exact:!0,secure:!0,component:()=>(0,$.jsx)(l.Suspense,{fallback:(0,$.jsx)(Ka,{}),children:(0,$.jsx)(Mt,{})})},{path:"/secure/nurseEmr",exact:!0,secure:!0,component:()=>{const e=(0,p.useNavigate)();return(0,$.jsx)(l.Suspense,{fallback:(0,$.jsx)(Ka,{}),children:(0,$.jsx)(Lt,{navigate:e})})}},{path:"/secure/nurseEmr/:name",exact:!0,secure:!0,component:()=>(0,$.jsx)(l.Suspense,{fallback:(0,$.jsx)(Ka,{}),children:(0,$.jsx)(Et,{})})},{path:"/secure/privileges",exact:!0,secure:!0,component:Wa},{path:"/secure/insurance",exact:!0,secure:!0,component:Ja},{path:"/doctor/dashboard",exact:!0,secure:!0,component:Ea},{path:"/secure/master",exact:!0,secure:!0,component:Tt}]];t(2574);const zt=e=>{let{children:a}=e;return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(Ie.ToastContainer,{position:"top-right",autoClose:!1,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnHover:!0,closeButton:!1,theme:"light",toastClassName:e=>{let{type:a}=e;switch(a){case"success":return"toast-success";case"error":return"toast-error";case"warning":return"toast-warning";default:return"toast-info"}}}),a]})};t(83019),t(25008),t(99710);class Wt extends n().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,a){console.error("Error caught in Error Boundary:",e,a)}render(){return this.state.hasError?(0,$.jsx)("h3",{children:"Something went wrong. Please try again later."}):this.props.children}}const Vt=Wt,Yt=(0,b.createAsyncThunk)("appointment/allAppointment",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await f.get(N,{params:e})}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),Ht=(0,b.createSlice)({name:"allAppointment",initialState:{data:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Yt.pending,(e=>{e.loading=!0,e.error=null})).addCase(Yt.fulfilled,((e,a)=>{e.loading=!1,e.data=a.payload.data})).addCase(Yt.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,qt=(0,b.createAsyncThunk)("facility/allFacilitySchedules",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await f.get(T,e)}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),Gt=(0,b.createSlice)({name:"allFacilitySchedules",initialState:{facilitiesSheduleData:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(qt.pending,(e=>{e.loading=!0,e.error=null})).addCase(qt.fulfilled,((e,a)=>{e.loading=!1,e.facilitiesSheduleData=a.payload.data})).addCase(qt.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,Ut=(0,b.createAsyncThunk)("timeslot/facilitiesAvailability",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await f.get(A,{params:e})}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),$t=(0,b.createSlice)({name:"facilitiesAvailability",initialState:{facilitiesAvailableData:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Ut.pending,(e=>{e.loading=!0,e.error=null})).addCase(Ut.fulfilled,((e,a)=>{e.loading=!1,e.facilitiesAvailableData=a.payload.data})).addCase(Ut.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,Jt=(0,b.createAsyncThunk)("facility/allFacilities",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await f.get(I,{params:e})}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),Kt=(0,b.createSlice)({name:"allFacilities",initialState:{facilitiesData:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Jt.pending,(e=>{e.loading=!0,e.error=null})).addCase(Jt.fulfilled,((e,a)=>{e.loading=!1,e.facilitiesData=a.payload.data})).addCase(Jt.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,Qt=(0,b.createAsyncThunk)("facility/searchFacilities",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await f.get(P,{params:e})}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),Xt={auth:Y,allBranch:q,allAppoint:Ht,allDoctor:gt,allFacility:Kt,docAvailable:et,facilitySchedule:Gt,facilityAvailable:$t,searchDoctor:bt,searchFacility:(0,b.createSlice)({name:"searchFacilities",initialState:{searchfacilityData:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Qt.pending,(e=>{e.loading=!0,e.error=null})).addCase(Qt.fulfilled,((e,a)=>{e.loading=!1,e.searchfacilityData=a.payload.data})).addCase(Qt.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,searchPatient:Oe,regPatient:we,revisit:We,emergency:Me,bookAppoint:tt,schedule:He,reschedule:rt,cancel:dt},Zt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,b.combineReducers)({...Xt,...e})},el=(0,b.configureStore)({reducer:Zt()});el.asyncReducers={},el.injectReducer=(e,a)=>{el.asyncReducers[e]?console.warn(`Reducer "${e}" is already injected.`):(console.log(`Injecting reducer: ${e}`),el.asyncReducers[e]=a,el.replaceReducer(Zt(el.asyncReducers)),console.log("Updated Redux state:",el.getState()))};const al=el,tl=()=>{const[e,a]=(()=>{const[e,a]=(0,l.useState)("light"),t=(0,l.useMemo)((()=>({toggleColorMode:()=>a((e=>"light"===e?"dark":"light"))})),[]);return[(0,l.useMemo)((()=>(0,s.A)((e=>{const a=(e=>({..."dark"===e?{grey:{100:"#e0e0e0",200:"#c2c2c2",300:"#a3a3a3",400:"#858585",500:"#666666",600:"#525252",700:"#3d3d3d",800:"#292929",900:"#141414"},primary:{100:"#d0d1d5",200:"#a1a4ab",300:"#727681",400:"#1F2A40",500:"#011d65",600:"#101624",700:"#0c101b",800:"#080b12",900:"#040509"},greenAccent:{100:"#dbf5ee",200:"#b7ebde",300:"#94e2cd",400:"#70d8bd",500:"#4cceac",600:"#3da58a",700:"#2e7c67",800:"#1e5245",900:"#0f2922"},redAccent:{100:"#f8dcdb",200:"#f1b9b7",300:"#e99592",400:"#e2726e",500:"#db4f4a",600:"#af3f3b",700:"#832f2c",800:"#58201e",900:"#2c100f"},blueAccent:{100:"#e1e2fe",200:"#c3c6fd",300:"#a4a9fc",400:"#868dfb",500:"#6870fa",600:"#535ac8",700:"#3e4396",800:"#2a2d64",900:"#151632"}}:{grey:{100:"#141414",200:"#292929",300:"#3d3d3d",400:"#525252",500:"#666666",600:"#858585",700:"#a3a3a3",800:"#c2c2c2",900:"#e0e0e0"},primary:{100:"#040509",200:"#080b12",300:"#0c101b",400:"#f2f0f0",500:"#141b2d",600:"#1F2A40",700:"#727681",800:"#a1a4ab",900:"#d0d1d5"},greenAccent:{100:"#0f2922",200:"#1e5245",300:"#2e7c67",400:"#3da58a",500:"#4cceac",600:"#70d8bd",700:"#94e2cd",800:"#b7ebde",900:"#dbf5ee"},redAccent:{100:"#2c100f",200:"#58201e",300:"#832f2c",400:"#af3f3b",500:"#db4f4a",600:"#e2726e",700:"#e99592",800:"#f1b9b7",900:"#f8dcdb"},blueAccent:{100:"#151632",200:"#2a2d64",300:"#3e4396",400:"#535ac8",500:"#6870fa",600:"#868dfb",700:"#a4a9fc",800:"#c3c6fd",900:"#e1e2fe"}}}))(e);return{palette:{mode:e,..."dark"===e?{primary:{main:a.primary[500]},secondary:{main:a.greenAccent[500]},neutral:{dark:a.grey[700],main:a.grey[500],light:a.grey[100]},background:{default:a.primary[500]}}:{primary:{main:a.primary[100]},secondary:{main:a.greenAccent[500]},neutral:{dark:a.grey[700],main:a.grey[500],light:a.grey[100]},background:{default:"#fcfcfc"}}},typography:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:12,h1:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:40},h2:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:32},h3:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:24},h4:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:20},h5:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:16},h6:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:14}}}})(e))),[e]),t]})();return(0,l.useEffect)((()=>{t.e(3895).then(t.t.bind(t,53895,23)).then((e=>{let{default:a}=e;console.log("Billing Reducer Loaded:",a),al.injectReducer&&al.injectReducer("billing",a)})).catch((e=>console.error("Failed to load billingReducer:",e))),t.e(895).then(t.t.bind(t,90895,23)).then((e=>{let{default:a}=e;console.log("ip Reducer Loaded:",a),al.injectReducer&&al.injectReducer("ip",a)})).catch((e=>console.error("Failed to load ipReducer:",e))),t.e(2589).then(t.t.bind(t,42589,23)).then((e=>{let{default:a}=e;console.log("bedAndWardReducer Loaded:",a),al.injectReducer&&al.injectReducer("bedAndWard",a)})).catch((e=>console.error("Failed to load bedAndWardReducer:",e)))}),[]),(0,$.jsx)(Vt,{children:(0,$.jsx)(r.Provider,{store:al,children:(0,$.jsx)(c.LocalizationProvider,{dateAdapter:u.Y,children:(0,$.jsx)(ce,{children:(0,$.jsx)(d.Provider,{value:a,children:(0,$.jsx)(o.ThemeProvider,{theme:e,children:(0,$.jsxs)(zt,{children:[(0,$.jsx)(o.CssBaseline,{}),(0,$.jsx)(te,{routes:Ot})]})})})})})})})};i.createRoot(document.getElementById("root")).render((0,$.jsx)(p.BrowserRouter,{children:(0,$.jsx)(tl,{})}))}}]);
//# sourceMappingURL=9223.2b51abb2.chunk.js.map