"use strict";(self.webpackChunkemr_ui=self.webpackChunkemr_ui||[]).push([[9223],{26323:(e,a,t)=>{var l=t(50318),n=t.n(l),i=t(60775),r=t(23512),o=t(735),s=t(22235);const d=(0,l.createContext)({toggleColorMode:()=>{}});var c=t(81554),u=t(52724),p=(t(46442),t(7319)),m=t(27550),h=t(54587),x=t(45721),v=t(55316),g=t(22530),b=t(24392),j=t(70996),y=t.n(j);const f=y().create({baseURL:"http://ec2-16-171-232-159.eu-north-1.compute.amazonaws.com:8080/app/"});f.interceptors.request.use((e=>(e.data instanceof FormData?e.headers["Content-Type"]="multipart/form-data":e.headers["Content-Type"]="application/json",e)));const C=f,S="auth/signin",N="admin/getAllBranches",w="doctorappointment/getAllAppointments",I="doctor/getAllDoctors",D="facility/getAllFacilitiesByBranchAndDate",T="timeslot/getAvailableSlotsForAllDoctors",k="facility/getAllFacilitySchedules",A="timeslot/getAvailableSlotsForAllFacilities",P="doctor/searchDoctors",B="facility/searchFacilities",R="patient/searchPatients",_="patient/patientRegistration",F="patient/patientRevisit",L="patient/patientEmergency",E="doctorappointment/bookAppointment",M="doctorappointment/getScheduleList",O="doctorappointment/rescheduleAppointment",z="doctorappointment/cancelAppointment",W=(0,b.createAsyncThunk)("auth/login",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await C.post(S,e)}catch(i){var l,n;return t((null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)||"Login Failed")}})),V=(0,b.createSlice)({name:"auth",initialState:{user:[],loading:!1,error:null},reducers:{logout:e=>{e.user=null,e.loading=!1,e.error=null,localStorage.removeItem("user"),localStorage.removeItem("rememberedUsername")}},extraReducers:e=>{e.addCase(W.pending,(e=>{e.loading=!0,e.error=null})).addCase(W.fulfilled,((e,a)=>{e.loading=!1,e.user=a.payload.data,localStorage.setItem("user",JSON.stringify(a.payload.data))})).addCase(W.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}),{logout:Y}=V.actions,H=V.reducer,q=(0,b.createAsyncThunk)("admin/branch",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await C.get(N,e)}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),G=(0,b.createSlice)({name:"allBranch",initialState:{data:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(q.pending,(e=>{e.loading=!0,e.error=null})).addCase(q.fulfilled,((e,a)=>{e.loading=!1,e.data=a.payload.data})).addCase(q.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer;var $=t(28339),U=t(44238),K=t(56723);const J=(0,r.connect)((e=>{var a,t,l,n,i,r,o,s,d,c;return{branchId:null===e||void 0===e||null===(a=e.auth)||void 0===a||null===(t=a.user)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.branchMaster.branchId,username:null===e||void 0===e||null===(n=e.auth)||void 0===n||null===(i=n.user)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.userName,role:null===e||void 0===e||null===(o=e.auth)||void 0===o||null===(s=o.user)||void 0===s||null===(d=s.data)||void 0===d||null===(c=d.roleMaster)||void 0===c?void 0:c.roleName}}))((e=>{var a,t;let{reloadApp:n,branchId:i,username:s,role:c}=e;const[u,b]=(0,l.useState)([]),[j,y]=(0,l.useState)(null),[f,C]=(0,l.useState)(null);(0,l.useEffect)((()=>{const e=localStorage.getItem("user");if(e){var a,t;const l=JSON.parse(e);y(l.data),C((null===(a=l.data)||void 0===a||null===(t=a.branchMaster)||void 0===t?void 0:t.branchId)||null),console.log("userData",l.data)}else console.log("No user data found in localStorage")}),[]);const S=window.location.href,N=(0,r.useDispatch)(),{data:w}=(0,r.useSelector)((e=>null===e||void 0===e?void 0:e.allBranch)),I=null===w||void 0===w?void 0:w.data,D=(0,p.useNavigate)();(0,l.useEffect)((()=>{null!==I&&void 0!==I&&I.length||N(q())}),[N,I]),(0,l.useEffect)((()=>{I&&b(I)}),[w]);const T=(0,o.useTheme)(),k=(0,l.useContext)(d),[A,P]=(0,l.useState)(!1),B=f?null===(a=u.find((e=>e.branchId===f)))||void 0===a?void 0:a.branchName:"Select Branch";return(0,K.jsxs)(o.Box,{id:"topbar",display:"flex",justifyContent:"space-between",p:2,padding:"5px 16px",height:"10%",sx:{backgroundColor:"#71BBB2",color:"black"},children:[S.includes("secure")&&(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)(o.Box,{display:"flex",my:"auto",gap:"10px",children:[(0,K.jsx)(o.Box,{alignSelf:"center",fontSize:"26px",children:"E M R"}),(0,K.jsx)(o.IconButton,{onClick:()=>D("/secure/landing"),children:(0,K.jsx)($.Menu,{})})]}),(0,K.jsxs)(o.Box,{display:"flex",my:"auto",gap:2,children:[(0,K.jsx)("div",{className:"my-auto ",children:(0,K.jsx)(o.Chip,{label:null===j||void 0===j||null===(t=j.roleMaster)||void 0===t?void 0:t.roleName,variant:"outlined",sx:{fontSize:"12px"}})}),(0,K.jsxs)(o.Box,{alignSelf:"center",sx:{position:"relative",backgroundColor:"transparent",borderRadius:"5px",padding:"5px",cursor:"pointer"},children:[(0,K.jsx)(o.Box,{display:"flex",alignItems:"center",onClick:()=>P(!A),sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:(0,K.jsx)(o.Chip,{icon:(0,K.jsx)(U.A,{color:"white"}),label:B,sx:{backgroundColor:"#71BBB2",fontSize:"12px",textTransform:"capitalize","&:hover":{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)",transform:"scale(1.05)"}}})}),A&&(0,K.jsx)(o.Box,{sx:{position:"absolute",top:"40px",left:"0",right:"0",backgroundColor:"rgb(204, 219, 219)",borderRadius:"5px",zIndex:1,minWidth:"140px",overflowY:"auto",color:"black"},children:u.map((e=>(0,K.jsx)(m.A,{onClick:()=>(e=>{C(e),P(!1)})(e.branchId),children:e.branchName},e.branchId)))})]}),(0,K.jsx)(o.IconButton,{onClick:k.toggleColorMode,children:"dark"===T.palette.mode?(0,K.jsx)(x.A,{}):(0,K.jsx)(h.A,{})}),(0,K.jsx)(o.IconButton,{children:(0,K.jsx)(v.A,{})}),(0,K.jsx)(o.IconButton,{sx:{margin:"0 10px"},onClick:()=>{N(Y()),D("/login")},children:(0,K.jsx)(g.A,{})})]})]}),(0,K.jsx)(K.Fragment,{})]})}));t(49154),t(92421);t(89661),t(23253);var Q=t(28938);const X=[{name:"Appointment",icon:(0,K.jsx)(Q.gUT,{}),path:"/secure/appointment",color:"#6B8E23"},{name:"Registration",icon:(0,K.jsx)(Q.NPy,{}),path:"/secure/registration",color:"#FFA500"},{name:"Doctor EMR",icon:(0,K.jsx)(Q.ifA,{}),path:"/secure/doctorEmr",color:"#9932CC"},{name:"Nurse EMR",icon:(0,K.jsx)(Q.U74,{}),path:"/secure/nurseEmr",color:"#A52A2A"},{name:"Billing",icon:(0,K.jsx)(Q.xXS,{}),path:"/secure/billing/list",color:"#008080"},{name:"Report",icon:(0,K.jsx)(Q.t69,{}),path:"/secure",color:"#FF6B6B"},{name:"IP EMR",icon:(0,K.jsx)(Q.WfF,{}),path:"/secure/ipemr",color:"#4169E1"},{name:"Bed & Ward",icon:(0,K.jsx)(Q.TiC,{}),path:"/secure/bedandward",color:"#A52A2A"},{name:"Laboratory",icon:(0,K.jsx)(Q.XcJ,{}),path:"/secure/lab",color:"#32CD32"},{name:"Master",icon:(0,K.jsx)(Q.kkc,{}),path:"/secure/master",color:"#FF6B6B"}],Z=()=>{const e=(0,p.useNavigate)(),[a,t]=(0,l.useState)([]);return(0,l.useEffect)((()=>{const e=localStorage.getItem("user");if(e){var a,l;const n=JSON.parse(e),i=(null===n||void 0===n||null===(a=n.data)||void 0===a||null===(l=a.roleMaster)||void 0===l?void 0:l.roleName)||"";let r=[];r="Receptionist"===i?X.filter((e=>"Appointment"===e.name||"Registration"===e.name||"Billing"===e.name||"Report"===e.name)):"Billing"===i?X.filter((e=>"Billing"===e.name||"Report"===e.name)):X,t(r)}}),[]),(0,K.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5",padding:"20px",width:"100%"},children:(0,K.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"20px",maxWidth:"900px",justifyContent:"center"},className:"mx-auto",children:a.length>0?a.map(((a,t)=>(0,K.jsxs)("div",{onClick:()=>e(a.path),style:{backgroundColor:a.color,width:"150px",height:"150px",borderRadius:"10px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",color:"white",fontSize:"18px",fontWeight:"bold",textAlign:"center",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)"},onMouseEnter:e=>e.currentTarget.style.transform="scale(1.1)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:[(0,K.jsx)("div",{style:{fontSize:"40px",marginBottom:"10px"},children:a.icon}),a.name]},t))):(0,K.jsx)("p",{children:"No modules available for your role"})})})},ee=e=>{let{children:a}=e;const[t,n]=(0,l.useState)(!0);window.location.href;return(0,K.jsxs)("div",{className:"app",children:[(0,K.jsx)(J,{setIsSidebar:n}),(0,K.jsx)("main",{className:"content",children:a})]})},ae=e=>{const[a,t]=(0,l.useState)(),n=(0,p.useNavigate)(),i=(0,r.useSelector)((e=>{var a;return null===e||void 0===e||null===(a=e.auth)||void 0===a?void 0:a.user})),o=()=>null!==localStorage.getItem("user");(0,l.useEffect)((()=>{o()?n("/secure/landing",{replace:!0}):n("/login",{replace:!0})}),[]),(0,l.useEffect)((()=>{s()}),[i]);const s=()=>{const a=e.routes.map((async a=>await async function(a){let t=a.component;e.interceptor&&(t=await e.interceptor(a));if(a.secure)return o()?(0,K.jsx)(p.Route,{path:a.path,exact:a.exact,element:(0,K.jsx)(ee,{children:(0,K.jsx)(t,{})})},a.path):(0,K.jsx)(p.Route,{path:a.path,exact:a.exact,element:(0,K.jsx)(p.Navigate,{to:"/login"})},a.path);return(0,K.jsx)(p.Route,{path:a.path,exact:a.exact,element:(0,K.jsx)(t,{})},a.path)}(a)));Promise.all(a).then((e=>{t(e)}))};return(0,K.jsx)(p.Routes,{children:a})};var te=t(22015);const le=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const t=(0,K.jsx)(ne,{messages:e}),l={autoClose:1e4};switch(a){case"success":te.toast.success(t,l);break;case"error":te.toast.error(t,l);break;case"warning":te.toast.warn(t,l);break;default:te.toast.info(t,l)}},ne=e=>{let{messages:a}=e;const t=Array.isArray(a)?a:[a];return(0,K.jsx)("div",{children:null===t||void 0===t?void 0:t.map(((e,a)=>(0,K.jsx)("ul",{children:(0,K.jsx)("li",{children:e})},`${e}_${a}`)))})},ie=e=>{let{setShowForgotPage:a,setShowLoginPage:t,setShowSignup:n}=e;const[i,s]=(0,l.useState)({email:"",password:""}),[d,c]=(0,l.useState)({}),u=(0,r.useDispatch)(),m=(0,p.useNavigate)(),{loading:h}=(0,r.useSelector)((e=>e.auth)),x=e=>a=>{s({...i,[e]:a.target.value}),c((a=>({...a,[e]:""})))};return(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{className:"title",children:"Account Login"}),(0,K.jsx)("div",{className:"desc",children:"If you are already a member you can login with your email address and password."}),(0,K.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const a=(()=>{const e={};return i.email.trim()||(e.email="Email is required"),i.password||(e.password="Password is required"),e})();if(0===Object.keys(a).length)try{const e=await u(W(i));W.fulfilled.match(e)?m("/secure/landing"):le("Invalid email or password!")}catch(t){le("Something went wrong!!")}else c(a),le("Something went wrong!!")},children:[(0,K.jsx)(o.TextField,{label:"Email Address",variant:"outlined",fullWidth:!0,margin:"normal",error:!!d.email,onChange:x("email"),size:"small"}),(0,K.jsx)(o.TextField,{label:"Password",type:"password",variant:"outlined",fullWidth:!0,margin:"normal",error:!!d.password,onChange:x("password"),size:"small"}),(0,K.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:[(0,K.jsx)(o.FormControlLabel,{control:(0,K.jsx)(o.Checkbox,{}),label:"Remember me"}),(0,K.jsx)("div",{style:{alignSelf:"center"},children:(0,K.jsx)("div",{onClick:()=>{t(!1),a(!0)},className:"forgot-password-link",children:"Forgot Password ?"})})]}),(0,K.jsx)(o.Button,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:h,children:h?(0,K.jsx)(o.CircularProgress,{size:24}):"Login"}),(0,K.jsxs)("div",{className:"signup-info",children:["Don't have an account ?\xa0",(0,K.jsx)("div",{onClick:()=>{n(!0),t(!1)},className:"signup-link",children:"Sign up here"})]})]})]})},re=e=>{let{setShowLoginPage:a,setShowSignup:t}=e;return(0,K.jsxs)("div",{children:[(0,K.jsx)("h2",{children:"Register Account"}),(0,K.jsxs)("form",{children:[(0,K.jsx)(o.TextField,{label:"Email Address",variant:"outlined",fullWidth:!0,margin:"normal",size:"small"}),(0,K.jsx)(o.TextField,{label:"Phone Number",variant:"outlined",fullWidth:!0,margin:"normal",size:"small"}),(0,K.jsx)(o.TextField,{label:"Enter Password",variant:"outlined",fullWidth:!0,margin:"normal",size:"small"}),(0,K.jsx)(o.TextField,{label:"Confirm Password",variant:"outlined",fullWidth:!0,margin:"normal",size:"small"}),(0,K.jsx)("div",{className:"mt-2",children:(0,K.jsx)(o.Button,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Register"})})]}),(0,K.jsxs)("div",{className:"signup-info",children:["Already have an account ?\xa0",(0,K.jsx)("div",{onClick:()=>{a(!0),t(!1)},className:"signup-link",children:"Login"})]})]})},oe=e=>{let{setShowForgotPage:a,setShowLoginPage:t,setShowReset:n}=e;const[i,r]=(0,l.useState)({email:""}),[s,d]=(0,l.useState)({});return(0,K.jsxs)("div",{children:[(0,K.jsx)("h2",{children:"Forgot Password"}),(0,K.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=(()=>{let e={};return i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(e.email="Enter a valid email"):e.email="Email is required",e})();Object.keys(t).length>0?d(t):(console.log("Sending reset email to:",i.email),n(!0),a(!1))},children:[(0,K.jsx)(o.TextField,{label:"Email address",variant:"outlined",fullWidth:!0,margin:"normal",size:"small",error:!!s.email,value:i.email,onChange:e=>{r({email:e.target.value}),d((e=>({...e,email:""})))}}),(0,K.jsx)("div",{className:"mt-2",children:(0,K.jsx)(o.Button,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Send to Email"})})]}),(0,K.jsxs)("div",{className:"signup-info",children:["Back to\xa0",(0,K.jsx)("div",{onClick:()=>{t(!0),a(!1)},className:"signup-link",children:"Login"})]})]})},se=y().create({baseURL:"http://ec2-16-171-230-69.eu-north-1.compute.amazonaws.com:8080/",headers:{"Content-Type":"application/json"}});se.interceptors.request.use((e=>{const a=localStorage.getItem("branchId");if(a)if("get"===e.method){const t=new URL(e.url,e.baseURL);t.searchParams.append("branchId",parseInt(a)),e.url=t.pathname+t.search}else e.data?e.data={...e.data,branchId:a}:e.data={branchId:a};return e}),(e=>Promise.reject(e))),se.interceptors.response.use((e=>e),(e=>(console.error("API call error:",e),Promise.reject(e))));const de=se,ce=async(e,a)=>{console.log(a,"params");try{return(await de.get(`${e}?doctorId=${null===a||void 0===a?void 0:a.doctorId}&ipOpFlag=${null===a||void 0===a?void 0:a.ipOpFlag}&context=${null===a||void 0===a?void 0:a.context}&page=${null===a||void 0===a?void 0:a.page}&size=${null===a||void 0===a?void 0:a.size}&ptName=${null===a||void 0===a?void 0:a.ptName}&status=${null===a||void 0===a?void 0:a.status}`)).data}catch(t){throw console.error("Error fetching doctor dashboard data:",t),t}},ue=(0,l.createContext)(),pe=e=>{let{children:a}=e;const[t,n]=(0,l.useState)(!1);return(0,K.jsx)(ue.Provider,{value:{loading:t,setLoading:n},children:a})},me=()=>(0,l.useContext)(ue),he=()=>{const[e,a]=(0,l.useState)({password:"",confirmPassword:""}),[t,n]=(0,l.useState)({}),[i,r]=(0,l.useState)(""),[s,d]=(0,l.useState)(""),{loading:c,setLoading:u}=me(),p=t=>l=>{a({...e,[t]:l.target.value}),n((e=>({...e,[t]:""})))};return(0,K.jsxs)("div",{children:[(0,K.jsx)("h2",{children:"Password Reset"}),s&&(0,K.jsx)(o.Alert,{severity:"error",children:s}),i&&(0,K.jsx)(o.Alert,{severity:"success",children:i}),(0,K.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),r(""),d("");const t=(()=>{let a={};return e.password.trim()||(a.password="Password is required"),e.confirmPassword.trim()||(a.confirmPassword="Confirm Password is required"),e.password!==e.confirmPassword&&(a.confirmPassword="Passwords do not match"),a})();if(Object.keys(t).length>0)return void n(t);u(!0);const l=window.location.search,i=new URLSearchParams(l).get("token");try{const a=await(async(e,a)=>{try{return(await de.post(e,a)).data}catch(t){throw t}})(`/auth/resetPassword?token=${i}&newPassword=${e.password}&confirmPassword=${e.confirmPassword}`);u(!1),a.status?r("Password has been reset successfully."):d(a.message||"Failed to reset password.")}catch(o){u(!1),d("Invalid or expired token")}},children:[(0,K.jsx)(o.TextField,{label:"Enter Password",type:"password",variant:"outlined",fullWidth:!0,margin:"normal",error:!!t.password,helperText:t.password,onChange:p("password"),size:"small"}),(0,K.jsx)(o.TextField,{label:"Confirm Password",type:"password",variant:"outlined",fullWidth:!0,margin:"normal",error:!!t.confirmPassword,value:e.confirmPassword,onChange:p("confirmPassword"),size:"small"}),(0,K.jsx)("div",{className:"mt-2",children:(0,K.jsx)(o.Button,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:c,children:c?(0,K.jsx)(o.CircularProgress,{size:24}):"Submit"})})]})]})},xe=t.p+"static/media/bgImg.8aa256ec841ea7969ab5.jpg",ve=[{path:"*",component:()=>(0,K.jsx)(p.Navigate,{to:"/login"})},{path:"/login",component:()=>{const[e,a]=(0,l.useState)(!0),[t,n]=(0,l.useState)(!1),[i,r]=(0,l.useState)(!1),[s,d]=(0,l.useState)(!1);return(0,K.jsx)("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:`url(${xe})`,backgroundSize:"cover",width:"100%"},children:(0,K.jsxs)(o.Paper,{elevation:5,sx:{p:4,width:400,bgcolor:"rgba(255, 255, 255, 0.8)",opacity:"75%"},children:[e&&(0,K.jsx)(ie,{setShowForgotPage:n,setShowLoginPage:a,setShowSignup:r}),t&&(0,K.jsx)(oe,{setShowForgotPage:n,setShowLoginPage:a,setShowReset:d}),i&&(0,K.jsx)(re,{setShowLoginPage:a,setShowSignup:r}),s&&(0,K.jsx)(he,{})]})})}},{path:"/register",component:re},{path:"/forgot-password",component:oe},{path:"/reset-password",component:he}],ge=e=>{let{children:a,style:t,...l}=e;return(0,K.jsx)("div",{style:{width:"100vw",height:"100vh",overflow:"auto",boxSizing:"border-box",backgroundColor:"#68727a05",...t},...l,children:a})};var be=t(9118),je=t(7674);t(88829);const{TabPane:ye}=be.Tabs,fe=e=>{var a;let{tabsList:t,defaultTab:n,setActiveTab:i}=e;const[r,o]=(0,l.useState)(null!==n&&void 0!==n?n:null===(a=t[0])||void 0===a?void 0:a.value);return(0,K.jsxs)("div",{style:{width:"100%"},children:[(0,K.jsx)(be.Tabs,{activeKey:r,onChange:e=>{o(e),i(e)},type:"card",tabBarStyle:{},style:{width:"100%"},children:t.map((e=>(0,K.jsx)(ye,{tab:(0,K.jsx)("span",{children:e.name})},e.value)))}),(0,K.jsx)("div",{children:(0,K.jsx)(je.AnimatePresence,{mode:"wait",children:t.map((e=>e.value===r?(0,K.jsx)(je.motion.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},transition:{duration:.3},style:{position:"absolute",width:"100%"},children:e.content},e.value):null))})})]})};var Ce=t(98046),Se=t(43838);const Ne=e=>{const a=new Date(e),t=new Date,l=t.getFullYear()-a.getFullYear(),n=t.getMonth()-a.getMonth();return n<0||0===n&&t.getDate()<a.getDate()?l-1:l},we=e=>{let{label:a,value:t,onChange:n,type:i="text",options:r=[],required:s=!1,setDependentValue:d,...c}=e;const[u,p]=(0,l.useState)(!1),[m,h]=(0,l.useState)(t||null),x=()=>{p(!(!s||t))};return(0,K.jsx)(o.Box,{sx:{width:"100%"},children:"select"===i?(0,K.jsxs)(o.FormControl,{required:s,error:u,size:"small",sx:{width:"100%"},children:[(0,K.jsx)(o.InputLabel,{children:a}),(0,K.jsxs)(o.Select,{value:t||"",onChange:e=>{const a=r.find((a=>a.label===e.target.value));n((null===a||void 0===a?void 0:a.label)||""),p(s&&!(null!==a&&void 0!==a&&a.label))},onBlur:x,label:a,sx:{width:"100%"},...c,children:[(0,K.jsxs)(o.MenuItem,{value:"",disabled:!0,children:["Select ",a]}),r.map(((e,a)=>(0,K.jsx)(o.MenuItem,{value:e.label,sx:{fontSize:"12px"},children:e.label},a)))]})]}):"file"===i?(0,K.jsx)(o.Box,{children:m?(0,K.jsxs)(o.Box,{sx:{display:"flex",alignItems:"center",border:"1px solid #ccc",borderRadius:"4px",padding:"4px 8px",backgroundColor:"#f9f9f9",justifyContent:"space-between"},children:[(0,K.jsx)(o.Typography,{sx:{fontSize:"14px",color:"#333"},children:m.name}),(0,K.jsx)(o.IconButton,{size:"small",onClick:()=>{h(null),n(null)},children:(0,K.jsx)(Se.A,{fontSize:"small"})})]}):(0,K.jsxs)(o.Button,{variant:"outlined",component:"label",className:"w-100 my-auto",children:["Upload ",a,(0,K.jsx)("input",{type:"file",hidden:!0,onChange:e=>{const a=e.target.files[0];a&&(h(a),n(a),p(!1))}})]})}):(0,K.jsx)(o.TextField,{label:a,value:"date"===i?(v=t,v?new Date(v).toISOString().split("T")[0]:""):t,onChange:e=>{const a=e.target.value;if("date"===i&&d){const e=Ne(a);d(e)}n(a),p(s&&!a)},onBlur:x,size:"small",fullWidth:!0,required:s,type:"textarea"===i?void 0:i,multiline:"textarea"===i,rows:"textarea"===i?2:void 0,error:u,InputLabelProps:{shrink:"date"===i||"time"===i||void 0},inputProps:{..."date"===i&&{pattern:"\\d{4}-\\d{2}-\\d{2}"}},...c})});var v};const Ie={visitOptions:[{id:"6",label:"In Patient",value:"ip"},{id:"7",label:"Out Patient",value:"op"}],genderOpton:[{label:"Select",value:""},{label:"Female",value:"female"},{label:"Male",value:"male"},{label:"Other",value:"other"}],nationalityOptions:(0,t(27141).getNames)().map((e=>({value:e.toLowerCase(),label:e}))),visaTypeOptions:[{id:"1",label:"Local",value:"local"},{id:"2",label:"Resident",value:"resident"},{id:"3",label:"Visitor",value:"visitor"}],specialityOptions:[{id:"1",label:"speciality 1",value:"speciality_1"},{id:"2",label:"speciality 2",value:"speciality_2"}],encounterTypeOptions:[{id:"1",label:"No Bed + No Emergency Room",value:"no_bed_no_emergency_room"},{id:"2",label:"No Bed + Emergency Room",value:"no_bed_emergency_room"},{id:"3",label:"Daycase Bed + No Emergency Room",value:"daycase_bed_no_emergency_room"},{id:"4",label:"Daycase Bed + Emergency Room",value:"daycase_bed_emergency_room"}],ipEncounterTypeOptions:[{id:"1",label:"daycase bed + emergency  ",value:"daycase_emergency_room"}],doctorOptions:[{id:"1",label:"Doctor 1",value:"doctor_1"},{id:"2",label:"Doctor 2",value:"doctor_2"}],paymentOptions:[{id:"1",label:"Cash",value:"cash"},{id:"2",label:"Insurance",value:"insurance"},{id:"3",label:"Corporate",value:"corporate"}],infoSourceOptions:[{id:"1",label:"Event",value:"event"},{id:"2",label:"Family and Friends",value:"family_and_friends"},{id:"3",label:"Fazaa",value:"fazaa"},{id:"4",label:"Google",value:"google"},{id:"5",label:"My Alfred App",value:"my_alfred_app"},{id:"6",label:"Promotions",value:"promotion"},{id:"7",label:"Social Media",value:"social_media"},{id:"8",label:"Website",value:"website"}],patientTypeOptions:[{id:"1",label:"Normal",value:"normal"},{id:"2",label:"Recruitment",value:"recruitment"},{id:"3",label:"Pre-Employment",value:"pre-employment"},{id:"4",label:"VIP",value:"vip"},{id:"5",label:"VVIP",value:"vvip"},{id:"6",label:"Determination",value:"determination"}],otherIdOptions:[{id:"1",label:"Passport",value:"passport"},{id:"2",label:"GCC ID",value:"gcc_id"},{id:"3",label:"Driving License",value:"driving_license"}],addressOptions:[{id:"1",label:"Dubai",value:"Dubai"},{id:"2",label:"Abu Dhabi",value:"Abu Dhabi"},{id:"3",label:"Sharjah",value:"Sharjah"},{id:"4",label:"Fujairah",value:"Fujairah"},{id:"5",label:"Ras Al Khaimah",value:"Ras Al Khaimah"},{id:"6",label:"Umm Al Quwain",value:"Umm Al Quwain"},{id:"7",label:"Ajman",value:"Ajman"},{id:"8",label:"Others",value:"Others"},{id:"9",label:"Unknown",value:"Unknown"}],referralOptions:[{id:"1",label:"Yes",value:"yes"},{id:"2",label:"No",value:"no"}],religionOptions:[{id:"1",label:"Buddhist",value:"BUD"},{id:"2",label:"Buddhist: Mahayana",value:"BMA"},{id:"3",label:"Buddhist: Theravada",value:"BTH"},{id:"4",label:"Christian",value:"CHR"},{id:"5",label:"Christian: Anglican",value:"ANG"},{id:"6",label:"Christian: Baptist",value:"BAP"},{id:"7",label:"Christian: Christian Science",value:"CHS"},{id:"8",label:"Christian: Episcopalian",value:"EPI"},{id:"9",label:"Christian: Greek Orthodox",value:"GRE"},{id:"10",label:"Christian: Jehovah's Witness",value:"JWN"},{id:"11",label:"Christian: Lutheran",value:"LUT"},{id:"12",label:"Christian: Mennonite",value:"MEN"},{id:"13",label:"Christian: Methodist",value:"MET"},{id:"14",label:"Christian: Pentecostal",value:"PEN"},{id:"15",label:"Christian: Presbyterian",value:"PRE"},{id:"16",label:"Christian: Protestant",value:"PRO"},{id:"17",label:"Christian: Roman Catholic",value:"CAT"},{id:"18",label:"Christian: Seventh Day Adventist",value:"SEV"},{id:"19",label:"Christian: Unitarian Universalist",value:"UNU"},{id:"20",label:"Ethnic Religionist",value:"ERL"},{id:"21",label:"Hindu",value:"HIN"},{id:"22",label:"Hindu: Other",value:"HOT"},{id:"23",label:"Jain",value:"JAI"},{id:"24",label:"Jewish",value:"JEW"},{id:"25",label:"Muslim",value:"MOS"},{id:"26",label:"Muslim: Other",value:"MOT"},{id:"27",label:"Muslim: Shiite",value:"MSH"},{id:"28",label:"Muslim: Sunni",value:"MSU"},{id:"29",label:"Other",value:"OTH"},{id:"30",label:"Sikh",value:"SIK"},{id:"31",label:"Shintoist",value:"SHN"},{id:"32",label:"Unknown",value:"VAR"}],patientPriorityOptions:[{id:"1",label:"Normal",value:"normal"},{id:"2",label:"VIP",value:"vip"},{id:"3",label:"VVIP",value:"vvip"}],maritalStatusOptions:[{id:"1",label:"Annulled",value:"annulled"},{id:"2",label:"Divorced",value:"divorced"},{id:"3",label:"Legally Married",value:"legally_married"},{id:"4",label:"Married",value:"married"},{id:"5",label:"Other",value:"other"},{id:"6",label:"Separated",value:"separated"},{id:"7",label:"Single",value:"single"},{id:"8",label:"Unknown",value:"unknown"},{id:"9",label:"Widowed",value:"widowed"},{id:"10",label:"Unmarried",value:"unmarried"}],occupationOptions:[{value:"",label:"--Please choose an option--"},{value:"agriculture",label:"Agriculture"},{value:"airlines",label:"Airlines"},{value:"healthcare",label:"Healthcare and medicine"},{value:"arts",label:"Arts and entertainment"},{value:"banking",label:"Banking and Finance"},{value:"blue_collar",label:"Blue Collar"},{value:"business",label:"Business"},{value:"consultant",label:"Consultant"},{value:"industrial",label:"Industrial and manufacturing"},{value:"home_maker",label:"Home Maker"},{value:"hospitality",label:"Hospitality"},{value:"it_professional",label:"IT Professional"},{value:"law_enforcement",label:"Law enforcement and armed forces"},{value:"lawyer",label:"Lawyer"},{value:"media",label:"Media"},{value:"mining",label:"Mining"},{value:"other",label:"Other"},{value:"research",label:"Research"},{value:"retired",label:"Retired"},{value:"road_transport",label:"Road Transport"},{value:"science_technology",label:"Science and technology"},{value:"shipping",label:"Shipping"},{value:"skilled_labor",label:"Skilled Labor"},{value:"sports",label:"Sports"},{value:"student",label:"Student"},{value:"teacher",label:"Teacher"},{value:"unknown",label:"Unknown"}]},De=(0,b.createAsyncThunk)("patient/registerPatients",(async(e,a)=>{let{rejectWithValue:t}=a;try{const a=new FormData;Object.keys(e).forEach((t=>{a.append(t,e[t])}));return(await C.post(_,a)).data}catch(i){var l,n;return t((null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)||"Something went wrong")}})),Te=(0,b.createSlice)({name:"registerPatients",initialState:{registerPatientData:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(De.pending,(e=>{e.loading=!0,e.error=null})).addCase(De.fulfilled,((e,a)=>{e.loading=!1,e.registerPatientData=a.payload.data})).addCase(De.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer;var ke=t(51789),Ae=t.n(ke);const Pe=e=>{let{patientData:a,setShowPatientInfo:t}=e;if(!a)return(0,K.jsx)(o.Box,{p:3,textAlign:"center",children:"No patient data available"});const l=`${window.location.origin}/confirm-registration?mrdNo=${null===a||void 0===a?void 0:a.mrdNo}`;return(0,K.jsxs)(o.Box,{p:3,style:{backgroundColor:"#fff"},children:[(0,K.jsx)("div",{className:"text-dark header mb-3",children:"Patient Demographic Details"}),(0,K.jsx)(o.Box,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",gap:2,p:2,children:[{label:"MRD No",value:null===a||void 0===a?void 0:a.mrdNo},{label:"Patient Name",value:null===a||void 0===a?void 0:a.patientName},{label:"Date of Birth",value:null===a||void 0===a?void 0:a.dob},{label:"Visit Type",value:null===a||void 0===a?void 0:a.visitType},{label:"Nationality",value:null===a||void 0===a?void 0:a.nationality},{label:"Visa Type",value:null===a||void 0===a?void 0:a.visaType},{label:"Phone Number",value:null===a||void 0===a?void 0:a.phoneNumber},{label:"Info Source",value:null===a||void 0===a?void 0:a.infoSource},{label:"Address",value:null===a||void 0===a?void 0:a.address},{label:"Referral Case",value:null===a||void 0===a?void 0:a.referralCase},{label:"Reg Date",value:null===a||void 0===a?void 0:a.regDate},{label:"Age",value:null===a||void 0===a?void 0:a.age},{label:"Email ID",value:null===a||void 0===a?void 0:a.email},{label:"National ID",value:null===a||void 0===a?void 0:a.nationalId},{label:"Phone Number (Work)",value:null===a||void 0===a?void 0:a.workPhoneNumber},{label:"Preferred Language",value:null===a||void 0===a?void 0:a.language},{label:"Religion",value:null===a||void 0===a?void 0:a.religion},{label:"Referred By",value:null===a||void 0===a?void 0:a.referredBy},{label:"Patient Type",value:null===a||void 0===a?void 0:a.patientType},{label:"Patient Priority",value:null===a||void 0===a?void 0:a.patientPriority},{label:"Gender",value:null===a||void 0===a?void 0:a.gender},{label:"Marital Status",value:null===a||void 0===a?void 0:a.maritalStatus},{label:"Other ID",value:null===a||void 0===a?void 0:a.otherId},{label:"Land Phone",value:null===a||void 0===a?void 0:a.landPhone},{label:"Occupation",value:null===a||void 0===a?void 0:a.occupation},{label:"Place",value:null===a||void 0===a?void 0:a.place},{label:"Patient Remark",value:null===a||void 0===a?void 0:a.patientRemarks}].map((e=>{let{label:a,value:t}=e;return(0,K.jsxs)(o.Box,{minWidth:"150px",display:"flex",flexDirection:"column",children:[(0,K.jsx)("div",{style:{color:"rgb(142, 150, 150)"},children:a})," ",(0,K.jsxs)("div",{children:[" ",null!==t&&void 0!==t?t:"--"]})]},a)}))}),(0,K.jsx)(o.Box,{mt:3,display:"flex",justifyContent:"end",children:(0,K.jsx)(Ae(),{value:l,style:{width:"100px",height:"100px"}})}),(0,K.jsx)(o.Box,{p:2,display:"flex",justifyContent:"end",children:(0,K.jsx)(o.Button,{variant:"contained",color:"primary",onClick:()=>t(!1),children:"Close"})})]})},Be=(0,b.createAsyncThunk)("doctor/allDoctors",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await C.get(I,e)}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),Re=(0,b.createSlice)({name:"allDoctors",initialState:{doctorData:[],docloading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Be.pending,(e=>{e.docloading=!0,e.error=null})).addCase(Be.fulfilled,((e,a)=>{e.docloading=!1,e.doctorData=a.payload.data})).addCase(Be.rejected,((e,a)=>{e.docloading=!1,e.error=a.payload}))}}).reducer,_e=()=>{var e,a,t;const n=Ie,i=(0,r.useDispatch)(),s=(0,p.useLocation)(),d=null===(e=s.state)||void 0===e?void 0:e.bookedDetails,c=null===(a=s.state)||void 0===a?void 0:a.patientData,u=null===(t=s.state)||void 0===t?void 0:t.rowData,[m,h]=(0,l.useState)(!1),[x,v]=(0,l.useState)(),{loading:g,error:b}=(0,r.useSelector)((e=>e.regPatient)),{registerPatientData:j}=(0,r.useSelector)((e=>e.regPatient)),{doctorData:y}=(0,r.useSelector)((e=>null===e||void 0===e?void 0:e.allDoctor)),f=(null===y||void 0===y?void 0:y.data)||[],[C,S]=(0,l.useState)([]),[N,w]=(0,l.useState)([]);(0,l.useEffect)((()=>{i(Be())}),[]);const I=()=>{const e=new Date;return`${e.toISOString().split("T")[0]} ${e.toTimeString().split(" ")[0]}`},D={image:"",visitType:"",patientName:"",gender:"",dob:"",nationality:"",visaType:"",phoneNumber:"",infoSource:"",address:"",referralCase:"",regDate:I(),age:"",email:"",nationalId:"",workPhoneNumber:"",language:"",religion:"",referredBy:"",patientType:"",patientPriority:"",maritalStatus:"",otherId:"",landPhone:"",occupation:"",place:"",patientRemarks:"",speciality:"",encounterType:"",doctorName:"",paymentType:"",subInsurance:"",networkType:"",insuranceCardNo:"",insuranceEffDate:"",certificateNumber:"",maxInsuranceLiability:"",maxInsuranceCopay:"",extraCardNumber:"",insuranceExpireDate:"",dependents:"",insuranceClaimNumber:"",insuranceApprovalLimit:"",copayPatient:"",admissionDate:"",admissionTime:"",expectedDischargeDate:"",expectedDischargeTime:"",admissionNote:"",ward:"",roomNo:"",bedNo:"",bedRate:"",accomodationNote:""},[T,k]=(0,l.useState)({visitType:c?"In Patient":"",patientName:(null===d||void 0===d?void 0:d.patientName)||(null===c||void 0===c?void 0:c.patient)||(null===u||void 0===u?void 0:u.patientName)||"",gender:"",dob:"",nationality:"",visaType:"",phoneNumber:(null===d||void 0===d?void 0:d.phoneNo)||(null===c||void 0===c?void 0:c.mobile)||(null===u||void 0===u?void 0:u.mobile)||"",infoSource:"",address:"",referralCase:"",regDate:I(),age:"",email:(null===d||void 0===d?void 0:d.emailId)||(null===u||void 0===u?void 0:u.emailId)||"",nationalId:"",workPhoneNumber:"",language:"",religion:"",referredBy:"",patientType:"",patientPriority:"",maritalStatus:"",otherIdName:"",otherIdNo:"",landPhone:"",occupation:"",place:"",patientRemarks:"",speciality:"",encounterType:"",doctorName:(null===c||void 0===c?void 0:c.doctor)||(null===u||void 0===u?void 0:u.doctorName)||"",paymentType:"",subInsurance:"",networkType:"",insuranceCardNo:"",insuranceEffDate:"",certificateNumber:"",maxInsuranceLiability:"",maxInsuranceCopay:"",extraCardNumber:"",insuranceExpireDate:"",dependents:"",insuranceClaimNumber:"",insuranceApprovalLimit:"",copayPatient:"",existing:"no",admissionDate:"",admissionTime:"",expectedDischargeDate:(null===c||void 0===c?void 0:c.exp_discharge_date)||"",expectedDischargeTime:"",admissionNote:"",ward:(null===c||void 0===c?void 0:c.ward)||"",roomNo:"",bedNo:"",bedRate:"",accomodationNote:""});(0,l.useEffect)((()=>{const e=[...new Set(f.map((e=>e.specialityName)))].map((e=>({label:e,value:e})));S(e)}),[f]),(0,l.useEffect)((()=>{if(T.speciality){const e=f.filter((e=>e.specialityName===T.speciality)).map((e=>({label:e.doctorName,value:e.doctorId})));w(e)}else w([])}),[T.speciality,f]);const A=(e,a)=>{k((t=>({...t,[e]:a})))};return(0,l.useEffect)((()=>{200===(null===j||void 0===j?void 0:j.statusCode)?(h(!0),v(null===j||void 0===j?void 0:j.data)):b&&le("Something went wrong!!","error")}),[j,b]),(0,K.jsx)(o.Box,{paddingBottom:"20%",children:m?(0,K.jsx)(Pe,{patientData:x,setShowPatientInfo:h}):(0,K.jsxs)("form",{children:[(0,K.jsxs)(o.Box,{p:1,width:"100%",children:[(0,K.jsx)("div",{children:(0,K.jsx)("p",{className:"text-dark header",children:"Patient Demographic Details"})}),(0,K.jsxs)(o.Box,{className:"form-details-section",children:[(0,K.jsx)(we,{type:"file",onChange:e=>{console.log("Selected file:",e)},inputProps:{accept:"image/*"}}),(0,K.jsx)(we,{label:"Visit Type",required:!0,type:"select",options:n.visitOptions,value:T.visitType,onChange:e=>A("visitType",e)}),(0,K.jsx)(we,{label:"Reg Date",type:"date",required:!0,value:T.regDate,onChange:e=>A("regDate",e)}),(0,K.jsx)(we,{label:"Patient Name",required:!0,value:T.patientName,onChange:e=>A("patientName",e)}),(0,K.jsx)(we,{label:"Date of Birth",required:!0,type:"date",value:T.dob,onChange:e=>A("dob",e),setDependentValue:e=>A("age",e)}),(0,K.jsx)(we,{label:"Age",required:!0,value:T.age,onChange:e=>A("age",e)}),(0,K.jsx)(we,{label:"Gender",required:!0,type:"select",options:n.genderOpton,value:T.gender,onChange:e=>A("gender",e)}),(0,K.jsx)(we,{label:"Email ID",required:!0,value:T.email,onChange:e=>A("email",e)}),(0,K.jsx)(we,{label:"Phone Number",required:!0,value:T.phoneNumber,onChange:e=>A("phoneNumber",e)}),(0,K.jsx)(we,{label:"Nationality",required:!0,type:"select",options:n.nationalityOptions,value:T.nationality,onChange:e=>A("nationality",e)}),(0,K.jsx)(we,{label:"National Id",required:!0,value:T.nationalId,onChange:e=>A("nationalId",e)}),(0,K.jsx)(we,{label:"Address",required:!0,value:T.address,onChange:e=>A("address",e)}),(0,K.jsx)(we,{label:"Patient Priority",required:!0,type:"select",options:n.patientPriorityOptions,value:T.patientPriority,onChange:e=>A("patientPriority",e)}),(0,K.jsx)(we,{label:"Occupation",required:!0,type:"select",options:n.occupationOptions,value:T.occupation,onChange:e=>A("occupation",e)}),(0,K.jsx)(we,{label:"Marital Status",required:!0,type:"select",options:n.maritalStatusOptions,value:T.maritalStatus,onChange:e=>A("maritalStatus",e)}),(0,K.jsx)(we,{label:"Referral Case",required:!0,type:"select",options:n.referralOptions,value:T.referralCase,onChange:e=>A("referralCase",e)}),(0,K.jsx)(we,{label:"Info Source",type:"select",options:n.infoSourceOptions,value:T.infoSource,onChange:e=>A("infoSource",e)}),(0,K.jsx)(we,{label:"Visa Type",type:"select",options:n.visaTypeOptions,value:T.visaType,onChange:e=>A("visaType",e)}),(0,K.jsx)(we,{label:"Phone Number (Work)",value:T.workPhoneNumber,onChange:e=>A("workPhoneNumber",e)}),(0,K.jsx)(we,{label:"Preferred Language",value:T.language,onChange:e=>A("language",e)}),(0,K.jsx)(we,{label:"Religion",type:"select",options:n.religionOptions,value:T.religion,onChange:e=>A("religion",e)}),(0,K.jsx)(we,{label:"Referred By",value:T.referredBy,onChange:e=>A("referredBy",e)}),(0,K.jsx)(we,{label:"Patient Type",type:"select",options:n.patientTypeOptions,value:T.patientType,onChange:e=>A("patientType",e)}),(0,K.jsx)(we,{label:"Other ID Name",type:"select",options:n.otherIdOptions,value:T.otherIdName,onChange:e=>A("otherIdName",e)}),(0,K.jsx)(we,{label:"Other ID No",value:T.otherIdNo,onChange:e=>A("otherIdNo",e)}),(0,K.jsx)(we,{label:"Land Phone",value:T.landPhone,onChange:e=>A("landPhone",e)}),(0,K.jsx)(we,{label:"Place",value:T.place,onChange:e=>A("place",e)}),(0,K.jsx)(we,{label:"Patient Remark",value:T.patientRemarks,onChange:e=>A("patientRemarks",e)})]})]}),(0,K.jsxs)(o.Box,{p:1,width:"100%",children:[(0,K.jsx)("div",{children:(0,K.jsx)("p",{className:"text-dark header",children:"Consultation Details"})}),(0,K.jsxs)(o.Box,{className:"form-details-section",children:[(0,K.jsx)(we,{label:"Speciality",required:!0,type:"select",options:C,value:T.speciality,onChange:e=>A("speciality",e)}),(0,K.jsx)(we,{label:"Doctor Name",required:!0,type:"select",options:N,value:T.doctorName,onChange:e=>A("doctorName",e)}),"In Patient"===T.visitType?"":(0,K.jsx)(we,{label:"Encounter Type",required:!0,type:"select",options:n.encounterTypeOptions,value:T.encounterType,onChange:e=>A("encounterType",e)})]})]}),"In Patient"===T.visitType&&(0,K.jsxs)(o.Box,{p:1,width:"100%",children:[(0,K.jsx)("div",{children:(0,K.jsx)("p",{className:"text-dark header",children:"Admission Details"})}),(0,K.jsxs)(o.Box,{className:"form-details-section mb-4",children:[(0,K.jsx)(we,{label:"Admission date",type:"date",value:T.admissionDate,onChange:e=>A("admissionDate",e)}),(0,K.jsx)(we,{label:"Admission time",type:"time",value:T.admissionTime,onChange:e=>A("admissionTime",e)}),(0,K.jsx)(we,{label:"Expected Discharge date",type:"date",value:T.expectedDischargeDate,onChange:e=>A("expectedDischargeDate",e)}),(0,K.jsx)(we,{label:"Expected Discharge time",type:"time",value:T.expectedDischargeTime,onChange:e=>A("expectedDischargeTime",e)}),(0,K.jsx)(we,{label:"Encounter Type",type:"select",value:T.encounterType,options:n.ipEncounterTypeOptions,onChange:e=>A("encounterType",e)}),(0,K.jsx)(we,{label:"Notes",value:T.admissionNote,onChange:e=>A("admissionNote",e)})]})]}),"In Patient"===T.visitType&&(0,K.jsxs)(o.Box,{p:1,width:"100%",children:[(0,K.jsxs)("div",{className:"d-flex ",style:{justifyContent:"space-between"},children:[(0,K.jsx)("p",{className:"text-dark header",children:"Accomodation details"}),(0,K.jsx)(p.Link,{children:"Select Bed and Ward"})]}),(0,K.jsxs)(o.Box,{className:"form-details-section mb-4",children:[(0,K.jsx)(we,{label:"Ward",value:T.ward,onChange:e=>A("ward",e)}),(0,K.jsx)(we,{label:"Room No",value:T.roomNo,onChange:e=>A("roomNo",e)}),(0,K.jsx)(we,{label:"Bed No",value:T.bedNo,onChange:e=>A("bedNo",e)}),(0,K.jsx)(we,{label:"Bed Rate",value:T.bedRate,onChange:e=>A("bedRate",e)}),(0,K.jsx)(we,{label:"Notes",value:T.accomodationNote,onChange:e=>A("accomodationNote",e)}),(0,K.jsx)("div",{children:(0,K.jsx)(Ce.Button,{children:"Admit"})})]})]}),(0,K.jsxs)(o.Box,{p:1,width:"100%",children:[(0,K.jsx)("div",{children:(0,K.jsx)("p",{className:"text-dark header",children:"Payment Details"})}),(0,K.jsx)(o.Box,{className:"form-details-section mb-4",children:(0,K.jsx)(we,{label:"Payment Type",required:!0,type:"select",options:n.paymentOptions,value:T.paymentType,onChange:e=>A("paymentType",e)})}),"Insurance"===T.paymentType&&(0,K.jsxs)(o.Box,{className:"form-details-section",children:[(0,K.jsx)(we,{label:"Sub Insurance",type:"select",value:T.subInsurance,onChange:e=>A("subInsurance",e)}),(0,K.jsx)(we,{label:"Network Type",value:T.networkType,onChange:e=>A("networkType",e)}),(0,K.jsx)(we,{label:"Insurance Card No",required:!0,value:T.insuranceCardNo,onChange:e=>A("insuranceCardNo",e)}),(0,K.jsx)(we,{label:"Insurance Effective From",type:"date",value:T.insuranceEffDate,onChange:e=>A("insuranceEffDate",e)}),(0,K.jsx)(we,{label:"Certificate No",value:T.certificateNumber,onChange:e=>A("certificateNumber",e)}),(0,K.jsx)(we,{label:"Max Insurance Liability",value:T.maxInsuranceLiability,onChange:e=>A("maxInsuranceLiability",e)}),(0,K.jsx)(we,{label:"Max Insurance Copay",value:T.maxInsuranceCopay,onChange:e=>A("maxInsuranceCopay",e)}),(0,K.jsx)(we,{label:"Extra Card No",value:T.extraCardNumber,onChange:e=>A("extraCardNumber",e)}),(0,K.jsx)(we,{label:"Insurance Expiry Date",required:!0,type:"date",value:T.insuranceExpireDate,onChange:e=>A("insuranceExpireDate",e)}),(0,K.jsx)(we,{label:"Dependents No",value:T.dependents,onChange:e=>A("dependents",e)}),(0,K.jsx)(we,{label:"Insurance Claim No",value:T.insuranceClaimNumber,onChange:e=>A("insuranceClaimNumber",e)}),(0,K.jsx)(we,{label:"Insurance Approval Limit",value:T.insuranceApprovalLimit,onChange:e=>A("insuranceApprovalLimit",e)}),(0,K.jsx)(we,{label:"Co Pay Patient",value:T.copayPatient,onChange:e=>A("copayPatient",e)})]})]}),(0,K.jsx)(o.Box,{display:"flex",padding:"0.5em",width:"100%",justifyContent:"flex-end",children:(0,K.jsx)(Ce.Button,{onClick:()=>{const e=["visitType","patientName","dob","nationality","address","referralCase","regDate","age","email","nationalId","patientPriority","gender","maritalStatus","occupation","speciality","doctorName","paymentType","encounterType"].filter((e=>!T[e]));e.length>0?le((0,K.jsxs)("div",{children:[(0,K.jsx)("p",{children:"Please fill all required fields:"}),(0,K.jsx)("ul",{children:e.map(((e,a)=>(0,K.jsx)("li",{children:e},a)))})]}),"error"):i(De(T)).then((()=>{k(D)}))},disabled:g,className:"form-btn",type:"submit",children:g?"Registering...":"Register New Patient"})})]})})},Fe=(0,b.createAsyncThunk)("patient/emergencyPatients",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await C.post(L,e)}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),Le=(0,b.createSlice)({name:"emergencyPatients",initialState:{emergencyPatientData:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Fe.pending,(e=>{e.loading=!0,e.error=null})).addCase(Fe.fulfilled,((e,a)=>{e.loading=!1,e.emergencyPatientData=a.payload.data})).addCase(Fe.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,Ee=()=>{const e=(0,r.useDispatch)(),a=Ie,[t,n]=(0,l.useState)({visitType:"",mrdNumber:"",patientName:"",dob:"",nationality:"",visaType:"",phoneNumber:"",infoSource:"",regDate:(()=>{const e=new Date;return`${e.toISOString().split("T")[0]} ${e.toLocaleTimeString([],{hour12:!1})}`})(),age:"",email:"",nationalId:"",workPhoneNo:"",language:"",patientType:"",otherIdName:"",otherIdNo:"",landPhone:"",speciality:"",encounterType:"",doctorName:""}),i=(e,a)=>{n((t=>({...t,[e]:a})))},[s,d]=(0,l.useState)([]),[c,u]=(0,l.useState)([]),{doctorData:p}=(0,r.useSelector)((e=>null===e||void 0===e?void 0:e.allDoctor)),m=(null===p||void 0===p?void 0:p.data)||[];(0,l.useEffect)((()=>{const e=[...new Set(m.map((e=>e.specialityName)))].map((e=>({label:e,value:e})));d(e)}),[m]),(0,l.useEffect)((()=>{if(t.speciality){const e=m.filter((e=>e.specialityName===t.speciality)).map((e=>({label:e.doctorName,value:e.doctorId})));u(e)}else u([])}),[t.speciality,m]);return(0,K.jsxs)(o.Box,{paddingBottom:"20%",children:[(0,K.jsxs)(o.Box,{children:[(0,K.jsxs)(o.Box,{padding:"1em",width:"100%",children:[(0,K.jsx)("div",{children:(0,K.jsx)("p",{className:"text-dark header",children:"Patient Demographic Details"})}),(0,K.jsxs)(o.Box,{className:"form-details-section",children:[(0,K.jsx)(we,{label:"Reg Date",type:"date",required:!0,value:t.regDate,onChange:e=>i("regDate",e)}),(0,K.jsx)(we,{label:"Patient Name",required:!0,value:t.patientName,onChange:e=>i("patientName",e)}),(0,K.jsx)(we,{label:"Date of Birth",required:!0,type:"date",value:t.dob,onChange:e=>i("dob",e),setDependentValue:e=>i("age",e)}),(0,K.jsx)(we,{label:"Age",required:!0,value:t.age,onChange:e=>i("age",e)}),(0,K.jsx)(we,{label:"Phone Number",required:!0,value:t.phoneNumber,onChange:e=>i("phoneNumber",e)}),(0,K.jsx)(we,{label:"Email ID",required:!0,value:t.email,onChange:e=>i("email",e)}),(0,K.jsx)(we,{label:"Nationality",required:!0,type:"select",options:a.nationalityOptions,value:t.nationality,onChange:e=>i("nationality",e)}),(0,K.jsx)(we,{label:"National Id",value:t.nationalId,onChange:e=>i("nationalId",e)}),(0,K.jsx)(we,{label:"Info Source",type:"select",options:a.infoSourceOptions,value:t.infoSource,onChange:e=>i("infoSource",e)}),(0,K.jsx)(we,{label:"Visa Type",type:"select",options:a.visaTypeOptions,value:t.visaType,onChange:e=>i("visaType",e)}),(0,K.jsx)(we,{label:"Preferred Language",value:t.language,onChange:e=>i("language",e)}),(0,K.jsx)(we,{label:"Patient Type",type:"select",options:a.patientTypeOptions,value:t.patientType,onChange:e=>i("patientType",e)}),(0,K.jsx)(we,{label:"Other ID Name",type:"select",options:a.otherIdOptions,value:t.otherIdName,onChange:e=>i("otherIdName",e)}),(0,K.jsx)(we,{label:"Other ID No",value:t.otherIdNo,onChange:e=>i("otherIdNo",e)}),(0,K.jsx)(we,{label:"Land Phone",value:t.landPhone,onChange:e=>i("landPhone",e)})]})]}),(0,K.jsxs)(o.Box,{padding:"1em",width:"100%",children:[(0,K.jsx)("div",{children:(0,K.jsx)("p",{className:"text-dark header",children:"Consultation Details"})}),(0,K.jsxs)(o.Box,{className:"form-details-section",children:[(0,K.jsx)(we,{label:"Speciality",required:!0,type:"select",options:s,value:t.speciality,onChange:e=>i("speciality",e)}),(0,K.jsx)(we,{label:"Doctor Name",required:!0,type:"select",options:c,value:t.doctorName,onChange:e=>i("doctorName",e)}),(0,K.jsx)(we,{label:"Encounter Type",required:!0,type:"select",options:a.encounterTypeOptions,value:t.encounterType,onChange:e=>i("encounterType",e)})]})]})]}),(0,K.jsx)(o.Box,{display:"flex",padding:"0.5em",width:"100%",justifyContent:"flex-end",children:(0,K.jsx)(Ce.Button,{onClick:()=>{e(Fe(t))},className:"form-btn",children:"Register Emergency Patient"})})]})},Me=(0,b.createAsyncThunk)("patient/searchPatients",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await C.get(R,{params:e})}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),Oe=(0,b.createSlice)({name:"searchPatients",initialState:{searchPatientData:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Me.pending,(e=>{e.loading=!0,e.error=null})).addCase(Me.fulfilled,((e,a)=>{e.loading=!1,e.searchPatientData=a.payload.data})).addCase(Me.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,ze=(0,b.createAsyncThunk)("patient/revisitPatients",(async(e,a)=>{let{credentials:t,patientId:l}=e,{rejectWithValue:n}=a;try{return(await C.put(`${F}/${l}`,t)).data}catch(o){var i,r;return n((null===(i=o.response)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.message)||"Something went wrong!")}})),We=(0,b.createSlice)({name:"revisitPatients",initialState:{data:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(ze.pending,(e=>{e.loading=!0,e.error=null})).addCase(ze.fulfilled,((e,a)=>{e.loading=!1,e.data=a.payload.data})).addCase(ze.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,Ve=()=>{var e;const a=null===(e=(0,p.useLocation)().state)||void 0===e?void 0:e.patientData,[t,n]=(0,l.useState)(""),[i,s]=(0,l.useState)(null),[d,c]=(0,l.useState)(!1),[u,m]=(0,l.useState)(),h=Ie,x=(0,r.useDispatch)(),{searchPatientData:v}=(0,r.useSelector)((e=>e.searchPatient)),{data:g,loading:b,error:j}=(0,r.useSelector)((e=>null===e||void 0===e?void 0:e.revisit)),y=null===i||void 0===i?void 0:i.patientId,[f,C]=(0,l.useState)([]),[S,N]=(0,l.useState)([]),{doctorData:w}=(0,r.useSelector)((e=>null===e||void 0===e?void 0:e.allDoctor)),I=(null===w||void 0===w?void 0:w.data)||[],D=e=>{const a=e.target.value;x(Me({searchKey:a})),n(a)},[T,k]=(0,l.useState)({mrdNumber:(null===a||void 0===a?void 0:a.mr_no)||"",dob:"",gender:"",phoneNumber:(null===a||void 0===a?void 0:a.mobile)||"",patientName:(null===a||void 0===a?void 0:a.patient)||"",age:"",nationality:"",nationalId:"",visaType:"",speciality:"",encounterType:"",doctorName:(null===a||void 0===a?void 0:a.doctor)||"",paymentType:"",subInsurance:"",networkType:"",insuranceCardNo:"",insuranceEffectiveFrom:"",certificateNumber:"",maxInsuranceLiability:"",maxInsuranceCopay:"",extraCardNumber:"",insuranceExpireDate:"",dependents:"",insuranceClaimNumber:"",insuranceApprovalLimit:"",copayPatient:""});(0,l.useEffect)((()=>{const e=[...new Set(I.map((e=>e.specialityName)))].map((e=>({label:e,value:e})));C(e)}),[I]),(0,l.useEffect)((()=>{if(T.speciality){const e=I.filter((e=>e.specialityName===T.speciality)).map((e=>({label:e.doctorName,value:e.doctorId})));N(e)}else N([])}),[T.speciality,I]),(0,l.useEffect)((()=>{i&&k((e=>({...e,mrdNumber:(null===i||void 0===i?void 0:i.mrdNo)||"",dob:(null===i||void 0===i?void 0:i.dob)||"",gender:(null===i||void 0===i?void 0:i.gender)||"",phoneNumber:(null===i||void 0===i?void 0:i.phoneNo)||"",patientName:(null===i||void 0===i?void 0:i.name)||"",age:(null===i||void 0===i?void 0:i.age)||"",nationality:(null===i||void 0===i?void 0:i.nationality)||"",nationalId:(null===i||void 0===i?void 0:i.nationalId)||"",visaType:(null===i||void 0===i?void 0:i.visaType)||""})))}),[i]);const A=(e,a)=>{k((t=>({...t,[e]:a})))};return(0,l.useEffect)((()=>{j?le(j||"Something went wrong!!","error"):null!==g&&void 0!==g&&g.revisitPatient&&(c(!0),m(g.revisitPatient))}),[g,j]),(0,K.jsx)(o.Box,{paddingBottom:"20%",children:d?(0,K.jsx)(Pe,{patientData:u,setShowPatientInfo:c}):(0,K.jsxs)("div",{children:[(0,K.jsx)(o.Box,{display:"flex",justifyContent:"start",my:1,ml:1,children:(0,K.jsx)(o.Autocomplete,{freeSolo:!0,options:(null===v||void 0===v?void 0:v.data)||[],getOptionLabel:e=>e.name||"",renderInput:e=>(0,K.jsx)(o.TextField,{...e,label:"Search Patients",variant:"outlined",value:t,onChange:D,placeholder:"Type to search...",size:"small",sx:{width:300}}),onChange:(e,a)=>{s(a)}})}),(0,K.jsxs)(o.Box,{children:[(0,K.jsxs)(o.Box,{p:1,width:"100%",children:[(0,K.jsx)("div",{children:(0,K.jsx)("p",{className:"text-dark header",children:"Patient Demographic Details"})}),(0,K.jsxs)(o.Box,{className:"form-details-section",children:[(0,K.jsx)(we,{label:"MRD Number",value:T.mrdNumber,onChange:e=>A("mrdNumber",e)}),(0,K.jsx)(we,{label:"Patient Name",required:!0,value:T.patientName,onChange:e=>A("patientName",e)}),(0,K.jsx)(we,{label:"Gender",required:!0,type:"select",options:h.genderOpton,value:T.gender,onChange:e=>A("gender",e)}),(0,K.jsx)(we,{label:"Date of Birth",required:!0,type:"date",value:T.dob,onChange:e=>A("dob",e),setDependentValue:e=>A("age",e)}),(0,K.jsx)(we,{label:"Age",required:!0,value:T.age,onChange:e=>A("age",e)}),(0,K.jsx)(we,{label:"Phone Number",required:!0,value:T.phoneNumber,onChange:e=>A("phoneNumber",e)}),(0,K.jsx)(we,{label:"Nationality",required:!0,type:"select",options:h.nationalityOptions,value:T.nationality,onChange:e=>A("nationality",e)}),(0,K.jsx)(we,{label:"National Id",value:T.nationalId,onChange:e=>A("nationalId",e)}),(0,K.jsx)(we,{label:"Visa Type",type:"select",options:h.visaTypeOptions,value:T.visaType,onChange:e=>A("visaType",e)})]})]}),(0,K.jsxs)(o.Box,{p:1,width:"100%",children:[(0,K.jsx)("div",{children:(0,K.jsx)("p",{className:"text-dark header",children:"Consultation Details"})}),(0,K.jsxs)(o.Box,{className:"form-details-section",children:[(0,K.jsx)(we,{label:"Speciality",required:!0,type:"select",options:f,value:T.speciality,onChange:e=>A("speciality",e)}),(0,K.jsx)(we,{label:"Doctor Name",required:!0,type:"select",options:S,value:T.doctorName,onChange:e=>A("doctorName",e)}),(0,K.jsx)(we,{label:"Encounter Type",required:!0,type:"select",options:h.encounterTypeOptions,value:T.encounterType,onChange:e=>A("encounterType",e)})]})]}),(0,K.jsxs)(o.Box,{p:1,width:"100%",children:[(0,K.jsx)("div",{children:(0,K.jsx)("p",{className:"text-dark header",children:"Payment Details"})}),(0,K.jsx)(o.Box,{className:"form-details-section",children:(0,K.jsx)(we,{label:"Payment Type",required:!0,type:"select",options:h.paymentOptions,value:T.paymentType,onChange:e=>A("paymentType",e)})}),"Insurance"===T.paymentType&&(0,K.jsxs)(o.Box,{className:"form-details-section",children:[(0,K.jsx)(we,{label:"Sub Insurance",type:"select",value:T.subInsurance,onChange:e=>A("subInsurance",e)}),(0,K.jsx)(we,{label:"Network Type",value:T.networkType,onChange:e=>A("networkType",e)}),(0,K.jsx)(we,{label:"Insurance Card No",required:!0,value:T.insuranceCardNo,onChange:e=>A("insuranceCardNo",e)}),(0,K.jsx)(we,{label:"Insurance Effective From",type:"date",value:T.insuranceEffectiveFrom,onChange:e=>A("insuranceEffectiveFrom",e)}),(0,K.jsx)(we,{label:"Certificate No",value:T.certificateNumber,onChange:e=>A("certificateNumber",e)}),(0,K.jsx)(we,{label:"Max Insurance Liability",value:T.maxInsuranceLiability,onChange:e=>A("maxInsuranceLiability",e)}),(0,K.jsx)(we,{label:"Max Insurance Copay",value:T.maxInsuranceCopay,onChange:e=>A("maxInsuranceCopay",e)}),(0,K.jsx)(we,{label:"Extra Card No",value:T.extraCardNumber,onChange:e=>A("extraCardNumber",e)}),(0,K.jsx)(we,{label:"Insurance Expiry Date",required:!0,type:"date",value:T.insuranceExpireDate,onChange:e=>A("insuranceExpireDate",e)}),(0,K.jsx)(we,{label:"Dependents No",value:T.dependents,onChange:e=>A("dependents",e)}),(0,K.jsx)(we,{label:"Insurance Claim No",value:T.insuranceClaimNumber,onChange:e=>A("insuranceClaimNumber",e)}),(0,K.jsx)(we,{label:"Insurance Approval Limit",value:T.insuranceApprovalLimit,onChange:e=>A("insuranceApprovalLimit",e)}),(0,K.jsx)(we,{label:"Co Pay Patient",value:T.copayPatient,onChange:e=>A("copayPatient",e)})]})]})]}),(0,K.jsx)(o.Box,{display:"flex",padding:"0.5em",width:"100%",justifyContent:"flex-end",children:(0,K.jsx)(Ce.Button,{onClick:()=>{const e=["patientName","dob","nationality","age","nationalId","gender","speciality","doctorName","paymentType","encounterType","phoneNumber"].filter((e=>!T[e]));e.length>0?le((0,K.jsxs)("div",{children:[(0,K.jsx)("p",{children:"Please fill all required fields:"}),(0,K.jsx)("ul",{children:e.map(((e,a)=>(0,K.jsx)("li",{children:e},a)))})]}),"error"):(x(ze({credentials:T,patientId:y})),b||k((e=>({...e,mrdNumber:"",dob:"",gender:"",phoneNumber:"",patientName:"",age:"",nationality:"",nationalId:"",visaType:"",speciality:"",encounterType:"",doctorName:"",paymentType:"",subInsurance:"",networkType:"",insuranceCardNo:"",insuranceEffectiveFrom:"",certificateNumber:"",maxInsuranceLiability:"",maxInsuranceCopay:"",extraCardNumber:"",insuranceExpireDate:"",dependents:"",insuranceClaimNumber:"",insuranceApprovalLimit:"",copayPatient:""}))))},className:"form-btn",children:b?"Registering...":" Register Revisit Patient"})})]})})},Ye=(0,b.createAsyncThunk)("appointment/scheduleList",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await C.get(M,{params:e})}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),He=(0,b.createSlice)({name:"scheduleList",initialState:{data:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Ye.pending,(e=>{e.loading=!0,e.error=null})).addCase(Ye.fulfilled,((e,a)=>{e.loading=!1,e.data=a.payload.data})).addCase(Ye.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer;var qe=t(44503),Ge=t.n(qe);const $e=e=>{let{show:a}=e;return(0,K.jsx)(K.Fragment,{children:a&&(0,K.jsx)("div",{className:"fullscreen-loader",children:(0,K.jsx)(Ce.Spinner,{style:{color:"green"}})})})};var Ue=t(43655),Ke=t(21079),Je=t.n(Ke);const Qe=e=>{let{itemsArray:a,callbackParam:t}=e;const[n,i]=(0,l.useState)(null),r=e=>{i(null),Je().isEmpty(e)&&e(t)};return(0,K.jsxs)("div",{children:[(0,K.jsx)(o.IconButton,{"aria-controls":"menu","aria-haspopup":"true",onClick:e=>{i(e.currentTarget)},color:"inherit",children:(0,K.jsx)(Ue.A,{})}),(0,K.jsx)(o.Menu,{id:"menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:r,children:a.map((e=>(0,K.jsxs)(o.MenuItem,{onClick:()=>r(e.callback),children:[(0,K.jsx)(e.icon,{}),"\xa0",e.name]})))})]})},{Option:Xe}=be.Select,Ze=()=>{const[e,a]=(0,l.useState)({}),[t,n]=(0,l.useState)([]),[i,o]=(0,l.useState)(1),[s,d]=(0,l.useState)(5),c=(0,p.useNavigate)(),u=(0,r.useDispatch)(),{data:m,loading:h}=(0,r.useSelector)((e=>e.schedule)),x=null===m||void 0===m?void 0:m.data;(0,l.useEffect)((()=>{x&&n(x)}),[x]),(0,l.useEffect)((()=>{u(Ye(e))}),[e,u]);const v=(e,t)=>{a((a=>({...a,[e]:t})))},g=[{name:"Create Patient Visit",icon:$.MedicalInformationOutlined,callback:()=>{c("/secure/registration",{state:{}})}}],b=[{title:"S.No",dataIndex:"sno",key:"sno",render:(e,a,t)=>(i-1)*s+t+1},{title:"Schedule Date",dataIndex:"scheduleDate",key:"scheduleDate",filterDropdown:()=>(0,K.jsx)(be.DatePicker,{format:"DD/MM/YYYY",onChange:e=>((e,t)=>{const l=t?Ge()(t).format("DD/MM/YYYY"):"";a((a=>({...a,[e]:l})))})("scheduleDate",e)})},{title:"MR Number",dataIndex:"mrdNo",key:"mrdNo",filterDropdown:()=>(0,K.jsx)(be.Input,{placeholder:"Search MR Number",onChange:e=>v("mrdNo",e.target.value)})},{title:"Mobile",dataIndex:"mobile",key:"mobile",filterDropdown:()=>(0,K.jsx)(be.Input,{placeholder:"Search Mobile",onChange:e=>v("mobile",e.target.value)})},{title:"Patient Name",dataIndex:"patientName",key:"patientName",filterDropdown:()=>(0,K.jsx)(be.Input,{placeholder:"Search Patient Name",onChange:e=>v("patientName",e.target.value)})},{title:"Doctor",dataIndex:"doctorName",key:"doctorName",filterDropdown:()=>(0,K.jsx)(be.Input,{placeholder:"Search Doctor",onChange:e=>v("doctorName",e.target.value)})},{title:"Status",dataIndex:"appointmentStatus",key:"appointmentStatus",filterDropdown:()=>(0,K.jsxs)(be.Select,{style:{width:"100%"},onChange:e=>v("appointmentStatus",e),children:[(0,K.jsx)(Xe,{value:"",children:"--All--"}),(0,K.jsx)(Xe,{value:"re_confirmed",children:"Re-Confirmed"}),(0,K.jsx)(Xe,{value:"booked",children:"Booked"}),(0,K.jsx)(Xe,{value:"no_show",children:"No Show"}),(0,K.jsx)(Xe,{value:"cancelled",children:"Cancelled"}),(0,K.jsx)(Xe,{value:"arrived",children:"Arrived"}),(0,K.jsx)(Xe,{value:"concluded",children:"Concluded"}),(0,K.jsx)(Xe,{value:"being_seen",children:"Being Seen"})]})},{title:"Options",key:"actions",render:e=>(0,K.jsx)(Qe,{itemsArray:g,callbackParam:{data:e,from:"schedule_list"}})}];return(0,K.jsxs)("div",{children:[(0,K.jsx)($e,{show:h}),(0,K.jsx)(be.Table,{dataSource:t,columns:b,rowKey:e=>e.id,className:"table-container mt-3"})]})},{Option:ea}=be.Select,aa=()=>{const[e,a]=(0,l.useState)([{id:1,s_no:"1",mr_number:"23435455",visit_date:"27/12/2024",patient_name:"Mr. Praveen",doctor:"Mr. Jhon",recall_date:"27/12/2024",status:"Being Seen"},{id:2,s_no:"2",mr_number:"2345455",visit_date:"27/12/2024",patient_name:"Mr. Praveen",doctor:"Mr. Jhon",recall_date:"27/12/2024",status:"Being Seen"},{id:3,s_no:"3",mr_number:"5435t4555",visit_date:"27/12/2024",patient_name:"Mr. Praveen",doctor:"Mr. Jhon",recall_date:"27/12/2024",status:"Being Seen"}]),[t,n]=(0,l.useState)({}),[i,r]=(0,l.useState)(e);(0,l.useEffect)((()=>{let a=e.filter((e=>Object.keys(t).every((a=>!t[a]||("status"===a&&"--All--"===t[a]||String(e[a]).toLowerCase().includes(t[a].toLowerCase()))))));r(a)}),[t,e]);const o=(e,a)=>{n((t=>({...t,[e]:a})))},s=(e,a)=>{n((t=>({...t,[e]:a?Ge()(a).format("DD/MM/YYYY"):""})))},d=[{title:"S.No",dataIndex:"s_no",key:"s_no"},{title:"MR Number",dataIndex:"mr_number",key:"mr_number",filterDropdown:()=>(0,K.jsx)(be.Input,{onChange:e=>o("mr_number",e.target.value)})},{title:"Visit Date",dataIndex:"visit_date",key:"visit_date",filterDropdown:()=>(0,K.jsx)(be.DatePicker,{onChange:e=>s("visit_date",e),format:"DD/MM/YYYY"})},{title:"Patient Name",dataIndex:"patient_name",key:"patient_name",filterDropdown:()=>(0,K.jsx)(be.Input,{onChange:e=>o("patient_name",e.target.value)})},{title:"Doctor",dataIndex:"doctor",key:"doctor",filterDropdown:()=>(0,K.jsx)(be.Input,{onChange:e=>o("doctor",e.target.value)})},{title:"Recall Date",dataIndex:"recall_date",key:"recall_date",filterDropdown:()=>(0,K.jsx)(be.DatePicker,{onChange:e=>s("recall_date",e),format:"DD/MM/YYYY"})},{title:"Status",dataIndex:"status",key:"status",filterDropdown:()=>(0,K.jsxs)(be.Select,{defaultValue:"--All--",onChange:e=>o("status",e),children:[(0,K.jsx)(ea,{value:"--All--",children:"--All--"}),(0,K.jsx)(ea,{value:"Re-Confirmed",children:"Re-Confirmed"}),(0,K.jsx)(ea,{value:"Booked",children:"Booked"}),(0,K.jsx)(ea,{value:"No Show",children:"No Show"}),(0,K.jsx)(ea,{value:"Cancelled",children:"Cancelled"}),(0,K.jsx)(ea,{value:"Arrived",children:"Arrived"}),(0,K.jsx)(ea,{value:"Concluded",children:"Concluded"}),(0,K.jsx)(ea,{value:"Being Seen",children:"Being Seen"})]})}];return(0,K.jsx)(be.Table,{columns:d,dataSource:i,rowKey:"id",pagination:{pageSize:5},className:"table-container mt-3"})},{Option:ta}=be.Select,la=()=>{const[e,a]=(0,l.useState)([{id:1,s_no:"1",mr_number:"23435455",patient_name:"Mr. Praveen",mobile:"9876543210",schedule_date:"27/12/2024",vaccination_name:"Covaccine",remarks:"Null",status:"Being Seen",vaccine_date:"27/12/2024"},{id:2,s_no:"2",mr_number:"432335455",patient_name:"Mr. Praveen",mobile:"9854643210",schedule_date:"07/11/2024",vaccination_name:"Covaccine",remarks:"Null",status:"Being Seen",vaccine_date:"12/10/2024"},{id:3,s_no:"3",mr_number:"412335455",patient_name:"Mr. Praveen",mobile:"4576543210",schedule_date:"12/09/2024",vaccination_name:"Covaccine",remarks:"Null",status:"Being Seen",vaccine_date:"11/06/2024"}]),[t,n]=(0,l.useState)({}),[i,r]=(0,l.useState)(e),o=["--All--","Re-Confirmed","Booked","No Show","Cancelled","Arrived","Concluded","Being Seen"],s=(e,a)=>{n((t=>({...t,[e]:a})))},d=(e,a)=>{const t=a?Ge()(a).format("DD/MM/YYYY"):"";n((a=>({...a,[e]:t})))};(0,l.useEffect)((()=>{let a=e.filter((e=>Object.keys(t).every((a=>{var l;const n=(null===(l=t[a])||void 0===l?void 0:l.toLowerCase())||"";return!n||"--all--"===n||String(e[a]).toLowerCase().includes(n)}))));r(a)}),[t,e]);const c=[{title:"S.No",dataIndex:"s_no",key:"s_no"},{title:"MR Number",dataIndex:"mr_number",key:"mr_number",filterDropdown:()=>(0,K.jsx)(be.Input,{placeholder:"Search MR Number",onChange:e=>s("mr_number",e.target.value)})},{title:"Patient Name",dataIndex:"patient_name",key:"patient_name",filterDropdown:()=>(0,K.jsx)(be.Input,{placeholder:"Search Patient",onChange:e=>s("patient_name",e.target.value)})},{title:"Mobile",dataIndex:"mobile",key:"mobile",filterDropdown:()=>(0,K.jsx)(be.Input,{placeholder:"Search Mobile",onChange:e=>s("mobile",e.target.value)})},{title:"Schedule Date",dataIndex:"schedule_date",key:"schedule_date",filterDropdown:()=>(0,K.jsx)(be.DatePicker,{format:"DD/MM/YYYY",onChange:e=>d("schedule_date",e)})},{title:"Vaccination Name",dataIndex:"vaccination_name",key:"vaccination_name"},{title:"Remarks",dataIndex:"remarks",key:"remarks",filterDropdown:()=>(0,K.jsx)(be.Input,{placeholder:"Search Remarks",onChange:e=>s("remarks",e.target.value)})},{title:"Status",dataIndex:"status",key:"status",filterDropdown:()=>(0,K.jsx)(be.Select,{defaultValue:"--All--",onChange:e=>s("status",e),children:o.map(((e,a)=>(0,K.jsx)(ta,{value:e,children:e},a)))})},{title:"Vaccine Date",dataIndex:"vaccine_date",key:"vaccine_date",filterDropdown:()=>(0,K.jsx)(be.DatePicker,{format:"DD/MM/YYYY",onChange:e=>d("vaccine_date",e)})},{title:"Options",key:"actions",render:e=>(0,K.jsx)(Qe,{itemsArray:[{name:"Schedule Appointment",icon:$.Schedule}],callbackParam:{data:e,from:"schedule_list"}})}];return(0,K.jsx)("div",{children:(0,K.jsx)(be.Table,{dataSource:i,columns:c,rowKey:"id",pagination:{pageSize:5},bordered:!0,className:"table-container mt-3"})})},{Option:na}=be.Select,ia=()=>{const[e,a]=(0,l.useState)({}),[t,n]=(0,l.useState)("--All--"),i=[{title:"S.No",dataIndex:"s_no",key:"s_no"},{title:"Registration Date",dataIndex:"patient_type",key:"patient_type"},{title:"MRD Number",dataIndex:"mr_number",key:"mr_number",filterDropdown:e=>{let{setSelectedKeys:a,selectedKeys:t,confirm:l}=e;return(0,K.jsx)(be.Input,{value:t[0],onChange:e=>a(e.target.value?[e.target.value]:[]),onPressEnter:()=>l(),onBlur:()=>l(),placeholder:"Search MRD Number"})},onFilter:(e,a)=>a.mr_number.toString().toLowerCase().includes(e.toLowerCase())},{title:"Patient Name",dataIndex:"patient_name",key:"patient_name",filterDropdown:e=>{let{setSelectedKeys:a,selectedKeys:t,confirm:l}=e;return(0,K.jsx)(be.Input,{value:t[0],onChange:e=>a(e.target.value?[e.target.value]:[]),onPressEnter:()=>l(),onBlur:()=>l(),placeholder:"Search Patient Name"})},onFilter:(e,a)=>a.patient_name.toLowerCase().includes(e.toLowerCase())},{title:"DOB",dataIndex:"doctor",key:"doctor"},{title:"Gender",dataIndex:"recall_date",key:"recall_date"},{title:"Nationality",dataIndex:"Plan_of_care",key:"Plan_of_care"},{title:"Status",dataIndex:"status",key:"status",filterDropdown:e=>{let{setSelectedKeys:a,selectedKeys:t,confirm:l}=e;return(0,K.jsxs)(be.Select,{value:t[0],onChange:e=>{a(e?[e]:[]),l()},style:{width:"100%"},children:[(0,K.jsx)(na,{value:"--All--",children:"--All--"}),(0,K.jsx)(na,{value:"Active",children:"Active"}),(0,K.jsx)(na,{value:"Inactive",children:"Inactive"})]})},onFilter:(e,a)=>a.status===e},{title:"Options",dataIndex:"actions",key:"actions",render:(e,a)=>(0,K.jsx)("a",{href:"#",children:"Edit"})}];return(0,K.jsx)("div",{children:(0,K.jsx)(be.Table,{className:"table-container",columns:i,dataSource:[],rowKey:e=>e.s_no,pagination:{pageSize:10}})})},ra=()=>{const[e]=(0,p.useSearchParams)(),a=e.get("tab")||"register_patient",[t,n]=(0,l.useState)(a);return(0,l.useEffect)((()=>{n(a)}),[a]),(0,K.jsxs)(ge,{style:{padding:"20px"},children:[(0,K.jsx)(o.Box,{display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,K.jsx)(fe,{tabsList:[{name:"Register Patient",value:"register_patient",icon:""},{name:"Revisit",value:"revist_registration",icon:""},{name:"Emergency Registration",value:"emergency_registration",icon:""},{name:"Patient List",value:"patient_list",icon:""}],defaultTab:a,setActiveTab:n})}),(0,K.jsxs)(o.Box,{children:["register_patient"===t&&(0,K.jsx)(_e,{}),"revist_registration"===t&&(0,K.jsx)(Ve,{}),"emergency_registration"===t&&(0,K.jsx)(Ee,{}),"patient_list"===t&&(0,K.jsx)(ia,{})]})]})};var oa=t(14095),sa=t(73284),da=t(91875),ca=t(20587),ua=t(6601);const pa=t.p+"static/media/doc2.0bc76528581e68cf5f86.jpg";var ma=t(96534),ha=t(78614),xa=t(15892),va=t(30431),ga=t.n(va),ba=t(16700),ja=t(9294);const ya=e=>{let{cardTitle:a,searchByPatientName:t,searchByStatus:n}=e;const[i,r]=(0,l.useState)(ga()()),[s,d]=(0,l.useState)(""),[c,u]=(0,l.useState)(null),[p,m]=(0,l.useState)([]);return(0,K.jsx)("div",{children:"Revenue"===a?(0,K.jsxs)(o.Box,{sx:{display:"flex",alignItems:"center",mt:2,marginBottom:5},children:[(0,K.jsx)(o.Typography,{variant:"h6",align:"center",sx:{flexGrow:1,display:"flex",ml:"250px"},children:"Transaction Details"})," ","   ",(0,K.jsx)(ma.$,{dateAdapter:ha.R,children:(0,K.jsx)(xa.T,{label:"Date",inputFormat:"MM/DD/YYYY",value:i,onChange:e=>{r(e)},renderInput:e=>(0,K.jsx)(o.TextField,{...e})})})]}):""===a?"":(0,K.jsxs)(o.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:2},children:[(0,K.jsxs)(o.Box,{sx:{display:"flex",alignItems:"center",flexGrow:1},children:[(0,K.jsx)(o.Typography,{variant:"h6",sx:{flexGrow:1,ml:2},children:a}),(0,K.jsx)(o.TextField,{size:"small",variant:"outlined",placeholder:"Patient Name/ MRD No",value:s,onChange:e=>{d(e.target.value),e.target.value?t(e.target.value):t("")},InputProps:{startAdornment:(0,K.jsx)(o.InputAdornment,{position:"start",children:(0,K.jsx)(ba.A,{})}),endAdornment:(0,K.jsx)(o.InputAdornment,{position:"end",children:(0,K.jsx)(o.IconButton,{onClick:()=>{d(""),t("")},"aria-label":"clear search",edge:"end",size:"small",sx:{visibility:s?"visible":"hidden"},children:(0,K.jsx)(Se.A,{})})})}})]}),(0,K.jsxs)(o.Box,{sx:{display:"flex",alignItems:"center",ml:2,mr:2},children:[(0,K.jsx)(o.Button,{variant:"contained",color:p.length>0?"success":"primary",startIcon:(0,K.jsx)($.FilterList,{}),onClick:e=>{u(e.currentTarget)},children:p.length>0?`Filter Applied ${p.length}`:"Filter"}),(0,K.jsx)(o.Menu,{anchorEl:c,open:Boolean(c),onClose:()=>{u(null)},PaperProps:{style:{maxHeight:216,width:"fit-content"}},children:(0,K.jsxs)(o.Stack,{direction:"row",spacing:0,p:1,flexWrap:"wrap",children:[[{label:"New Patient",color:"#ADD8E6"},{label:"Old Patient",color:"#d9f2d0"},{label:"Revisit",color:"#fae2d5"},{label:"Walking",color:"#cce7ff"}].map((e=>(0,K.jsx)("div",{children:(0,K.jsx)(o.MenuItem,{onClick:()=>{return n(a=e),void m((e=>e.includes(a.label)?e.filter((e=>e!==a.label)):[...e,a.label]));var a},style:{padding:"8px 16px",cursor:"pointer",backgroundColor:p.includes(e.label)?e.color:"transparent",color:p.includes(e.label)?"black":"inherit"},children:e.label},e.label)}))),(0,K.jsx)(o.MenuItem,{children:(0,K.jsx)(o.IconButton,{color:"primary",onClick:()=>{m([]),u(null),n("")},children:(0,K.jsx)(ja.A,{})})})]})})]})]})})};var fa=t(22208);const Ca=(0,t(26855).Ay)(fa.DataGrid)((e=>{let{theme:a}=e;return{".MuiDataGrid-columnHeaders":{textAlign:"center"},".MuiDataGrid-groupHeader":{textAlign:"center"},"& .MuiDataGrid-scrollbar--horizontal":{height:"8px !important",backgroundColor:"#f0f0f0",borderRadius:"4px"},"& .MuiDataGrid-scrollbar--horizontal .MuiDataGrid-scrollbarContent":{backgroundColor:"#888",borderRadius:"4px"},"& .MuiDataGrid-scrollbar--horizontal .MuiDataGrid-scrollbarContent:hover":{backgroundColor:"#555"}}}));function Sa(e){let{dashboardList:a}=e;const[t,l]=n().useState(!1),[i,r]=n().useState(null),s=()=>{l(!1)},d=e=>{if(!e)return"-";return new Date(e).toLocaleDateString("en-GB")},c=e=>e||"-",u=[{field:"sno",headerName:"S. No",width:90},{field:"date",headerName:"Date",width:150,valueGetter:e=>d(e.row.date)},{field:"regNo",headerName:"Reg No",width:150,valueGetter:e=>c(e.row.regNo)},{field:"patientName",headerName:"Patient Name",width:200,valueGetter:e=>c(e.row.patientName)},{field:"view",headerName:"Revenue Details",width:150,renderCell:e=>(0,K.jsx)(o.Button,{variant:"contained",color:"primary",onClick:()=>{return a=e.row,r(a),void l(!0);var a},children:"View"})},{field:"gross",headerName:"Gross",width:150,align:"right",headerAlign:"center",valueGetter:e=>c(e.row.gross)},{field:"discount",headerName:"Discount",width:150,align:"right",headerAlign:"center",valueGetter:e=>c(e.row.discount)},{field:"net",headerName:"Net",width:150,align:"right",headerAlign:"center",valueGetter:e=>c(e.row.net)},{field:"revenue",headerName:"Revenue",width:150,align:"right",headerAlign:"center",valueGetter:e=>c(e.row.revenue)}],p=a.map(((e,a)=>({id:a+1,sno:a+1,date:e.date,regNo:e.regNo,patientName:e.patientName,gross:e.gross,discount:e.discount,net:e.net,revenue:e.revenue})));return(0,K.jsxs)("div",{style:{height:400,width:"100%"},children:[(0,K.jsx)(Ca,{rows:p,columns:u,pageSize:5}),(0,K.jsxs)(o.Dialog,{open:t,onClose:s,maxWidth:"sm",fullWidth:!0,children:[(0,K.jsxs)(o.DialogTitle,{children:["Revenue Details",(0,K.jsx)(o.IconButton,{"aria-label":"close",onClick:s,style:{position:"absolute",right:8,top:8},children:(0,K.jsx)(Se.A,{})})]}),(0,K.jsx)(o.DialogContent,{children:i&&(0,K.jsxs)(o.Grid,{container:!0,spacing:2,children:[(0,K.jsx)(o.Grid,{item:!0,xs:12,children:(0,K.jsxs)(o.Typography,{variant:"body1",children:[(0,K.jsx)("strong",{children:"Date: "}),d(i.date)]})}),(0,K.jsx)(o.Grid,{item:!0,xs:12,children:(0,K.jsxs)(o.Typography,{variant:"body1",children:[(0,K.jsx)("strong",{children:"Reg No: "}),c(i.regNo)]})}),(0,K.jsx)(o.Grid,{item:!0,xs:12,children:(0,K.jsxs)(o.Typography,{variant:"body1",children:[(0,K.jsx)("strong",{children:"Patient Name: "}),c(i.patientName)]})}),(0,K.jsx)(o.Divider,{style:{marginTop:20,marginBottom:20}}),(0,K.jsx)(o.Grid,{item:!0,xs:12,children:(0,K.jsxs)(o.Typography,{variant:"body1",children:[(0,K.jsx)("strong",{children:"Gross: "}),c(i.gross)]})}),(0,K.jsx)(o.Grid,{item:!0,xs:12,children:(0,K.jsxs)(o.Typography,{variant:"body1",children:[(0,K.jsx)("strong",{children:"Discount: "}),c(i.discount)]})}),(0,K.jsx)(o.Grid,{item:!0,xs:12,children:(0,K.jsxs)(o.Typography,{variant:"body1",children:[(0,K.jsx)("strong",{children:"Net: "}),c(i.net)]})}),(0,K.jsx)(o.Grid,{item:!0,xs:12,children:(0,K.jsxs)(o.Typography,{variant:"body1",children:[(0,K.jsx)("strong",{children:"Revenue: "}),c(i.revenue)]})})]})}),(0,K.jsx)(o.DialogActions,{children:(0,K.jsx)(o.Button,{onClick:s,color:"primary",children:"Close"})})]})]})}var Na=t(80574),wa=t(48361),Ia=t(62224),Da=t(17696);const Ta=[{field:"sNo",headerName:"Queue No",width:150,sortable:!0,filterable:!1,disableColumnMenu:!0,cellClassName:"centeredCell",headerAlign:"center"},{field:"mrdNo",headerName:"MRD No",width:150,sortable:!0,filterable:!1,disableColumnMenu:!0,cellClassName:"centeredCell",headerAlign:"center"},{field:"name",headerName:"Patient Name",width:200,sortable:!0,filterable:!1,disableColumnMenu:!0,cellClassName:"centeredCell",headerAlign:"center"},{field:"consultationDate",headerName:"Last Consultation Date",width:200,sortable:!0,filterable:!1,disableColumnMenu:!0,cellClassName:"centeredCell",headerAlign:"center"},{field:"procedure",headerName:"Procedure",width:180,sortable:!0,filterable:!1,disableColumnMenu:!0,cellClassName:"centeredCell",headerAlign:"center"},{field:"insuranceName",headerName:"Insurance",width:180,sortable:!0,filterable:!1,disableColumnMenu:!0,cellClassName:"centeredCell",headerAlign:"center"},{field:"status",headerName:"Status",width:180,sortable:!0,filterable:!1,disableColumnMenu:!0,renderCell:e=>(0,K.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,K.jsx)(o.Avatar,{sx:{bgcolor:e.value.color,color:"#fff"},children:e.value.initials})}),cellClassName:"centeredCell",headerAlign:"center"},{field:"actions",headerName:"Actions",width:100,sortable:!0,filterable:!1,disableColumnMenu:!0,renderCell:e=>(0,K.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,K.jsx)(Aa,{mrdNo:e.row.mrdNo})}),cellClassName:"centeredCell",headerAlign:"center"}];function ka(e){let{dashboardList:a}=e;const[t,n]=l.useState([]);return l.useEffect((()=>{const e=a.map(((e,a)=>({id:e.mrdNo||a,sNo:e.sNo,mrdNo:e.mrdNo,name:e.name,consultationDate:e.consultationDate||"-",procedure:e.procedure||"-",insuranceName:e.insuranceName,status:{color:"N"===e.status?"#ADD8E6":"#fae2d0",initials:"N"===e.status?"N":e.status},actions:e.mrdNo})));n(e)}),[a]),(0,K.jsx)("div",{style:{height:400,width:"100%"},children:(0,K.jsx)(fa.DataGrid,{rows:t,columns:Ta,pageSize:5,rowsPerPageOptions:[5],disableSelectionOnClick:!0})})}function Aa(e){let{mrdNo:a}=e;const t=(0,p.useNavigate)(),[n,i]=l.useState(null),r=Boolean(n),s=()=>{i(null)},d=e=>{"Open encounter"===e&&t("/doctor/doctorEmr"),s()};return(0,K.jsxs)("div",{children:[(0,K.jsx)(o.IconButton,{onClick:e=>{i(e.currentTarget)},size:"small",children:(0,K.jsx)(Na.A,{})}),(0,K.jsxs)(o.Menu,{anchorEl:n,open:r,onClose:s,children:[(0,K.jsxs)(o.MenuItem,{onClick:()=>d("Refer to OP"),children:[(0,K.jsx)(o.ListItemIcon,{children:(0,K.jsx)(da.A,{fontSize:"small"})}),(0,K.jsx)(o.ListItemText,{primary:"Refer to OP"})]}),(0,K.jsxs)(o.MenuItem,{onClick:()=>d("Refer to IP"),children:[(0,K.jsx)(o.ListItemIcon,{children:(0,K.jsx)(wa.A,{fontSize:"small"})}),(0,K.jsx)(o.ListItemText,{primary:"Refer to IP"})]}),(0,K.jsxs)(o.MenuItem,{onClick:()=>d("View Order Form"),children:[(0,K.jsx)(o.ListItemIcon,{children:(0,K.jsx)(Ia.A,{fontSize:"small"})}),(0,K.jsx)(o.ListItemText,{primary:"View Order Form"})]}),(0,K.jsxs)(o.MenuItem,{onClick:()=>d("Download Report"),children:[(0,K.jsx)(o.ListItemIcon,{children:(0,K.jsx)(Da.A,{fontSize:"small"})}),(0,K.jsx)(o.ListItemText,{primary:"Download Report"})]}),(0,K.jsxs)(o.MenuItem,{children:[(0,K.jsx)(o.ListItemIcon,{children:(0,K.jsx)(Ia.A,{fontSize:"small"})}),(0,K.jsx)(o.ListItemText,{primary:"View Paitent Details"})]}),(0,K.jsxs)(o.MenuItem,{onClick:()=>d("Open encounter"),children:[(0,K.jsx)(o.ListItemIcon,{children:(0,K.jsx)(Ia.A,{fontSize:"small"})}),(0,K.jsx)(o.ListItemText,{primary:"Open encounter"})]})]})]})}const Pa=e=>{let{selectedCard:a,dashboardList:t,searchByPatientName:l,searchByStatus:n}=e;return(0,K.jsxs)("div",{children:[(0,K.jsx)(ya,{cardTitle:a,searchByPatientName:l,searchByStatus:n}),"Revenue"===a?(0,K.jsx)(Sa,{dashboardList:t}):(0,K.jsx)(ka,{dashboardList:t})]})};const Ba={loaderContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",width:"150vw"},svg:{width:"600px",height:"600px"}},Ra=function(){return(0,K.jsx)("div",{style:Ba.loaderContainer,children:(0,K.jsxs)("svg",{version:"1.1",id:"L4",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 100 100",xmlSpace:"preserve",style:Ba.svg,children:[(0,K.jsx)("circle",{fill:"#ADD8E6",stroke:"none",cx:"20",cy:"50",r:"4",children:(0,K.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.1s"})}),(0,K.jsx)("circle",{fill:"#fae2d5",stroke:"none",cx:"40",cy:"50",r:"4",children:(0,K.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.2s"})}),(0,K.jsx)("circle",{fill:"#cce7ff",stroke:"none",cx:"60",cy:"50",r:"4",children:(0,K.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.3s"})})]})})},_a="#ADD8E6",Fa="#d9f2d0",La="#fae2d5",Ea="#fae2d5",Ma="#cce7ff",Oa=()=>{const[e,a]=(0,l.useState)("Today's Appointment"),[t,n]=(0,l.useState)([]),[i,r]=(0,l.useState)([]),[o,s]=(0,l.useState)(""),[d,c]=(0,l.useState)(""),u=async()=>{let e=(await(async(e,a)=>{try{return(await de.get(`${e}?doctorId=${null===a||void 0===a?void 0:a.doctorId}&ipOpFlag=${null===a||void 0===a?void 0:a.ipOpFlag}`)).data}catch(t){throw console.error("Error fetching doctor dashboard count:",t),t}})("/doctorService/doctor/getCount",{doctorId:1,ipOpFlag:0})).map((e=>{switch(e.displayName){case"Today's Appointment":e.color=_a,e.icon=(0,K.jsx)(oa.A,{style:{fontSize:"40px"}});break;case"Revenue":e.color=Fa,e.icon=(0,K.jsx)(sa.A,{style:{fontSize:"40px"}});break;case"Emergency Patient":e.color=La,e.icon=(0,K.jsx)(da.A,{style:{fontSize:"40px"}});break;case"Waiting list":e.color=Ea,e.icon=(0,K.jsx)(ca.A,{style:{fontSize:"40px"}});break;case"Telemedicine Appointment":e.color=Ma,e.icon=(0,K.jsx)(ua.A,{style:{fontSize:"40px"}})}return e}));n(e)};(0,l.useEffect)((()=>{u(),(async()=>{if("Today's Appointment"===e){let e=await ce("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"todaysAppointment",page:1,size:100,ptName:o,status:d});r(e)}})()}),[]);const p=e=>""===e||void 0===e||NaN===e||null===e?"-":e;return(0,K.jsx)("div",{children:0===t.length&&0===i.length?(0,K.jsx)(Ra,{}):(0,K.jsx)("div",{children:(0,K.jsxs)(Ce.Container,{fluid:!0,children:[(0,K.jsxs)(Ce.Row,{className:"flex-nowrap",children:[(0,K.jsx)(Ce.Col,{xs:12,sm:6,md:4,lg:2,children:(0,K.jsxs)(Ce.Card,{style:{width:"200px",height:"200px",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)"},children:[(0,K.jsx)(Ce.Card.Img,{variant:"top",src:pa,style:{height:"60%"}}),(0,K.jsx)(Ce.Card.Body,{className:"d-flex align-items-center justify-content-center",children:(0,K.jsx)(Ce.Card.Title,{className:"text-center",children:"Welcome, Dr. John!"})})]})}),t.map(((e,t)=>(0,K.jsx)(Ce.Col,{xs:12,sm:6,md:4,lg:2,children:(0,K.jsx)(Ce.Button,{variant:"light",className:"p-0",onClick:()=>(async e=>{switch(a(e),e){case"Today's Appointment":let e=await ce("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"todaysAppointment",page:1,size:100,ptName:o,status:d});r(e),s("");break;case"Revenue":let a=await ce("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"revenue",page:1,size:100,ptName:o,status:d});r(a),s("");break;case"Emergency Patient":let t=await ce("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"emergencyPatient",page:1,size:100,ptName:o,status:d});r(t),s("");break;case"Waiting list":let l=await ce("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"waitingList",page:1,size:100,ptName:o,status:d});r(l),s("");break;case"Telemedicine Appointment":let n=await ce("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"teleAppointment",page:1,size:100,ptName:o,status:d});r(n),s("")}})(e.displayName),children:(0,K.jsx)(Ce.Card,{style:{width:"200px",height:"200px",backgroundColor:e.color,borderRadius:"10px",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)"},children:(0,K.jsxs)(Ce.Card.Body,{className:"d-flex flex-column align-items-center justify-content-center text-white",children:[e.icon,(0,K.jsx)(Ce.Card.Title,{className:"mt-2",children:p(e.displayName)}),(0,K.jsx)(Ce.Card.Text,{className:"mt-1",style:{fontSize:"24px"},children:p(e.totalCount)})]})})})},e.displayIndex)))]}),(0,K.jsx)(Pa,{selectedCard:e,dashboardList:i,searchByPatientName:async a=>{switch(s(a),e){case"Today's Appointment":let e=await ce("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"todaysAppointment",page:1,size:100,ptName:a,status:d});r(e);break;case"Revenue":let t=await ce("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"revenue",page:1,size:100,ptName:a,status:d});r(t);break;case"Emergency Patient":let l=await ce("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"emergencyPatient",page:1,size:100,ptName:a,status:d});r(l);break;case"Waiting list":let n=await ce("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"waitingList",page:1,size:100,ptName:a,status:d});r(n);break;case"Telemedicine Appointment":let i=await ce("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"teleAppointment",page:1,size:100,ptName:a,status:d});r(i)}},searchByStatus:async a=>{switch("Old Patient"===a?c("O"):"New Patient"===a?c("N"):"Revisit"===a?c("R"):"Walking"===a&&c("W"),e){case"Today's Appointment":let e=await ce("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"todaysAppointment",page:1,size:100,ptName:o,status:a?a.label.charAt(0):""});r(e);break;case"Revenue":let t=await ce("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"revenue",page:1,size:100,ptName:o,status:a?a.label.charAt(0):""});r(t);break;case"Emergency Patient":let l=await ce("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"emergencyPatient",page:1,size:100,ptName:o,status:a?a.label.charAt(0):""});r(l);break;case"Waiting list":let n=await ce("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"waitingList",page:1,size:100,ptName:o,status:a?a.label.charAt(0):""});r(n);break;case"Telemedicine Appointment":let i=await ce("/doctorService/doctor/getDataList",{doctorId:1,ipOpFlag:0,context:"teleAppointment",page:1,size:100,ptName:o,status:a?a.label.charAt(0):""});r(i)}}})]})})})};var za=t(11580);const Wa=()=>{const[e,a]=(0,l.useState)({doctorId:"",title:"",startTime:"",endTime:""}),[t,n]=(0,l.useState)([]),i=t=>{const{name:l,value:n}=t.target;a({...e,[l]:n})};return(0,K.jsxs)(o.Box,{width:"50%",children:[(0,K.jsx)(Ce.Form,{children:(0,K.jsxs)(Ce.Row,{className:"mb-3",children:[(0,K.jsxs)(Ce.Form.Group,{children:[(0,K.jsx)(Ce.Form.Label,{className:"mt-3",children:"Specialist"}),(0,K.jsxs)(Ce.Form.Select,{value:e.doctorId,onChange:i,name:"doctorId",children:[(0,K.jsx)("option",{value:"-1",children:"select..."}),t.map((e=>(0,K.jsx)("option",{value:e.doctorId,children:e.doctorName})))]})]}),(0,K.jsxs)(Ce.Form.Group,{children:[(0,K.jsx)(Ce.Form.Label,{className:"mt-3",children:"Title"}),(0,K.jsx)(Ce.Form.Control,{name:"title",required:!0,value:e.title,type:"text",onChange:i})]}),(0,K.jsxs)(Ce.Form.Group,{children:[(0,K.jsx)(Ce.Form.Label,{className:"mt-3",children:"Start Time"}),(0,K.jsx)(o.Box,{width:"100%",children:(0,K.jsx)(za.A,{name:"startTime",onChange:t=>{a({...e,startTime:null===t||void 0===t?void 0:t.format("HH:mm:ss")})},ampm:!1,sx:{width:"100%"}})})]}),(0,K.jsxs)(Ce.Form.Group,{children:[(0,K.jsx)(Ce.Form.Label,{className:"mt-3",children:"End Time"}),(0,K.jsx)(o.Box,{width:"100%",children:(0,K.jsx)(za.A,{name:"endTime",onChange:t=>{a({...e,endTime:null===t||void 0===t?void 0:t.format("HH:mm:ss")})},sx:{width:"100%"},ampm:!1})})]})]})}),(0,K.jsx)(o.Box,{display:"flex",padding:"0.5em",width:"100%",justifyContent:"flex-end",children:(0,K.jsx)(Ce.Button,{color:"danger",onClick:()=>{},children:"Block Availability"})})]})},Va=()=>{const[e,a]=(0,l.useState)("user_privileges"),[t,n]=(0,l.useState)([{role:"Admin",canViewPage1:!0,canViewPage2:!0,canEdit:!0,canDelete:!0},{role:"Receptionist",canViewPage1:!0,canViewPage2:!1,canEdit:!1,canDelete:!1},{role:"Doctor",canViewPage1:!0,canViewPage2:!0,canEdit:!0,canDelete:!1},{role:"Nurse",canViewPage1:!0,canViewPage2:!1,canEdit:!1,canDelete:!1},{role:"Cash Counter",canViewPage1:!0,canViewPage2:!1,canEdit:!1,canDelete:!1}]),i=(e,a)=>{const l=[...t];l[e][a]=!l[e][a],n(l)};return(0,K.jsx)(ge,{children:(0,K.jsxs)(o.Box,{p:2,sx:{backgroundColor:"white",borderRadius:"8px"},children:[(0,K.jsx)(o.Box,{display:"flex",justifyContent:"flex-start",children:(0,K.jsx)(fe,{tabsList:[{name:"User privileges",value:"user_privileges",icon:""},{name:"Block Availability",value:"block_availability",icon:""},{name:"Release Availability",value:"release_availability",icon:""}],defaultTab:"user_privileges",setActiveTab:a})}),"user_privileges"===e&&(0,K.jsx)(o.Box,{mt:4,children:(0,K.jsx)(o.TableContainer,{component:o.Paper,elevation:3,children:(0,K.jsxs)(o.Table,{children:[(0,K.jsx)(o.TableHead,{children:(0,K.jsxs)(o.TableRow,{children:[(0,K.jsx)(o.TableCell,{sx:{fontWeight:"bold",backgroundColor:"#e0e0e0"},children:"Roles"}),t.map((e=>(0,K.jsx)(o.TableCell,{sx:{fontWeight:"bold",backgroundColor:"#e0e0e0"},children:e.role},e.role)))]})}),(0,K.jsxs)(o.TableBody,{children:[(0,K.jsxs)(o.TableRow,{children:[(0,K.jsx)(o.TableCell,{sx:{fontWeight:"bold",backgroundColor:"#e0f7fa"},children:"Dashboard"}),t.map(((e,a)=>(0,K.jsx)(o.TableCell,{align:"center",children:(0,K.jsx)(o.Checkbox,{checked:e.canViewPage1,onChange:()=>i(a,"canViewPage1")})},`${e.role}-dashboard`)))]}),(0,K.jsxs)(o.TableRow,{children:[(0,K.jsx)(o.TableCell,{sx:{fontWeight:"bold",backgroundColor:"#e0f7fa"},children:"Appointment"}),t.map(((e,a)=>(0,K.jsx)(o.TableCell,{align:"center",children:(0,K.jsx)(o.Checkbox,{checked:e.canViewPage1,onChange:()=>i(a,"canViewPage1")})},`${e.role}-appointment`)))]}),(0,K.jsxs)(o.TableRow,{children:[(0,K.jsx)(o.TableCell,{sx:{fontWeight:"bold",backgroundColor:"#e0f7fa"},children:"Registration"}),t.map(((e,a)=>(0,K.jsx)(o.TableCell,{align:"center",children:(0,K.jsx)(o.Checkbox,{checked:e.canViewPage1,onChange:()=>i(a,"canViewPage1")})},`${e.role}-registration`)))]}),(0,K.jsxs)(o.TableRow,{children:[(0,K.jsx)(o.TableCell,{sx:{fontWeight:"bold",backgroundColor:"#e0f7fa"},children:"Billing"}),t.map(((e,a)=>(0,K.jsx)(o.TableCell,{align:"center",children:(0,K.jsx)(o.Checkbox,{checked:e.canViewPage1,onChange:()=>i(a,"canViewPage1")})},`${e.role}-billing`)))]}),(0,K.jsxs)(o.TableRow,{children:[(0,K.jsx)(o.TableCell,{sx:{fontWeight:"bold",backgroundColor:"#e0f7fa"},children:"Previllages"}),t.map(((e,a)=>(0,K.jsx)(o.TableCell,{align:"center",children:(0,K.jsx)(o.Checkbox,{checked:e.canViewPage1,onChange:()=>i(a,"canViewPage1")})},`${e.role}-billing`)))]})]})]})})}),"release_availability"===e&&(0,K.jsx)(o.Box,{children:"Release Availability"}),"block_availability"===e&&(0,K.jsx)(o.Box,{display:"flex",justifyContent:"center",mt:2,children:(0,K.jsx)(Wa,{})})]})})};var Ya=t(35862),Ha=t(24305);const qa=[{claim_no:1,insurar_name:"Test",invoice_no:"31312",invoice_date:"28-11-2024",patient_name:"Akash",mrd_no:"233423",status:"Confirmed",actions:""},{claim_no:2,insurar_name:"Test",invoice_no:"31312",invoice_date:"28-11-2024",patient_name:"Akash",mrd_no:"233423",status:"Confirmed",actions:""},{claim_no:3,insurar_name:"Test",invoice_no:"31312",invoice_date:"28-11-2024",patient_name:"Akash",mrd_no:"233423",status:"Confirmed",actions:""},{claim_no:6,insurar_name:"Test",invoice_no:"31312",invoice_date:"28-11-2024",patient_name:"Akash",mrd_no:"233423",status:"Confirmed",actions:""},{claim_no:7,insurar_name:"Test",invoice_no:"31312",invoice_date:"28-11-2024",patient_name:"Akash",mrd_no:"233423",status:"Confirmed",actions:""}],Ga=()=>{const[e,a]=(0,l.useState)({}),[t,n]=(0,l.useState)("--All--"),[i,r]=(0,l.useState)([]),{loading:s,setLoading:d}=me(),[c,u]=(0,l.useState)(0),[m,h]=(0,l.useState)(0),[x,v]=(0,l.useState)(0),[g,b]=(0,l.useState)(!1),j=(0,l.useRef)(),y=(0,p.useNavigate)(),f=[{id:"SI.No",label:"SI.No",filter:!1},{id:"insurar_name",label:"Insurar Name",filter:!0,type:"input"},{id:"Total Claims",label:"Invoice NO",filter:!0,type:"input"},{id:"invoice_date",label:" Invoice Date",filter:!0,type:"date"},{id:"patient_name",label:"Patient Name",filter:!0,type:"input"},{id:"mrd_no",label:"MRD No",filter:!0,type:"input"},{id:"status",label:"Status",filter:!0,type:"select"},{id:"actions",label:"Options",filter:!1}],C=[{id:"all",label:"--All--"},{id:"pending",label:"Pending"},{id:"verified",label:"Verified"},{id:"submitted",label:"Submitted"},{id:"re-submitted_pending",label:"Re-Submitted Pending"},{id:"re-verified",label:"Re-Verified"},{id:"re-submitted",label:"Re-Submitted"},{id:"re-re-submitted_pending",label:"Re-Re-Submitted Pending"},{id:"re-re-verified",label:"Re-Re-Verified"},{id:"re-re-submitted",label:"Re-Re-Submitted"},{id:"write_off",label:"Write Off"},{id:"cancelled ",label:"Cancelled"}],S=(t,l,i)=>{"select"===i&&n(l),a({...e,[t]:l})},N=[{name:"Create Patient Visit",icon:Ha.A,callback:e=>{y("/secure/registration")}}];return(0,K.jsxs)(o.Box,{padding:"1em",width:"100%",children:[(0,K.jsxs)(o.Box,{display:"flex",justifyContent:"space-between",children:[(0,K.jsx)(o.Box,{children:"OP INSURANCE : CLAIM INVOICES LIST"}),(0,K.jsx)(o.Box,{children:Ge()().format("LLLL")})]}),(0,K.jsx)($e,{show:s}),(0,K.jsx)(o.TableContainer,{style:{height:"75vh"},component:o.Paper,onScroll:()=>{const{scrollTop:e,clientHeight:a,scrollHeight:t}=j.current;t-e<=a+1&&g&&v((e=>e+1))},ref:j,children:(0,K.jsxs)(o.Table,{style:{overflow:"auto"},children:[(0,K.jsxs)(o.TableHead,{sx:{height:"1em"},children:[(0,K.jsx)(o.TableRow,{children:f.map((e=>(0,K.jsx)(o.TableCell,{children:e.label})))}),(0,K.jsx)(o.TableRow,{style:{backgroundColor:"white"},children:f.map((l=>(0,K.jsxs)(o.TableCell,{padding:"8px",children:[l.filter&&"input"===l.type&&(0,K.jsx)(o.TextField,{size:"small",id:l.id,className:"filter-input",value:e[l.id]||"",onChange:e=>S(l.id,e.target.value,"input"),children:l.label}),l.filter&&"date"===l.type&&(0,K.jsx)(Ya.l,{className:"filter-input",slotProps:{actionBar:{actions:["clear"]}},onChange:t=>((t,l)=>{let n=Ge()(l).format("DD/MM/YYYY");a("Invalid date"===n?{...e,[t]:""}:{...e,[t]:n})})(l.id,t)}),l.filter&&"select"===l.type&&(0,K.jsx)(o.FormControl,{fullWidth:!0,children:(0,K.jsx)(o.Select,{id:"status-select",className:"filter-input",value:t,onChange:e=>S(l.id,e.target.value,"select"),children:C.map(((e,a)=>(0,K.jsx)(o.MenuItem,{value:e.label,children:e.label},`${e.id}_${a}`)))})})]})))})]}),(0,K.jsx)(o.TableBody,{children:null===qa||void 0===qa?void 0:qa.map((e=>(0,K.jsxs)(o.TableRow,{children:[f.map((a=>"actions"!==a.id&&(0,K.jsx)(o.TableCell,{children:e[a.id]},a.id))),(0,K.jsx)(o.TableCell,{children:(0,K.jsx)(Qe,{itemsArray:N,callbackParam:{data:e,from:"schedule_list"}})})]},e.id)))})]})})]})},$a=()=>{const[e,a]=(0,l.useState)({}),[t,n]=(0,l.useState)("--All--"),[i,r]=(0,l.useState)([]),{loading:s,setLoading:d}=me(),[c,u]=(0,l.useState)(0),[m,h]=(0,l.useState)(0),[x,v]=(0,l.useState)(0),[g,b]=(0,l.useState)(!1),j=(0,l.useRef)(),y=(0,p.useNavigate)(),f=[{id:"claim_no",label:"Claim No",filter:!1},{id:"insurar_name",label:"Insurar Name",filter:!1},{id:"total_claims",label:"Total Claims",width:200,filter:!1,children:[{id:"count",label:"Count",filter:!0,type:"input"},{id:"Amount",label:"amount",filter:!0,type:"input"}]},{id:"pending_claims",label:"Pending Claims",filter:!1,width:500,children:[{id:"verification",label:"Verification",filter:!1,children:[{id:"count",label:"Count",filter:!0,type:"input"},{id:"Amount",label:"amount",filter:!0,type:"input"}]},{id:"submission",label:"Submission",filter:!1,children:[{id:"count",label:"Count",filter:!0,type:"input"},{id:"Amount",label:"amount",filter:!0,type:"input"}]}]},{id:"Submitted Claims",label:"submitted_claims",filter:!1,width:250,children:[{id:"count",label:"Count",filter:!0,type:"input"},{id:"Amount",label:"amount",filter:!0,type:"input"}]}],C=[{id:"all",label:"--All--"},{id:"pending",label:"Pending"},{id:"verified",label:"Verified"},{id:"submitted",label:"Submitted"},{id:"re-submitted_pending",label:"Re-Submitted Pending"},{id:"re-verified",label:"Re-Verified"},{id:"re-submitted",label:"Re-Submitted"},{id:"re-re-submitted_pending",label:"Re-Re-Submitted Pending"},{id:"re-re-verified",label:"Re-Re-Verified"},{id:"re-re-submitted",label:"Re-Re-Submitted"},{id:"write_off",label:"Write Off"},{id:"cancelled ",label:"Cancelled"}],S=(t,l,i)=>{"select"===i&&n(l),a({...e,[t]:l})};Ha.A;return(0,K.jsxs)(o.Box,{padding:"1em",width:"100%",id:"manual-insurance-page",children:[(0,K.jsxs)(o.Box,{display:"flex",justifyContent:"space-between",children:[(0,K.jsx)(o.Box,{children:"OP INSURANCE : CLAIM INVOICES LIST"}),(0,K.jsx)(o.Box,{children:Ge()().format("LLLL")})]}),(0,K.jsx)($e,{show:s}),(0,K.jsx)(o.TableContainer,{style:{height:"75vh"},component:o.Paper,onScroll:()=>{const{scrollTop:e,clientHeight:a,scrollHeight:t}=j.current;t-e<=a+1&&g&&v((e=>e+1))},ref:j,children:(0,K.jsxs)(o.Table,{style:{overflow:"auto"},children:[(0,K.jsxs)(o.TableHead,{sx:{height:"1em"},children:[(0,K.jsx)(o.TableRow,{children:f.map((e=>(0,K.jsx)(o.TableCell,{children:e.children?(0,K.jsxs)(o.Box,{width:e.width?`${e.width}px`:"200px",children:[(0,K.jsx)(o.Box,{children:e.label}),(0,K.jsx)("hr",{}),(0,K.jsx)(o.Box,{display:"flex",px:1,children:e.children.map((e=>(console.log({child:e}),e.children?(0,K.jsxs)(o.Box,{width:"500px",children:[(0,K.jsx)(o.Box,{children:e.label}),(0,K.jsx)("hr",{}),(0,K.jsx)(o.Box,{display:"flex",px:1,children:e.children.map((e=>(0,K.jsxs)(o.Box,{width:"50%",children:[e.label," ",(0,K.jsx)("hr",{})]})))})]}):(0,K.jsxs)(o.Box,{width:"50%",children:[e.label," ",(0,K.jsx)("hr",{})]}))))})]}):(0,K.jsx)(o.Box,{children:e.label})})))}),(0,K.jsx)(o.TableRow,{style:{backgroundColor:"white"},children:f.map((l=>(0,K.jsxs)(o.TableCell,{padding:"8px",children:[l.filter&&"input"===l.type&&(0,K.jsx)(o.TextField,{size:"small",id:l.id,className:"filter-input",value:e[l.id]||"",onChange:e=>S(l.id,e.target.value,"input"),children:l.label}),l.filter&&"date"===l.type&&(0,K.jsx)(Ya.l,{className:"filter-input",slotProps:{actionBar:{actions:["clear"]}},onChange:t=>((t,l)=>{let n=Ge()(l).format("DD/MM/YYYY");a("Invalid date"===n?{...e,[t]:""}:{...e,[t]:n})})(l.id,t)}),l.filter&&"select"===l.type&&(0,K.jsx)(o.FormControl,{fullWidth:!0,children:(0,K.jsx)(o.Select,{id:"status-select",className:"filter-input",value:t,onChange:e=>S(l.id,e.target.value,"select"),children:C.map(((e,a)=>(0,K.jsx)(o.MenuItem,{value:e.label,children:e.label},`${e.id}_${a}`)))})})]})))})]}),(0,K.jsx)(o.TableBody,{children:null===qa||void 0===qa?void 0:qa.map((e=>(0,K.jsx)(o.TableRow,{children:f.map((a=>"actions"!==a.id&&(0,K.jsx)(o.TableCell,{children:e[a.id]},a.id)))},e.id)))})]})})]})},Ua=()=>{const[e,a]=(0,l.useState)("claim_details");return(0,K.jsxs)(o.Box,{m:"20px",children:[(0,K.jsx)(o.Box,{display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,K.jsx)(fe,{tabsList:[{name:"Claim Details",value:"claim_details"},{name:"Manual Submission",value:"manual_submission"},{name:"E-submission",value:"e_submission"},{name:"Re-Submission",value:"re_submission"},{name:"Prior Request",value:"prior_request"}],defaultTab:"claim_details",setActiveTab:a})}),(0,K.jsxs)(o.Box,{children:["claim_details"===e&&(0,K.jsx)(Ga,{}),"manual_submission"===e&&(0,K.jsx)($a,{}),"e_submission"===e&&(0,K.jsx)(K.Fragment,{}),"re_submission"===e&&(0,K.jsx)(K.Fragment,{}),"prior_request"===e&&(0,K.jsx)(K.Fragment,{})]})]})},Ka=()=>{const[e,a]=(0,l.useState)("generate_claim");return(0,K.jsxs)(o.Box,{m:"20px",children:[(0,K.jsx)(o.Box,{display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,K.jsx)(fe,{tabsList:[{name:"Generate Claim",value:"generate_claim"},{name:"List of Claims",value:"list_of_claims"},{name:"Manual Submission ",value:"manual_submission"},{name:"E-submission",value:"e_submission"},{name:"Re-Submission",value:"re_submission"}],defaultTab:"generate_claim",setActiveTab:a})}),(0,K.jsxs)(o.Box,{children:["generate_claim"===e&&(0,K.jsx)(K.Fragment,{}),"list_of_claims"===e&&(0,K.jsx)(K.Fragment,{}),"manual_submission"===e&&(0,K.jsx)(K.Fragment,{}),"e_submission"===e&&(0,K.jsx)(K.Fragment,{}),"re_submission"===e&&(0,K.jsx)(K.Fragment,{})]})]})},Ja=()=>{const[e,a]=(0,l.useState)("referral_registration");return(0,K.jsxs)(o.Box,{m:"20px",children:[(0,K.jsx)(o.Box,{display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,K.jsx)(fe,{tabsList:[{name:"Referral Registration",value:"referral_registration"},{name:"Referral Visit",value:"referral_visit"},{name:"Referral Registration List",value:"referral_Registration_list"}],defaultTab:"referral_registration",setActiveTab:a})}),(0,K.jsxs)(o.Box,{children:["referral_registration"===e&&(0,K.jsx)(K.Fragment,{}),"referral_visit"===e&&(0,K.jsx)(K.Fragment,{}),"referral_Registration_list"===e&&(0,K.jsx)(K.Fragment,{})]})]})},Qa=()=>{const[e,a]=(0,l.useState)("op_insurance"),t=qa;return console.log(t,"data"),(0,K.jsx)(ge,{children:(0,K.jsxs)(o.Box,{m:"20px",id:"insurance-page",children:[(0,K.jsx)(fe,{tabsList:[{name:"OP INSURANCE",value:"op_insurance"},{name:"IP INSURANCE",value:"ip_insurance"},{name:"REFERRAL REGISTRATION",value:"referral_registration"}],defaultTab:"op_insurance",setActiveTab:a}),(0,K.jsxs)(o.Box,{children:["op_insurance"===e&&(0,K.jsx)(Ua,{}),"ip_insurance"===e&&(0,K.jsx)(Ka,{}),"referral_registration"===e&&(0,K.jsx)(Ja,{})]})]})})},Xa=()=>(0,K.jsx)(o.Box,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",width:"100%"},children:(0,K.jsx)(o.CircularProgress,{})});var Za=t(27056),et=t(97332);const at=(0,b.createAsyncThunk)("timeslot/doctorAvailability",(async(e,a)=>{let{rejectWithValue:t}=a;try{const a=await C.get(T,{params:e}),{data:t,status:l,statusText:n}=a;return{data:t,status:l,statusText:n}}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),tt=(0,b.createSlice)({name:"doctorAvailability",initialState:{doctorAvailableData:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(at.pending,(e=>{e.loading=!0,e.error=null})).addCase(at.fulfilled,((e,a)=>{e.loading=!1,e.doctorAvailableData=a.payload.data})).addCase(at.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,lt=(0,b.createAsyncThunk)("appointment/bookAppointment",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await C.post(E,e)}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),nt=(0,b.createSlice)({name:"bookAppointment",initialState:{bookAppointmentdata:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(lt.pending,(e=>{e.loading=!0,e.error=null})).addCase(lt.fulfilled,((e,a)=>{e.loading=!1,e.bookAppointmentdata=a.payload.data})).addCase(lt.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,it=e=>{let{setEventData:a,selectedPatient:t}=e;const[n,i]=(0,l.useState)({scheduleType:"",numberOfSlots:1,mrdNo:"",patientName:"",dob:"",age:"",gender:"",phoneNo:"",emailId:"",notes:"",additionalInfo:"",insurarName:"",notifyPatient:!1}),[r,s]=(0,l.useState)(!1);(0,l.useEffect)((()=>{a(n)}),[n]);const d=e=>{const{name:a,value:t,type:l,checked:n}=e.target;i((e=>({...e,[a]:"checkbox"===l?n:t})))};return(0,l.useEffect)((()=>{if(t){let e=t.dob,a=t.name;e=e?e.split("T")[0]:"",i({...n,...t,dob:e,patientName:a})}}),[t]),(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)(o.Box,{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:2,children:[(0,K.jsxs)(o.TextField,{select:!0,fullWidth:!0,value:n.scheduleType,onChange:d,name:"scheduleType",variant:"outlined",size:"small",label:(0,K.jsxs)(K.Fragment,{children:["Schedule Type ",(0,K.jsx)("span",{style:{color:"red"},children:"*"})]}),children:[(0,K.jsx)(o.MenuItem,{value:"-1",children:"Select..."}),[{type:"Routine Check-Up",id:"1"},{type:"Consultation",id:"2"},{type:"Follow-Up Appointment",id:"3"},{type:"Urgent Care",id:"4"},{type:"Pediatric Appointment",id:"5"},{type:"Chronic Disease Management",id:"6"},{type:"Emergency Visit",id:"7"}].map((e=>(0,K.jsx)(o.MenuItem,{value:e.type,children:e.type},e.type)))]}),(0,K.jsxs)(o.TextField,{select:!0,fullWidth:!0,value:n.numberOfSlots,onChange:e=>d(e),name:"numberOfSlots",variant:"outlined",size:"small",label:"No of Slots",children:[(0,K.jsx)(o.MenuItem,{value:"-1",children:"Select..."}),[1,2,3,4,5,6,7,8].map((e=>(0,K.jsx)(o.MenuItem,{value:e,children:e},e)))]}),(0,K.jsx)(o.TextField,{fullWidth:!0,name:"mrdNo",value:n.mrdNo,onChange:d,variant:"outlined",size:"small",label:"MRD No"}),(0,K.jsx)(o.TextField,{fullWidth:!0,name:"patientName",value:n.patientName,onChange:d,variant:"outlined",size:"small",label:(0,K.jsxs)(K.Fragment,{children:["Patient Name ",(0,K.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,K.jsx)(o.TextField,{fullWidth:!0,name:"dob",value:n.dob,type:"date",onChange:d,variant:"outlined",size:"small",label:(0,K.jsxs)(K.Fragment,{children:[" ","Date of Birth ",(0,K.jsx)("span",{style:{color:"red"},children:"*"})]}),InputLabelProps:{shrink:!0}}),(0,K.jsx)(o.TextField,{fullWidth:!0,name:"age",value:n.age,type:"number",onChange:d,variant:"outlined",size:"small",label:(0,K.jsxs)(K.Fragment,{children:[" ","Age ",(0,K.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,K.jsxs)(o.TextField,{select:!0,fullWidth:!0,name:"gender",value:n.gender,onChange:e=>d(e),variant:"outlined",size:"small",label:(0,K.jsxs)(K.Fragment,{children:[" ","Gender ",(0,K.jsx)("span",{style:{color:"red"},children:"*"})]}),children:[(0,K.jsx)(o.MenuItem,{value:"Female",children:"Female"}),(0,K.jsx)(o.MenuItem,{value:"Male",children:"Male"}),(0,K.jsx)(o.MenuItem,{value:"Other",children:"Other"})]}),(0,K.jsx)(o.TextField,{fullWidth:!0,name:"phoneNo",value:n.phoneNo,type:"tel",onChange:d,placeholder:"Search or type...",variant:"outlined",size:"small",label:(0,K.jsxs)(K.Fragment,{children:[" ","Mobile ",(0,K.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,K.jsx)(o.TextField,{fullWidth:!0,name:"emailId",value:n.emailId,type:"emailId",onChange:d,variant:"outlined",size:"small",label:(0,K.jsxs)(K.Fragment,{children:[" ","Email ",(0,K.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,K.jsx)(o.TextField,{fullWidth:!0,label:"Insurer Name",name:"insurarName",value:n.insurarName,onChange:d,variant:"outlined",size:"small"}),(0,K.jsx)(o.TextField,{fullWidth:!0,name:"notes",value:n.notes,multiline:!0,onChange:d,variant:"outlined",size:"small",label:"Notes"}),(0,K.jsx)(o.TextField,{fullWidth:!0,name:"additionalInfo",value:n.additionalInfo,multiline:!0,onChange:d,variant:"outlined",size:"small",label:"Additional Info"})]}),(0,K.jsxs)(o.Box,{display:"flex",flexDirection:"column",children:[(0,K.jsx)(o.FormControlLabel,{control:(0,K.jsx)(o.Checkbox,{checked:r,onChange:e=>s(e.target.checked),name:"showNotify"}),label:"Notify Patient"}),r&&(0,K.jsx)(o.FormControl,{component:"fieldset",children:(0,K.jsxs)(o.RadioGroup,{name:"notifyPatient",value:n.notifyPatient,onChange:e=>d(e),row:!0,children:[(0,K.jsx)(o.FormControlLabel,{value:"sms",control:(0,K.jsx)(o.Radio,{}),label:"SMS"}),(0,K.jsx)(o.FormControlLabel,{value:"whatsapp",control:(0,K.jsx)(o.Radio,{}),label:"WhatsApp"}),(0,K.jsx)(o.FormControlLabel,{value:"mail",control:(0,K.jsx)(o.Radio,{}),label:"Mail"})]})})]})]})},rt=e=>{var a,t;let{open:n,setOpen:i,handleClose:s,selectedSlot:d,activeTab:c,specialistList:u,facilityList:p,slotDuration:m,getAvailableSlotsForAllDoctors:h,getAllFacilitySchedules:x,addEventToState:v,slotInfo:g,selecteddoctorData:b}=e;const j=(0,o.useTheme)(),y="MMMM Do YYYY, h:mm A",[f,C]=(0,l.useState)(null),{loading:S,setLoading:N}=me(),[w,I]=(0,l.useState)(""),[D,T]=(0,l.useState)(),k=(0,r.useDispatch)(),{searchPatientData:A}=(0,r.useSelector)((e=>null===e||void 0===e?void 0:e.searchPatient));console.log("selectedData:",A);const P=e=>{const a=e.target.value;k(Me({searchKey:a})),I(a)};return(0,K.jsxs)(o.Dialog,{open:n,onClose:s,maxWidth:"lg",fullWidth:!0,children:[(0,K.jsx)($e,{show:S}),(0,K.jsxs)(o.DialogContent,{dividers:!0,children:[(0,K.jsx)("h5",{children:"Book New Appointment"}),(0,K.jsxs)(o.Box,{paddingTop:"1em",children:[(0,K.jsx)("b",{children:"Booking Date:"})," ",Ge()(null===d||void 0===d?void 0:d.start).format(y)," ","- ",Ge()(null===d||void 0===d?void 0:d.end).format(y)]}),"string"===typeof(null===d||void 0===d?void 0:d.resourceId)&&!Je().isNull(parseInt(d.resourceId.split("_")[1]))&&(0,K.jsxs)(o.Box,{paddingY:"1em",children:[(0,K.jsx)("b",{children:"users"===c?"With Doctor:":"For Facility:"})," ","users"===c?null===(a=u.find((e=>e.doctorId===parseInt(d.resourceId.split("_")[1]))))||void 0===a?void 0:a.doctorName:null===(t=p.find((e=>e.facilityId===parseInt(d.resourceId.split("_")[1]))))||void 0===t?void 0:t.doctorName]}),(0,K.jsxs)(o.Box,{padding:"1em",border:`1px solid ${j.palette.divider}`,mt:1,borderRadius:2,children:[(0,K.jsxs)(o.Box,{pb:4,pt:1,children:[(0,K.jsx)(o.Autocomplete,{freeSolo:!0,options:(null===A||void 0===A?void 0:A.data)||[],getOptionLabel:e=>e.name||"",renderInput:e=>(0,K.jsx)(o.TextField,{...e,label:"Search Patients",variant:"outlined",value:w,onChange:P,placeholder:"Type to search...",size:"small",sx:{width:300}}),onChange:(e,a)=>{T(a)}}),(0,K.jsx)("div",{style:{fontSize:"0.7em"},children:"For existing patients search patients with phone, name, dob, or email for auto fill."})]}),(0,K.jsx)(it,{activeTab:c,setEventData:C,resourceId:d.resourceId,specialistList:u,setLoading:N,loading:S,selectedPatient:D})]}),(0,K.jsxs)(o.DialogActions,{children:[(0,K.jsx)(o.Button,{variant:"outlined",onClick:s,children:"Cancel"}),(0,K.jsx)(o.Button,{variant:"contained",onClick:async e=>{var a;if(!f)return void console.error("eventData is not available");const t=Ge()(d.start).format("YYYY-MM-DD");let l={branchId:b.branchId,timeInterval:parseInt(m),appointmentTime:Ge()(d.start).format("HH:mm:ss"),appointmentEndTime:Ge()(d.end).format("HH:mm:ss"),specialityId:null===(a=b.selectedSpecialityData)||void 0===a?void 0:a.specialityId,doctorId:b.doctorId,patientId:null===D||void 0===D?void 0:D.patientId},n={...f,...l};n={branchId:n.branchId,specialityId:n.specialityId,doctorId:n.doctorId,appointmentDate:t,appointmentTime:n.appointmentTime,timeInterval:n.timeInterval,scheduleType:n.scheduleType,mrdNo:n.mrdNo,notes:n.notes,additionalInfo:n.additionalInfo,insurarName:n.insurarName,numberOfSlots:n.numberOfSlots,notifyPatient:n.notifyPatient,patientName:n.patientName,dob:n.dob,age:n.age,gender:n.gender,phoneNo:n.phoneNo,email:n.emailId,patientId:n.patientId};try{var r,o;N(!0);const e=await k(lt(n)),a=null!==(r=null===e||void 0===e||null===(o=e.payload)||void 0===o?void 0:o.message)&&void 0!==r?r:"Appointment booked successfully",t={id:`appointment_${Date.now()}`,title:"",start:g.start,end:g.end,resourceId:g.resourceId};v(t),console.log("New Event Added:",t),"users"===c?h():"rooms"===c&&x(),le([a],"success"),i(!1)}catch(u){var s;console.error("Booking Error:",u),le([null!==(s=null===u||void 0===u?void 0:u.message)&&void 0!==s?s:"Something went wrong! Please try again."],"error")}finally{N(!1)}},children:"Create"})]})]})]})},ot=(0,b.createAsyncThunk)("appointment/cancelSchedule",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await C.post(z,e)}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),st=(0,b.createSlice)({name:"cancelSchedule",initialState:{data:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(ot.pending,(e=>{e.loading=!0,e.error=null})).addCase(ot.fulfilled,((e,a)=>{e.loading=!1,e.data=a.payload.data})).addCase(ot.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,dt=e=>{let{handleClose:a,appointmentId:t,getAvailableSlotsForAllDoctors:n}=e;const{loading:i,setLoading:s}=me(),[d,c]=(0,l.useState)(!1),[u,p]=(0,l.useState)(""),m=(0,r.useDispatch)(),h=JSON.parse(localStorage.getItem("user")),{data:x}=(0,r.useSelector)((e=>e.cancel));x.statusCode;console.log(t,"events");return(0,K.jsxs)(o.Dialog,{open:!0,onClose:a,fullWidth:!0,maxWidth:"sm",children:[(0,K.jsx)($e,{show:i}),(0,K.jsx)(o.DialogTitle,{children:"Cancel Appointment"}),(0,K.jsxs)(o.DialogContent,{children:[(0,K.jsx)(o.Box,{paddingY:2,fontWeight:"bold",children:"Are you sure you want to cancel this appointment?"}),(0,K.jsxs)(o.FormControl,{fullWidth:!0,margin:"normal",size:"small",children:[(0,K.jsx)(o.InputLabel,{children:"Reason For Cancellation"}),(0,K.jsxs)(o.Select,{value:u,onChange:e=>{const a=e.target.value;p(a),c("Others"===a)},label:"Reason For Cancellation",children:[(0,K.jsx)(o.MenuItem,{value:"",children:"Select..."}),["No Show","Change of Plans","Overlapping Appointments","Doctor Unavailability","Others"].map((e=>(0,K.jsx)(o.MenuItem,{value:e,children:e},e)))]})]}),d&&(0,K.jsx)(o.TextField,{label:"Reason",fullWidth:!0,margin:"normal",size:"small",onChange:e=>{p(e.target.value)}})]}),(0,K.jsxs)(o.DialogActions,{children:[(0,K.jsx)(o.Button,{onClick:a,variant:"outlined",color:"secondary",children:"Go Back"}),(0,K.jsx)(o.Button,{onClick:async()=>{if(u){s(!0);try{var e;await m(ot({appointmentId:t,cancellationReason:u,cancelledBy:null===h||void 0===h||null===(e=h.data)||void 0===e?void 0:e.userName})).unwrap();await n(),le(["Appointment Cancelled successfully"],"success"),a()}catch(l){le([l||"Something went wrong"],"error")}}else le(["Please select a reason for cancellation"],"warning")},variant:"contained",color:"error",children:"Yes, Cancel"})]})]})},ct=(0,b.createAsyncThunk)("appointment/reSchedule",(async(e,a)=>{let{rejectWithValue:t}=a;try{return(await C.put(O,e)).data}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),ut=(0,b.createSlice)({name:"reSchedule",initialState:{data:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(ct.pending,(e=>{e.loading=!0,e.error=null})).addCase(ct.fulfilled,((e,a)=>{e.loading=!1,e.data=a.payload.data})).addCase(ct.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,pt=e=>{let{handleClose:a,appointmentId:t,doctorId:n,getAvailableSlotsForAllDoctors:i}=e;const{loading:s}=me(),[d,u]=(0,l.useState)(ga()()),[p,m]=(0,l.useState)(ga()()),h=(0,r.useDispatch)(),{statusCode:x}=(0,r.useSelector)((e=>e.reschedule));console.log(x,"code"),console.log("doctor id:",n);return(0,K.jsxs)(o.Dialog,{open:!0,onClose:()=>a(!1),maxWidth:"sm",fullWidth:!0,children:[s&&(0,K.jsx)(o.Typography,{align:"center",children:"Loading..."}),(0,K.jsx)(o.DialogTitle,{children:"Reschedule Appointment"}),(0,K.jsx)(o.DialogContent,{children:(0,K.jsx)(c.LocalizationProvider,{dateAdapter:ha.R,children:(0,K.jsxs)("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:[(0,K.jsxs)("div",{children:[(0,K.jsx)(o.Typography,{variant:"body1",sx:{marginBottom:1},children:"Appointment Date"}),(0,K.jsx)(c.DatePicker,{value:d,onChange:e=>{u(e)},slotProps:{textField:{size:"small"}}})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)(o.Typography,{variant:"body1",sx:{marginBottom:1},children:"Appointment Time"}),(0,K.jsx)(c.TimePicker,{value:p,onChange:e=>{m(e)},ampm:!1,minutesStep:15,slotProps:{textField:{size:"small"}}})]})]})})}),(0,K.jsxs)(o.DialogActions,{children:[(0,K.jsx)(o.Button,{variant:"outlined",onClick:()=>a(!1),children:"Cancel"}),(0,K.jsx)(o.Button,{variant:"contained",color:"primary",onClick:async()=>{try{await h(ct({appointmentId:t,appointmentDate:d.format("YYYY-MM-DD"),appointmentTime:p.format("HH:mm:ss"),doctorId:n})).unwrap(),await i(),a()}catch(e){le([e||"Something went wrong"],"error")}},children:"Ok"})]})]})},mt={width:"30px",height:"30px",borderRadius:"50%",backgroundColor:"rgb(93, 104, 104)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer"},ht=e=>{var a;let{slotDuration:t=15,setEvents:n,getAvailableSlotsForAllDoctors:i}=e;const[s,d]=(0,l.useState)(!1),[c,u]=(0,l.useState)(null),[m,h]=(0,l.useState)(!1),[x,v]=(0,l.useState)(!1),g=(0,p.useNavigate)(),{doctorAvailableData:b}=(0,r.useSelector)((e=>(null===e||void 0===e?void 0:e.docAvailable)||[]));return(0,l.useEffect)((()=>{if(null===b||void 0===b||!b.data)return void console.warn("No doctorAvailableData found.");const e={};b.data.forEach((a=>{var t;null===a||void 0===a||null===(t=a.specialitySlots)||void 0===t||t.forEach((t=>{var l;null===t||void 0===t||null===(l=t.bookedSlotDetails)||void 0===l||l.forEach((l=>{const n=Ge()(l.appointmentTime,"HH:mm").format("HH:mm"),i=`${a.doctorId}-${t.specialityId}`;e[n]||(e[n]={}),e[n][i]||(e[n][i]=[]),e[n][i].push({doctorId:a.doctorId,specialityId:t.specialityId,appointmentId:l.appointmentId,appointmentTime:l.appointmentTime,appointmentDate:l.appointmentDate,patientName:l.patientName||"--",phoneNo:l.phoneNo||"--",mrdNo:l.mrdNo||null,notes:l.notes||"--"})}))}))}));const a=[];Object.entries(e).forEach((e=>{let[l,n]=e;Object.entries(n).forEach((e=>{let[n,i]=e;const r=i[0];a.push({title:(0,K.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:1===i.length?(0,K.jsxs)("div",{className:"d-flex flex-row gap-3",children:[(0,K.jsxs)("div",{className:"d-flex flex-column",children:[(0,K.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,K.jsx)("div",{style:mt,children:r.mrdNo?"F":"N"}),(0,K.jsx)("span",{style:{fontWeight:"bold"},children:r.patientName||"--"})]}),(0,K.jsxs)("div",{className:"mt-1",children:["\xa0 ",(0,K.jsx)($.Phone,{})," \xa0\xa0",r.phoneNo||"--"]}),(0,K.jsxs)("div",{className:"mt-1",children:["\xa0 ",(0,K.jsx)($.Note,{})," \xa0\xa0",r.notes||"--"]})]}),(0,K.jsxs)(o.Box,{className:"d-flex flex-column flex-wrap",children:[(0,K.jsx)(o.Tooltip,{title:"Reschedule",children:(0,K.jsx)(o.IconButton,{onClick:()=>{h(!0),u(r)},sx:{padding:"2px",color:"blue",marginY:"3px"},children:(0,K.jsx)($.Schedule,{})})}),(0,K.jsx)(o.Tooltip,{title:r.mrdNo?"Revisit":"Registration",children:(0,K.jsx)(o.IconButton,{onClick:()=>g("/secure/registration",{state:{bookedDetails:r}}),sx:{padding:"2px",color:"green"},children:r.mrdNo?(0,K.jsx)($.Replay,{}):(0,K.jsx)($.AppRegistration,{})})}),(0,K.jsx)(o.Tooltip,{title:"Cancel",children:(0,K.jsx)(o.IconButton,{onClick:()=>{v(!0),u(r)},sx:{padding:"2px",color:"red"},children:(0,K.jsx)($.Cancel,{})})})]})]}):i.map(((e,a)=>{var t;return(0,K.jsx)("div",{className:"slot-avatar",onClick:()=>{u(e),d(!0)},children:(null===(t=e.patientName)||void 0===t?void 0:t.charAt(0))||"--"},a)}))}),start:Ge()(l,"HH:mm").toDate(),end:Ge()(l,"HH:mm").add(t,"minutes").toDate(),resourceId:r.doctorId,specialityId:r.specialityId,appointmentId:r.appointmentId,className:"booked-slot"})}))})),"function"===typeof n&&n(a)}),[b,t]),(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)(o.Dialog,{open:s,onClose:()=>d(!1),maxWidth:"sm",fullWidth:!0,children:[(0,K.jsx)(o.DialogTitle,{children:"Appointment Details"}),(0,K.jsx)(o.DialogContent,{children:c&&(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)(o.Box,{className:"d-flex gap-2",style:{alignItems:"center"},children:[(0,K.jsx)("div",{style:mt,children:(null===(a=c.patientName)||void 0===a?void 0:a.charAt(0))||"--"}),(0,K.jsx)("span",{style:{fontWeight:"bold"},children:c.patientName||"--"})]}),(0,K.jsxs)("div",{className:"mt-2",children:[(0,K.jsx)("i",{className:"bi bi-telephone m-1"})," ",c.phoneNo||"--"]})]})}),(0,K.jsxs)(o.DialogActions,{children:[(0,K.jsx)(o.Tooltip,{title:"Reschedule",children:(0,K.jsx)(o.IconButton,{onClick:()=>{h(!0),d(!1)},color:"primary",children:(0,K.jsx)($.Schedule,{})})}),(0,K.jsx)(o.Tooltip,{title:"Cancel",children:(0,K.jsx)(o.IconButton,{onClick:()=>{v(!0),d(!1)},children:(0,K.jsx)($.Cancel,{})})}),(0,K.jsx)(o.Tooltip,{title:"Registration",children:(0,K.jsx)(o.IconButton,{onClick:()=>{g("/secure/registration",{state:{bookedDetails:c}}),d(!1)},children:null!==c&&void 0!==c&&c.mrdNo?(0,K.jsx)($.Replay,{}):(0,K.jsx)($.AppRegistration,{})})}),(0,K.jsx)(o.Button,{onClick:()=>d(!1),children:"Close"})]})]}),x&&(0,K.jsx)(dt,{handleClose:()=>v(!1),appointmentId:null===c||void 0===c?void 0:c.appointmentId,getAvailableSlotsForAllDoctors:i}),m&&(0,K.jsx)(pt,{handleClose:()=>h(!1),appointmentId:null===c||void 0===c?void 0:c.appointmentId,doctorId:null===c||void 0===c?void 0:c.doctorId,getAvailableSlotsForAllDoctors:i})]})},xt=(0,et.A)(Za.Calendar),vt=e=>{let{selectedDate:a,setSelectedDate:t,filteredDoctors:n,slotDuration:i,activeTab:s,selectedSpeciality:d}=e;const c=(0,Za.momentLocalizer)(Ge()),u=(0,r.useDispatch)(),[p,m]=(0,l.useState)([]),[h,x]=(0,l.useState)([]),[v,g]=(0,l.useState)(!1),[b,j]=(0,l.useState)(null),[y,f]=(0,l.useState)([]),[C,S]=(0,l.useState)(null),{doctorAvailableData:N,loading:w}=(0,r.useSelector)((e=>(null===e||void 0===e?void 0:e.docAvailable)||[]));(0,l.useEffect)((()=>{m(null===N||void 0===N?void 0:N.data)}),[N]);const I=(e,a,t)=>{if(!p||!Array.isArray(p))return!1;const l=p.find((e=>e.doctorId===Number(a)));if(!l||!l.specialitySlots)return!1;const n=l.specialitySlots.find((e=>e.specialityId===Number(t)));return!!n&&(n.availableSlots.includes(e)&&!n.bookedSlots.includes(e))},D=(e,a,t)=>{if(!p||!Array.isArray(p))return!1;const l=p.find((e=>e.doctorId===Number(a)));if(!l||!l.specialitySlots)return!1;const n=l.specialitySlots.find((e=>e.specialityId===Number(t)));return!!n&&n.bookedSlots.includes(e)},T=(0,l.useMemo)((()=>(e,a)=>{const t=(e=>Ge()(e).format("HH:mm"))(e),l=I(t,a,d);let n="",i="#D0DDD0";return D(t,a,d)?(n="booked-slot",i="#9db4c0"):l&&(n="available-slot",i="#90e0ef"),{className:n,style:{backgroundColor:i,borderRadius:"3px"}}}),[p,d]),k=(0,l.useCallback)((()=>{if(a){const e=Ge()(a).format("YYYY-MM-DD");u(at({interval:"60"===i?"SIXTY_MINUTES":"30"===i?"THIRTY_MINUTES":"FIFTEEN_MINUTES",date:e}))}}),[u,a,i]);(0,l.useEffect)((()=>{k()}),[k]);const A=(0,l.useCallback)((function(e){"users"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"users")&&x(e.map((e=>({id:e.doctorId,title:e.doctorName}))))}),[]);(0,l.useEffect)((()=>{n&&A(n,s)}),[n,s,A]);return(0,K.jsxs)(o.Box,{width:"100%",overflow:"auto",children:[(0,K.jsx)($e,{show:w}),(0,K.jsx)(ht,{slotDuration:i,setEvents:f,getAvailableSlotsForAllDoctors:k}),(0,K.jsx)(xt,{date:a,selectable:!0,localizer:c,events:y.map((e=>({...e,title:e.title||"No Title"}))),resources:h,resourceIdAccessor:"id",resourceTitleAccessor:"title",onNavigate:t,startAccessor:"start",endAccessor:"end",style:{height:"80vh",width:"100%"},step:i,timeslots:1,views:["day","agenda"],defaultView:"day",onSelectSlot:e=>{const a=Ge()(e.start).format("HH:mm"),t=e.resourceId,l=d;if(Ge()(e.start).isBefore(Ge()(),"minute"))return void le(["You cannot select a past time slot."],"error");const n=I(a,t,l),i=D(a,t,l);if(n||i){const a=p.find((e=>e.doctorId===Number(t)));if(a){const e=a.specialitySlots.find((e=>e.specialityId===Number(l)));S({...a,selectedSpecialityData:e})}j(e),g(!0)}else le(["The selected time slot is not available."],"error")},toolbar:!0,eventPropGetter:e=>({style:{backgroundColor:"inherit",color:"black",marginTop:"5px",border:"none",outline:"none"}}),slotPropGetter:T,scrollToTime:new Date(1970,1,1,9,0,0)},y.length),v&&(0,K.jsx)(rt,{open:v,setOpen:g,selectedSlot:b,handleClose:()=>g(!1),activeTab:s,slotDuration:i,getAvailableSlotsForAllDoctors:k,setSelectedSlot:j,slotInfo:b,selecteddoctorData:C,addEventToState:e=>{e.title?f([...y,e]):console.error("Event title is missing!",e)}})]})},gt=()=>{const e=(0,r.useDispatch)(),[a,t]=(0,l.useState)(!0),[n,i]=(0,l.useState)(new Date),[s,d]=(0,l.useState)("users"),[c,u]=(0,l.useState)(""),[p,m]=(0,l.useState)(""),[h,x]=(0,l.useState)(""),{doctorData:v,docloading:g}=(0,r.useSelector)((e=>null===e||void 0===e?void 0:e.allDoctor)),b=(null===v||void 0===v?void 0:v.data)||[],{data:j}=(0,r.useSelector)((e=>null===e||void 0===e?void 0:e.allBranch)),y=null===j||void 0===j?void 0:j.data;console.log("branchData",y);const f=g;(0,l.useEffect)((()=>{e(Be())}),[e]);const C=c?b.filter((e=>e.specialityId===c)):[];return(0,K.jsxs)(o.Box,{display:"flex",width:"100%",children:[(0,K.jsx)($e,{show:f}),(0,K.jsxs)("div",{children:[(0,K.jsx)("div",{children:(0,K.jsx)("button",{onClick:()=>t(!a),style:{backgroundColor:"#F0F8F8",color:"#333",border:"1px solid #ccc",borderRadius:"8px",padding:"5px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)",cursor:"pointer",fontSize:"12px",transition:"background-color 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease"},children:a?(0,K.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,K.jsx)($.ChevronLeft,{}),(0,K.jsx)("span",{style:{fontWeight:"500"},children:"Filter Calendar"})]}):(0,K.jsx)($.ChevronRight,{})})}),a&&(0,K.jsxs)(o.Box,{width:"280px",overflow:"auto",maxHeight:"calc(100vh - 80px)",borderRight:"1px solid #ccc",padding:"5px",children:[(0,K.jsx)(bt,{value:Ge()(n),onChange:e=>i(e.toDate())}),(0,K.jsx)(o.Box,{mt:2,children:(0,K.jsx)(fe,{tabsList:[{name:"Doctors",value:"users"},{name:"Rooms",value:"rooms"}],defaultTab:"users",setActiveTab:d})}),"users"===s&&(0,K.jsxs)(o.Box,{display:"flex",flexDirection:"column",gap:2,mt:1,children:[(0,K.jsxs)(o.FormControl,{fullWidth:!0,size:"small",children:[(0,K.jsx)(o.InputLabel,{children:"Select Branch"}),(0,K.jsxs)(o.Select,{value:p,onChange:e=>{var a;const t=(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value)||"";m(t);const l=null===y||void 0===y?void 0:y.find((e=>e.branchName===t));x((null===l||void 0===l?void 0:l.branchName)||"")},label:"Select Branch",children:[(0,K.jsx)(o.MenuItem,{value:"",children:"Select"}),null===y||void 0===y?void 0:y.map((e=>(0,K.jsx)(o.MenuItem,{value:null===e||void 0===e?void 0:e.branchName,children:null===e||void 0===e?void 0:e.branchName},null===e||void 0===e?void 0:e.branchId)))]})]}),(0,K.jsxs)(o.FormControl,{fullWidth:!0,size:"small",disabled:!h,children:[(0,K.jsx)(o.InputLabel,{children:"Select Speciality"}),(0,K.jsxs)(o.Select,{value:c,onChange:e=>{var a;const t=(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value)||"";u(t)},label:"Select Speciality",children:[(0,K.jsx)($e,{show:f}),(0,K.jsx)(o.MenuItem,{value:"",children:"Select"}),Array.from(new Map(b.filter((e=>e.branchName===h)).map((e=>[e.specialityId,{label:e.specialityName||"Unknown",value:e.specialityId}]))).values()).map((e=>(0,K.jsx)(o.MenuItem,{value:e.value,children:e.label},e.value)))]})]})]})]})]}),(0,K.jsx)(o.Box,{flex:1,sx:{ml:"10px"},children:(0,K.jsx)(o.Box,{flex:1,children:(0,K.jsx)(vt,{selectedDate:n,setSelectedDate:i,filteredDoctors:C,slotDuration:15,activeTab:s,selectedSpeciality:c})})})]})},bt=(0,o.styled)(c.DateCalendar)((()=>({backgroundColor:"#fff",maxHeight:"320px",width:"250px",transformOrigin:"top left","& .MuiDateCalendar-days":{fontSize:"12px"},"& .MuiPickersCalendarHeader-root":{backgroundColor:"#D0DDD0",fontSize:"14px"}}))),jt=()=>(0,K.jsx)("div",{children:(0,K.jsx)(gt,{})}),yt=()=>{const[e,a]=(0,l.useState)("doctor_appointment");return(0,K.jsxs)(o.Box,{style:{width:"100%"},className:"p-3",children:[(0,K.jsx)(o.Box,{display:"flex",justifyContent:"space-between",children:(0,K.jsx)(fe,{tabsList:[{name:"Doctor Appointment",value:"doctor_appointment",icon:""},{name:"Schedule List",value:"schedule_list",icon:""},{name:"Facility Schedule List",value:"facility_schedule_list",icon:""},{name:"Patient Recall",value:"patient_recall",icon:""},{name:"Patient Vaccination Schedules",value:"patient_vaccination_schedules",icon:""}],defaultTab:"doctor_appointment",setActiveTab:a})}),(0,K.jsxs)(o.Box,{width:"100%",children:["doctor_appointment"===e&&(0,K.jsx)(jt,{}),"schedule_list"===e&&(0,K.jsx)(Ze,{}),"patient_recall"===e&&(0,K.jsx)(aa,{}),"patient_vaccination_schedules"===e&&(0,K.jsx)(la,{})]})]})},ft=()=>{const[e,a]=(0,l.useState)(!1);return(0,K.jsx)("div",{children:e?(0,K.jsxs)("div",{className:"form-details-section mt-4",children:[(0,K.jsx)(we,{label:" No. of Branches"}),(0,K.jsx)(we,{label:"Logo",type:"file"}),(0,K.jsx)(we,{label:"TRN No"}),(0,K.jsx)(we,{label:"Location"}),(0,K.jsx)(we,{label:"DHA License No"}),(0,K.jsx)(we,{label:"Address"}),(0,K.jsx)(we,{label:"DHA User Name"}),(0,K.jsx)(we,{label:"Password"}),(0,K.jsx)(we,{label:"Email ID"}),(0,K.jsx)(we,{label:"Mobile No"}),(0,K.jsx)(we,{label:"Website Link"}),(0,K.jsx)("div",{children:(0,K.jsx)(o.Button,{color:"primary",children:"Create"})})]}):(0,K.jsxs)("div",{className:"form-details-section ",children:[(0,K.jsx)(we,{label:" Hospital Name"}),(0,K.jsx)(we,{label:"Address"}),(0,K.jsx)(we,{label:"Zone(district)"}),(0,K.jsx)(we,{label:"City"}),(0,K.jsx)(we,{label:"Postal Code"}),(0,K.jsx)("div",{children:(0,K.jsx)(o.Button,{color:"primary",onClick:()=>a(!0),children:"Save"})})]})})},Ct=e=>{let{onClose:a}=e;return(0,K.jsx)(o.Dialog,{open:!0,onClose:a,fullWidth:!0,children:(0,K.jsxs)(o.DialogContent,{children:[(0,K.jsx)("h6",{children:"Edit Hospital"}),(0,K.jsxs)("div",{children:[(0,K.jsx)(we,{label:" Hospital Name"}),(0,K.jsx)(we,{label:"Address"}),(0,K.jsx)(we,{label:"Zone(district)"}),(0,K.jsx)(we,{label:"City"}),(0,K.jsx)(we,{label:"Postal Code"}),(0,K.jsx)("div",{children:(0,K.jsx)(o.Button,{children:"Update"})})]})]})})},St=e=>{let{onClose:a}=e;return(0,K.jsx)(o.Dialog,{open:!0,onClose:a,fullWidth:!0,children:(0,K.jsxs)(o.DialogContent,{children:[(0,K.jsx)("h6",{children:"Edit Branch"}),(0,K.jsxs)("div",{className:"form-container",children:[(0,K.jsx)(we,{label:" No. of Branches"}),(0,K.jsx)(we,{label:"Logo",type:"file"}),(0,K.jsx)(we,{label:"TRN No"}),(0,K.jsx)(we,{label:"Location"}),(0,K.jsx)(we,{label:"DHA License No"}),(0,K.jsx)(we,{label:"Address"}),(0,K.jsx)(we,{label:"DHA User Name"}),(0,K.jsx)(we,{label:"Password"}),(0,K.jsx)(we,{label:"Email ID"}),(0,K.jsx)(we,{label:"Mobile No"}),(0,K.jsx)(we,{label:"Website Link"}),(0,K.jsx)("div",{children:(0,K.jsx)(o.Button,{color:"primary",children:"Update"})})]})]})})},Nt=()=>{const[e,a]=(0,l.useState)(!1),[t,n]=(0,l.useState)(),[i,r]=(0,l.useState)(),s=[{title:"S No",dataIndex:"sNo",key:"sNo"},{title:"Branch Name",dataIndex:"BranchName",key:"BranchName"},{title:"Address",dataIndex:"address",key:"address"},{title:"Speciality/Department",dataIndex:"SpecialityDepartment",key:"SpecialityDepartment",render:(e,t)=>(0,K.jsx)("span",{style:{color:"blue",fontWeight:"bold",cursor:"pointer"},onClick:()=>{a(!0)},children:e})},{title:"Options",key:"actions",render:(e,a)=>(0,K.jsxs)("div",{children:[(0,K.jsx)($.EditOutlined,{style:{color:"blue",cursor:"pointer"},onClick:()=>{r(!0)}}),(0,K.jsx)($.DeleteOutline,{style:{color:"red",cursor:"pointer",marginLeft:"10px"},onClick:()=>{}})]})}];return(0,K.jsxs)("div",{children:[(0,K.jsx)(ft,{}),(0,K.jsxs)("div",{className:"table-container",children:[(0,K.jsxs)("h6",{children:["ABC Hospital"," ",(0,K.jsx)("span",{children:(0,K.jsx)(o.IconButton,{size:"small",onClick:()=>n(!0),children:(0,K.jsx)($.EditOutlined,{})})})]}),(0,K.jsx)(be.Table,{columns:s,dataSource:[{key:"1",sNo:1,BranchName:"ABC Hospital-Thanjavur",address:"123 Street, NY",SpecialityDepartment:"Add"},{key:"2",sNo:2,BranchName:"ABC Hospital-Kumbakonam",address:"456 Avenue, LA",SpecialityDepartment:""}],size:"middle",className:"m-4"})]}),t&&(0,K.jsx)(Ct,{onClose:()=>n(!1)}),i&&(0,K.jsx)(St,{onClose:()=>r(!1)})]})},{TabPane:wt}=be.Tabs,It=()=>(0,K.jsx)("div",{className:"w-100 m-3",style:{overflow:"auto"},children:(0,K.jsxs)(be.Tabs,{defaultActiveKey:"1",type:"card",children:[(0,K.jsx)(wt,{tab:"Org",children:(0,K.jsx)(Nt,{})},"1"),(0,K.jsx)(wt,{tab:"Speciality"},"2"),(0,K.jsx)(wt,{tab:"User Setup"},"3"),(0,K.jsx)(wt,{tab:"InPatient"},"4"),(0,K.jsx)(wt,{tab:"Appointment"},"5")]})}),Dt=n().lazy((()=>t.e(7294).then(t.t.bind(t,17294,23)))),Tt=n().lazy((()=>t.e(4992).then(t.t.bind(t,74992,23)))),kt=n().lazy((()=>t.e(4435).then(t.t.bind(t,14435,23)))),At=n().lazy((()=>t.e(5837).then(t.t.bind(t,65837,23)))),Pt=n().lazy((()=>t.e(881).then(t.t.bind(t,60881,23)))),Bt=n().lazy((()=>t.e(5887).then(t.t.bind(t,95887,23)))),Rt=n().lazy((()=>t.e(8867).then(t.t.bind(t,68867,23)))),_t=n().lazy((()=>t.e(9061).then(t.t.bind(t,39061,23)))),Ft=n().lazy((()=>t.e(1538).then(t.t.bind(t,91538,23)))),Lt=n().lazy((()=>t.e(3433).then(t.t.bind(t,33433,23)))),Et=n().lazy((()=>t.e(9987).then(t.t.bind(t,9987,23)))),Mt=[...ve,...[{path:"/secure",exact:!0,secure:!0,component:()=>(0,K.jsx)(p.Navigate,{to:"/secure/landing"})},{path:"/secure/landing",exact:!0,secure:!0,component:Z},{path:"/secure/appointment",exact:!0,secure:!0,component:yt},{path:"/secure/registration",exact:!0,secure:!0,component:ra},{path:"/secure/billing/list",exact:!0,secure:!0,component:()=>{const e=(0,p.useNavigate)();return(0,K.jsx)(l.Suspense,{fallback:(0,K.jsx)(Xa,{}),children:(0,K.jsx)(Dt,{navigate:e})})}},{path:"/secure/billing/details",exact:!0,secure:!0,component:()=>(0,K.jsx)(l.Suspense,{fallback:(0,K.jsx)(Xa,{}),children:(0,K.jsx)(Tt,{})})},{path:"/secure/ipemr",exact:!0,secure:!0,component:()=>(0,K.jsx)(l.Suspense,{fallback:(0,K.jsx)(Xa,{}),children:(0,K.jsx)(kt,{})})},{path:"/secure/bedandward",exact:!0,secure:!0,component:()=>{const e=(0,p.useNavigate)();return(0,K.jsx)(l.Suspense,{fallback:(0,K.jsx)(Xa,{}),children:(0,K.jsx)(At,{navigate:e})})}},{path:"/secure/bedandward/:name",exact:!0,secure:!0,component:()=>(0,K.jsx)(l.Suspense,{fallback:(0,K.jsx)(Xa,{}),children:(0,K.jsx)(Pt,{})})},{path:"/secure/doctorEmr",exact:!0,secure:!0,component:()=>{const e=(0,p.useNavigate)();return(0,K.jsx)(l.Suspense,{fallback:(0,K.jsx)(Xa,{}),children:(0,K.jsx)(Bt,{navigate:e})})}},{path:"/secure/doctorEmr/ipDetails/:name",exact:!0,secure:!0,component:()=>(0,K.jsx)(l.Suspense,{fallback:(0,K.jsx)(Xa,{}),children:(0,K.jsx)(Rt,{})})},{path:"/secure/doctorEmr/opDetails/:name",exact:!0,secure:!0,component:()=>(0,K.jsx)(l.Suspense,{fallback:(0,K.jsx)(Xa,{}),children:(0,K.jsx)(_t,{})})},{path:"/secure/lab",exact:!0,secure:!0,component:()=>(0,K.jsx)(l.Suspense,{fallback:(0,K.jsx)(Xa,{}),children:(0,K.jsx)(Et,{})})},{path:"/secure/nurseEmr",exact:!0,secure:!0,component:()=>{const e=(0,p.useNavigate)();return(0,K.jsx)(l.Suspense,{fallback:(0,K.jsx)(Xa,{}),children:(0,K.jsx)(Ft,{navigate:e})})}},{path:"/secure/nurseEmr/:name",exact:!0,secure:!0,component:()=>(0,K.jsx)(l.Suspense,{fallback:(0,K.jsx)(Xa,{}),children:(0,K.jsx)(Lt,{})})},{path:"/secure/privileges",exact:!0,secure:!0,component:Va},{path:"/secure/insurance",exact:!0,secure:!0,component:Qa},{path:"/doctor/dashboard",exact:!0,secure:!0,component:Oa},{path:"/secure/master",exact:!0,secure:!0,component:It}]];t(2574);const Ot=e=>{let{children:a}=e;return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(te.ToastContainer,{position:"top-right",autoClose:!1,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnHover:!0,closeButton:!1,theme:"light",toastClassName:e=>{let{type:a}=e;switch(a){case"success":return"toast-success";case"error":return"toast-error";case"warning":return"toast-warning";default:return"toast-info"}}}),a]})};t(83019),t(25008),t(99710);class zt extends n().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,a){console.error("Error caught in Error Boundary:",e,a)}render(){return this.state.hasError?(0,K.jsx)("h3",{children:"Something went wrong. Please try again later."}):this.props.children}}const Wt=zt,Vt=(0,b.createAsyncThunk)("appointment/allAppointment",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await C.get(w,{params:e})}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),Yt=(0,b.createSlice)({name:"allAppointment",initialState:{data:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Vt.pending,(e=>{e.loading=!0,e.error=null})).addCase(Vt.fulfilled,((e,a)=>{e.loading=!1,e.data=a.payload.data})).addCase(Vt.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,Ht=(0,b.createAsyncThunk)("facility/allFacilitySchedules",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await C.get(k,e)}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),qt=(0,b.createSlice)({name:"allFacilitySchedules",initialState:{facilitiesSheduleData:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Ht.pending,(e=>{e.loading=!0,e.error=null})).addCase(Ht.fulfilled,((e,a)=>{e.loading=!1,e.facilitiesSheduleData=a.payload.data})).addCase(Ht.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,Gt=(0,b.createAsyncThunk)("timeslot/facilitiesAvailability",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await C.get(A,{params:e})}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),$t=(0,b.createSlice)({name:"facilitiesAvailability",initialState:{facilitiesAvailableData:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Gt.pending,(e=>{e.loading=!0,e.error=null})).addCase(Gt.fulfilled,((e,a)=>{e.loading=!1,e.facilitiesAvailableData=a.payload.data})).addCase(Gt.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,Ut=(0,b.createAsyncThunk)("facility/allFacilities",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await C.get(D,{params:e})}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),Kt=(0,b.createSlice)({name:"allFacilities",initialState:{facilitiesData:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Ut.pending,(e=>{e.loading=!0,e.error=null})).addCase(Ut.fulfilled,((e,a)=>{e.loading=!1,e.facilitiesData=a.payload.data})).addCase(Ut.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,Jt=(0,b.createAsyncThunk)("doctor/searchDoctors",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await C.get(P,{params:e})}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),Qt=(0,b.createSlice)({name:"searchDoctors",initialState:{searchdoctorData:[],searchDocloading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Jt.pending,(e=>{e.searchDocloading=!0,e.error=null})).addCase(Jt.fulfilled,((e,a)=>{e.searchDocloading=!1,e.searchdoctorData=a.payload.data})).addCase(Jt.rejected,((e,a)=>{e.searchDocloading=!1,e.error=a.payload}))}}).reducer,Xt=(0,b.createAsyncThunk)("facility/searchFacilities",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await C.get(B,{params:e})}catch(i){var l,n;return t(null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)}})),Zt={auth:H,allBranch:G,allAppoint:Yt,allDoctor:Re,allFacility:Kt,docAvailable:tt,facilitySchedule:qt,facilityAvailable:$t,searchDoctor:Qt,searchFacility:(0,b.createSlice)({name:"searchFacilities",initialState:{searchfacilityData:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Xt.pending,(e=>{e.loading=!0,e.error=null})).addCase(Xt.fulfilled,((e,a)=>{e.loading=!1,e.searchfacilityData=a.payload.data})).addCase(Xt.rejected,((e,a)=>{e.loading=!1,e.error=a.payload}))}}).reducer,searchPatient:Oe,regPatient:Te,revisit:We,emergency:Le,bookAppoint:nt,schedule:He,reschedule:ut,cancel:st},el=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,b.combineReducers)({...Zt,...e})},al=(0,b.configureStore)({reducer:el()});al.asyncReducers={},al.injectReducer=(e,a)=>{al.asyncReducers[e]?console.warn(`Reducer "${e}" is already injected.`):(console.log(`Injecting reducer: ${e}`),al.asyncReducers[e]=a,al.replaceReducer(el(al.asyncReducers)),console.log("Updated Redux state:",al.getState()))};const tl=al,ll=()=>{const[e,a]=(()=>{const[e,a]=(0,l.useState)("light"),t=(0,l.useMemo)((()=>({toggleColorMode:()=>a((e=>"light"===e?"dark":"light"))})),[]);return[(0,l.useMemo)((()=>(0,s.A)((e=>{const a=(e=>({..."dark"===e?{grey:{100:"#e0e0e0",200:"#c2c2c2",300:"#a3a3a3",400:"#858585",500:"#666666",600:"#525252",700:"#3d3d3d",800:"#292929",900:"#141414"},primary:{100:"#d0d1d5",200:"#a1a4ab",300:"#727681",400:"#1F2A40",500:"#011d65",600:"#101624",700:"#0c101b",800:"#080b12",900:"#040509"},greenAccent:{100:"#dbf5ee",200:"#b7ebde",300:"#94e2cd",400:"#70d8bd",500:"#4cceac",600:"#3da58a",700:"#2e7c67",800:"#1e5245",900:"#0f2922"},redAccent:{100:"#f8dcdb",200:"#f1b9b7",300:"#e99592",400:"#e2726e",500:"#db4f4a",600:"#af3f3b",700:"#832f2c",800:"#58201e",900:"#2c100f"},blueAccent:{100:"#e1e2fe",200:"#c3c6fd",300:"#a4a9fc",400:"#868dfb",500:"#6870fa",600:"#535ac8",700:"#3e4396",800:"#2a2d64",900:"#151632"}}:{grey:{100:"#141414",200:"#292929",300:"#3d3d3d",400:"#525252",500:"#666666",600:"#858585",700:"#a3a3a3",800:"#c2c2c2",900:"#e0e0e0"},primary:{100:"#040509",200:"#080b12",300:"#0c101b",400:"#f2f0f0",500:"#141b2d",600:"#1F2A40",700:"#727681",800:"#a1a4ab",900:"#d0d1d5"},greenAccent:{100:"#0f2922",200:"#1e5245",300:"#2e7c67",400:"#3da58a",500:"#4cceac",600:"#70d8bd",700:"#94e2cd",800:"#b7ebde",900:"#dbf5ee"},redAccent:{100:"#2c100f",200:"#58201e",300:"#832f2c",400:"#af3f3b",500:"#db4f4a",600:"#e2726e",700:"#e99592",800:"#f1b9b7",900:"#f8dcdb"},blueAccent:{100:"#151632",200:"#2a2d64",300:"#3e4396",400:"#535ac8",500:"#6870fa",600:"#868dfb",700:"#a4a9fc",800:"#c3c6fd",900:"#e1e2fe"}}}))(e);return{palette:{mode:e,..."dark"===e?{primary:{main:a.primary[500]},secondary:{main:a.greenAccent[500]},neutral:{dark:a.grey[700],main:a.grey[500],light:a.grey[100]},background:{default:a.primary[500]}}:{primary:{main:a.primary[100]},secondary:{main:a.greenAccent[500]},neutral:{dark:a.grey[700],main:a.grey[500],light:a.grey[100]},background:{default:"#fcfcfc"}}},typography:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:12,h1:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:40},h2:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:32},h3:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:24},h4:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:20},h5:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:16},h6:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:14}}}})(e))),[e]),t]})();return(0,l.useEffect)((()=>{t.e(3895).then(t.t.bind(t,53895,23)).then((e=>{let{default:a}=e;console.log("Billing Reducer Loaded:",a),tl.injectReducer&&tl.injectReducer("billing",a)})).catch((e=>console.error("Failed to load billingReducer:",e))),t.e(895).then(t.t.bind(t,90895,23)).then((e=>{let{default:a}=e;console.log("ip Reducer Loaded:",a),tl.injectReducer&&tl.injectReducer("ip",a)})).catch((e=>console.error("Failed to load ipReducer:",e))),t.e(2589).then(t.t.bind(t,42589,23)).then((e=>{let{default:a}=e;console.log("bedAndWardReducer Loaded:",a),tl.injectReducer&&tl.injectReducer("bedAndWard",a)})).catch((e=>console.error("Failed to load bedAndWardReducer:",e)))}),[]),(0,K.jsx)(Wt,{children:(0,K.jsx)(r.Provider,{store:tl,children:(0,K.jsx)(c.LocalizationProvider,{dateAdapter:u.Y,children:(0,K.jsx)(pe,{children:(0,K.jsx)(d.Provider,{value:a,children:(0,K.jsx)(o.ThemeProvider,{theme:e,children:(0,K.jsxs)(Ot,{children:[(0,K.jsx)(o.CssBaseline,{}),(0,K.jsx)(ae,{routes:Mt})]})})})})})})})};i.createRoot(document.getElementById("root")).render((0,K.jsx)(p.BrowserRouter,{children:(0,K.jsx)(ll,{})}))}}]);
//# sourceMappingURL=9223.f2e765f0.chunk.js.map